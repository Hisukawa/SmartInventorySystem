import{b as n,j as e,H as o,R as c}from"./app-ZZeD7AEa.js";import{d as p}from"./index-BOEdYEwE.js";import"./sweetalert2.esm.all-BQIkj5Wb.js";import{S as x,a as h,b as j,c as u}from"./avatar-_p9bR5M7.js";import{N}from"./Notification-CXAoybks.js";import{B as y,a as b,b as g,c as f}from"./breadcrumb-CyFgCU8j.js";import{A as v}from"./app-sidebar-BHgbwLmU.js";import{T as w}from"./TopNavBar-ZIoChGw-.js";import"./index-CGT50vQy.js";import"./button-D2XOgySb.js";import"./utils-CBfrqCZ4.js";import"./input-Dich0nct.js";import"./index-DecKJaCt.js";import"./index-Ra53VMD9.js";import"./createLucideIcon-CspqRzmy.js";import"./index-BB61If3p.js";import"./dropdown-menu-DHaW0RBu.js";import"./index-CwxihIIj.js";import"./chevron-right-CxLV49xI.js";import"./index-B4Nfmim5.js";import"./index-Ba96PHSF.js";import"./bell-4wUnqQjq.js";import"./house-y2PHMtxH.js";import"./user-DPZ2GJ56.js";import"./log-out-DT0aVyDc.js";import"./keyboard-ByfVLnjq.js";import"./boxes-DT35St24.js";import"./users-BK4lCMFV.js";import"./chevron-down-C-stR2TW.js";import"./cpu-LtpxuHPg.js";import"./hard-drive-DbjtOXo-.js";import"./menu-DqUVkNWL.js";function te(){const{histories:r}=n().props,a=r.data,t=r.current_page,l=r.last_page,d=s=>{s>=1&&s<=l&&p.Inertia.get("/admin/system-unit-histories",{page:s},{preserveState:!0})};return e.jsxs(x,{children:[e.jsx(v,{}),e.jsxs(h,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-4 md:px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{}),e.jsx(u,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(y,{children:e.jsx(b,{children:e.jsx(g,{children:e.jsx(f,{href:"/admin/system-unit-histories","aria-current":"page",className:"font-semibold text-foreground",children:"System Unit History"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(N,{})]})}),e.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto w-full",children:[e.jsx("div",{className:"sticky top-[64px] z-20 bg-white shadow-sm",children:e.jsx(w,{})}),e.jsx(o,{title:"System Unit Histories"}),e.jsx("h1",{className:"text-xl md:text-2xl text-center font-bold mt-5 mb-4",children:"System Unit Activity History"}),a.length===0?e.jsx("p",{className:"text-center mt-10",children:"No system unit history found."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:e.jsxs("table",{className:"min-w-full table-auto text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[hsl(142,34%,85%)] text-[hsl(142,34%,25%)] hover:bg-[hsl(142,34%,80%)]",children:[e.jsx("th",{className:"px-5 py-1",children:"#"}),e.jsx("th",{className:"px-5 py-1",children:"User Name"}),e.jsx("th",{className:"px-5 py-1",children:"Unit Code"}),e.jsx("th",{className:"px-5 py-1",children:"Action"}),e.jsx("th",{className:"px-5 py-1",children:"Component"}),e.jsx("th",{className:"px-5 py-1",children:"Old Value"}),e.jsx("th",{className:"px-5 py-1",children:"New Value"}),e.jsx("th",{className:"px-5 py-1",children:"Date & Time"})]})}),e.jsx("tbody",{children:a.map((s,i)=>e.jsxs("tr",{className:"hover:shadow-sm",children:[e.jsx("td",{className:"px-5 py-2 align-middle",children:(t-1)*r.per_page+i+1}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.user?.name??"-"}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.system_unit?.unit_code??s.unit_code}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.action}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.component??"-"}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.old_value??"-"}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.new_value??"-"}),e.jsx("td",{className:"px-5 py-2 align-middle",children:new Date(s.created_at).toLocaleString()})]},s.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center p-4 mt-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing"," ",a.length===0?0:(t-1)*r.per_page+1," ","â€“"," ",(t-1)*r.per_page+a.length," ","of ",r.total," histories"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded text-sm disabled:opacity-50",disabled:t===1,onClick:()=>d(t-1),children:"Previous"}),Array.from({length:l},(s,i)=>i+1).filter(s=>s===1||s===l?!0:s>=t-2&&s<=t+2).map((s,i,m)=>e.jsxs(c.Fragment,{children:[i>0&&m[i]-m[i-1]>1&&e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{className:`px-3 py-1 border rounded text-sm ${t===s?"bg-black text-white":"hover:bg-gray-200"}`,onClick:()=>d(s),children:s})]},s)),e.jsx("button",{className:"px-3 py-1 border rounded text-sm disabled:opacity-50",disabled:t===l,onClick:()=>d(t+1),children:"Next"})]})]})]})]})]})]})}export{te as default};
