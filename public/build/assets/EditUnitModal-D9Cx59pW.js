import{u as b,j as o}from"./app-CIkTpY6h.js";import{D as x,a as j,b as v,c as C}from"./dialog-BBAqj5CN.js";import{L as f}from"./label-HuXPnHqC.js";import{I as n,c as D,B as N}from"./input-BpDz82gW.js";import"./index-DVsC1RVt.js";import"./index-BQxaN_px.js";const d=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function S({unit:a,rooms:c,onClose:l}){const{data:r,setData:t,put:g,processing:p,errors:s}=b({unit_code:a.unit_code,processor:a.processor,ram:a.ram,storage:a.storage,gpu:a.gpu,motherboard:a.motherboard,condition:a.condition,room_id:a.room_id}),m=e=>{e.preventDefault(),g(`/system-units/${a.id}`,{onSuccess:()=>{l()}})},u=e=>{const i=d.find(h=>h.label.toLowerCase()===e.toLowerCase());return i?i.color:"bg-gray-300"};return o.jsx(x,{open:!0,onOpenChange:e=>!e&&l(),children:o.jsxs(j,{children:[o.jsx(v,{children:o.jsxs(C,{children:["Edit ROOM -"," ",c.find(e=>e.id===a.room_id)?.room_number||"N/A"," ","- ",a.unit_code]})}),o.jsxs("form",{onSubmit:m,className:"grid gap-4",children:[o.jsx(n,{value:r.unit_code,onChange:e=>t("unit_code",e.target.value),placeholder:"Unit Code"}),o.jsx(n,{value:r.processor,onChange:e=>t("processor",e.target.value),placeholder:"Processor"}),o.jsx(n,{value:r.ram,onChange:e=>t("ram",e.target.value),placeholder:"RAM"}),o.jsx(n,{value:r.storage,onChange:e=>t("storage",e.target.value),placeholder:"Storage"}),o.jsx(n,{value:r.gpu,onChange:e=>t("gpu",e.target.value),placeholder:"GPU"}),o.jsx(n,{value:r.motherboard,onChange:e=>t("motherboard",e.target.value),placeholder:"Motherboard"}),o.jsxs("div",{children:[o.jsx(f,{htmlFor:"condition",children:"Condition"}),o.jsx(n,{id:"condition",list:"condition-options",value:r.condition,onChange:e=>t("condition",e.target.value),placeholder:"Type or select"}),o.jsx("datalist",{id:"condition-options",children:d.map(e=>o.jsx("option",{value:e.label},e.label))}),r.condition&&o.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[o.jsx("span",{className:D("inline-block w-3 h-3 rounded-full",u(r.condition))}),o.jsx("span",{className:"capitalize",children:r.condition})]}),s.condition&&o.jsx("p",{className:"text-sm text-red-500",children:s.condition})]}),o.jsx(N,{type:"submit",disabled:p,children:"Update"})]})]})})}export{S as default};
