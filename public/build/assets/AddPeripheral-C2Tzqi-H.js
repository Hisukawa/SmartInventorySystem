import{u as _,r as m,j as e,H as g}from"./app-B9S8Hl0G.js";import{B as y}from"./button-ByV8fhsw.js";import{C as N,a as S}from"./card-CQjhGTe6.js";import{I as O}from"./input-MiMzPGZt.js";import{L as o}from"./label-KII-c6ej.js";import{S as C,a as w,b as B,c as A}from"./index-Bo1oKHsp.js";import{A as M}from"./app-sidebar-BK-HTOqY.js";import{B as P,a as R,b as k,c as l,d as p}from"./breadcrumb-o22aFX-k.js";import"./index-BcnQsgsA.js";import"./index-BaJgYkdz.js";import"./index-CigU_cmJ.js";import"./index-CIBilIP6.js";import"./dropdown-menu-Bg7J8p6Q.js";import"./index-BLwNjbQ6.js";import"./chevron-right-D8vWK29i.js";import"./index-Cea8SDt0.js";function V({existingRooms:c=[],existingUnits:u=[],existingBrands:x=[],existingModels:h=[]}){const{data:t,setData:i,post:j,processing:b,errors:s}=_({type:"",brand:"",model:"",serial_number:"",condition:"Working",room_number:"",unit_code:""}),[v,d]=m.useState([]);m.useEffect(()=>{if(t.room_number){const r=c.find(a=>a.room_number===t.room_number);if(r){const a=u.filter(n=>n.room_id===r.id).map(n=>n.unit_code);d(a),a.includes(t.unit_code)||i("unit_code","")}else d([]),i("unit_code","")}else d([]),i("unit_code","")},[t.room_number]);function f(r){r.preventDefault(),console.log("Submitting:",t),j("/admin/peripherals")}return e.jsxs(C,{children:[e.jsx(g,{title:"Add Peripheral"}),e.jsx(M,{}),e.jsxs(w,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(B,{}),e.jsx(A,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(P,{children:e.jsx(R,{children:e.jsxs(k,{children:[e.jsx(l,{href:"#","aria-current":"page",children:"Assets"}),e.jsx(p,{}),e.jsx(l,{href:"/admin/peripherals","aria-current":"page",children:"Peripherals"}),e.jsx(p,{}),e.jsx(l,{href:"/admin/peripherals/create","aria-current":"page",className:"font-semibold text-foreground",children:"Add Peripheral"})]})})})]}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5 text-center",children:"Add Peripherals"}),e.jsx(N,{className:"max-w-xl mx-auto",children:e.jsx(S,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Type"}),e.jsx("input",{list:"typeOptions",value:t.type,onChange:r=>i("type",r.target.value),placeholder:"Select or type peripheral type",className:"w-full border rounded px-2 py-1"}),e.jsxs("datalist",{id:"typeOptions",children:[e.jsx("option",{value:"Mouse"}),e.jsx("option",{value:"Keyboard"})]}),s.type&&e.jsx("div",{className:"text-red-500 text-sm",children:s.type})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"room_number",children:"Room"}),e.jsx("input",{id:"room_number",list:"roomOptions",value:t.room_number?`ROOM ${t.room_number}`:"",onChange:r=>{const a=r.target.value,n=a.startsWith("ROOM ")?a.slice(5):a;i("room_number",n)},placeholder:"Select or type room",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"roomOptions",children:c.map(r=>e.jsx("option",{value:`ROOM ${r.room_number}`},r.id))}),s.room_number&&e.jsx("div",{className:"text-red-500 text-sm",children:s.room_number})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Unit Code"}),e.jsx("input",{list:"unitOptions",value:t.unit_code,onChange:r=>i("unit_code",r.target.value),placeholder:"Select or type unit code",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"unitOptions",children:v.map(r=>e.jsx("option",{value:r},r))}),s.unit_code&&e.jsx("div",{className:"text-red-500 text-sm",children:s.unit_code})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Brand"}),e.jsx("input",{list:"brandOptions",value:t.brand,onChange:r=>i("brand",r.target.value),placeholder:"Select or type brand",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"brandOptions",children:x.map(r=>e.jsx("option",{value:r},r))}),s.brand&&e.jsx("div",{className:"text-red-500 text-sm",children:s.brand})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Model"}),e.jsx("input",{list:"modelOptions",value:t.model,onChange:r=>i("model",r.target.value),placeholder:"Select or type model",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"modelOptions",children:h.map(r=>e.jsx("option",{value:r},r))}),s.model&&e.jsx("div",{className:"text-red-500 text-sm",children:s.model})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Serial Number"}),e.jsx(O,{value:t.serial_number,onChange:r=>i("serial_number",r.target.value),placeholder:"Enter serial number",className:"w-full border rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Condition"}),e.jsxs("select",{value:t.condition,onChange:r=>i("condition",r.target.value),className:"w-full border rounded px-2 py-1",children:[e.jsx("option",{value:"Working",children:"ðŸŸ¢ Working"}),e.jsx("option",{value:"Defective",children:"ðŸ”´ Defective"}),e.jsx("option",{value:"Maintenance",children:"ðŸŸ¡ Maintenance"})]}),s.condition&&e.jsx("div",{className:"text-red-500 text-sm",children:s.condition})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{type:"submit",disabled:b,children:"Submit"})})]})})})]})]})]})}export{V as default};
