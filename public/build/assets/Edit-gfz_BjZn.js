import{r as s,b as u,t as c,j as e,T as w,a as g,c as b}from"./app-Bt6Wny61.js";import j from"./UpdatePasswordForm-NccQIsbP.js";import v from"./UpdateProfileInformationForm-CRoWhVhu.js";import N from"./UpdateProfilePhoto-BixST0-c.js";import"./TextInput-B4gv0rRl.js";import"./InputLabel-BAORAoCB.js";import"./PrimaryButton-CBkR1A1m.js";import"./button-BQUS9d0v.js";import"./index-Cpx0d4t7.js";import"./utils-CBfrqCZ4.js";function y({title:t,titleId:r,...o},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},o),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const k=s.forwardRef(y);function E({title:t,titleId:r,...o},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},o),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const F=s.forwardRef(E);function L({title:t,titleId:r,...o},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},o),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const C=s.forwardRef(L);function S({user:t,mustVerifyEmail:r,status:o}){const{props:n}=u(),[d,h]=s.useState(!1),[l,p]=s.useState(t?.face_recognition_enabled||!1),[a,x]=s.useState(0);s.useEffect(()=>{let i;return a>0&&(i=setTimeout(()=>x(a-1),1e3)),()=>clearTimeout(i)},[a]),s.useEffect(()=>{n.flash?.success&&c.success(n.flash.success)},[n.flash]);const f=async()=>{if(a>0){c.error(`Please wait ${a} seconds before toggling again.`);return}const i=l?route("face.deactivate"):route("face.reactivate");try{const{data:m}=await b.post(i);c.success(m.message||(l?"Face recognition disabled!":"Face recognition enabled!")),p(!l),x(20)}catch(m){c.error(m.response?.data?.message||"Action failed.")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[e.jsx(w,{position:"top-right"}),e.jsxs("header",{className:"bg-green-600 text-white flex justify-between items-center px-4 sm:px-8 py-3 shadow-md fixed top-0 left-0 w-full z-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-10 h-10 rounded-full"}),e.jsx("span",{className:"font-bold text-lg",children:"Smart Inventory"})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[t?.role==="admin"&&e.jsx("a",{href:"/admin/dashboard",className:"bg-white text-green-600 px-4 py-2 rounded-lg hover:bg-green-50 transition-all font-medium",children:"Dashboard"}),e.jsx("button",{onClick:()=>g.post(route("logout")),className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-white transition-all font-medium",children:"Logout"})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx("button",{onClick:()=>h(!d),className:"p-2 rounded-md bg-green-700",children:d?e.jsx(C,{className:"w-6 h-6"}):e.jsx(k,{className:"w-6 h-6"})})})]}),d&&e.jsxs("div",{className:"sm:hidden bg-white shadow-lg absolute top-16 right-4 rounded-lg w-48 z-50",children:[e.jsx("button",{onClick:()=>g.post(route("logout")),className:"w-full text-left px-4 py-2 hover:bg-green-100 text-green-700 font-medium",children:"Logout"}),t?.role==="admin"&&e.jsx("a",{href:"/admin/dashboard",className:"block px-4 py-2 hover:bg-green-100 text-green-700 font-medium",children:"Dashboard"})]}),e.jsx("div",{className:"pt-20 py-12 flex justify-center px-4",children:e.jsx("div",{className:"max-w-3xl w-full space-y-6",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 flex flex-col md:flex-row gap-6 items-center md:items-start",children:[e.jsx("div",{className:"flex flex-col items-center gap-4 w-full md:w-auto",children:e.jsx(N,{user:t})}),e.jsxs("div",{className:"flex-1 w-full space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-green-700",children:t?.name}),e.jsx("p",{className:"text-gray-600",children:t?.email}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2",children:[e.jsxs("button",{onClick:()=>g.visit(route("face.register.page")),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-green-50 text-green-700 hover:bg-green-100 transition-colors",children:[e.jsx("img",{src:"/icons/register-face.png",alt:"Register Face",className:"w-6 h-6"}),e.jsx("span",{className:"text-sm sm:text-xs",children:"Register"})]}),e.jsxs("button",{onClick:f,disabled:a>0,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"} ${a>0?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("img",{src:l?"/icons/active-face.png":"/icons/inactive-face.png",alt:l?"Active Face":"Inactive Face",className:"w-6 h-6"}),e.jsx("span",{className:"text-sm sm:text-xs",children:l?`Active${a>0?` (${a}s)`:""}`:`Inactive${a>0?` (${a}s)`:""}`})]}),e.jsxs("button",{onClick:()=>setDeleteDialogOpen(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-50 text-red-700 hover:bg-red-100 transition-colors",children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm sm:text-xs",children:"Delete Face"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:e.jsx(v,{mustVerifyEmail:r,status:o})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:e.jsx(j,{})})]})]})]})})})]})}export{S as default};
