import{r as a,j as e,H as k}from"./app-oadOUV-n.js";import{A as y}from"./app-sidebar-CvYvaPFx.js";import{S as U,a as B,b as L,c as Q}from"./avatar-CzEWLDN7.js";import{B as x}from"./button-DCerDx_k.js";import{Q as p}from"./index-P4cUe9O-.js";import{B as D,a as z,b as A,c as l,d as g}from"./breadcrumb-CnaCxfT5.js";import{D as O,a as T,b as $,c as H}from"./dialog-BOSqdhTX.js";import"./dropdown-menu-BsURpAdA.js";import"./utils-DmFmtmwo.js";import"./index-BrZ1aTMQ.js";import"./index-BexT-9JP.js";import"./index-BenP02zP.js";import"./index-Nzc-Onjg.js";import"./chevron-right-BWjp2mrd.js";import"./sparkles-BGPEqarB.js";import"./bell-B6bNijAo.js";import"./keyboard-DbKqAsHr.js";import"./boxes-BXY4-k1e.js";import"./file-text-CFc7CEVf.js";import"./users-GXFjlTaJ.js";import"./chevron-down-DV__Zvya.js";import"./input-BYJK64iK.js";import"./index-BIZDOzgP.js";import"./index-BRvvtd1h.js";import"./index-DqNHHwnw.js";function pe({unit:s}){const[i,j]=a.useState(null),[u,f]=a.useState(null),[b,m]=a.useState(!1),[v,n]=a.useState(!1),w=(t,c)=>{t&&(j(t),f(c),m(!0),n(!1))},S=async()=>{if(i)try{await navigator.clipboard.writeText(i),n(!0),setTimeout(()=>n(!1),2e3)}catch(t){console.error("Failed to copy: ",t)}},R=()=>{if(!i)return;const t=document.createElement("canvas"),c=document.querySelector("#modal-qr svg"),N=new XMLSerializer().serializeToString(c),o=new Image,C=new Blob([N],{type:"image/svg+xml;charset=utf-8"}),h=URL.createObjectURL(C);o.onload=()=>{t.width=o.width+40,t.height=o.height+40+40;const r=t.getContext("2d");r.fillStyle="#fff",r.fillRect(0,0,t.width,t.height),r.drawImage(o,20,20),r.fillStyle="#000",r.font="bold 20px Arial",r.textAlign="center",r.fillText(`Room ${s.room?.room_number||""} - ${s.unit_code}`,t.width/2,o.height+20+30),URL.revokeObjectURL(h);const _=`ROOM-${s.room?.room_number}_${s.unit_code}.png`,d=document.createElement("a");d.download=_,d.href=t.toDataURL("image/png"),d.click()},o.src=h};return e.jsxs(U,{children:[e.jsx(y,{}),e.jsxs(B,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(L,{}),e.jsx(Q,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(D,{children:e.jsx(z,{children:e.jsxs(A,{children:[e.jsx(l,{href:"#","aria-current":"page",children:"Assets"}),e.jsx(g,{}),e.jsx(l,{href:"/units",children:"System Unit Lists"}),e.jsx(g,{}),e.jsx(l,{href:`/system-units/view/${s.unit_code}`,"aria-current":"page",className:"font-semibold text-foreground",children:"View Unit"})]})})})]}),e.jsx(k,{title:`View ${s.unit_code}`}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"System Unit Information"}),e.jsxs("div",{className:"bg-white shadow rounded p-6 max-w-3xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Unit Code:"})," ",s.unit_code]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Processor:"})," ",s.processor]}),e.jsxs("div",{children:[e.jsx("strong",{children:"RAM:"})," ",s.ram]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Storage:"})," ",s.storage]}),e.jsxs("div",{children:[e.jsx("strong",{children:"GPU:"})," ",s.gpu]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Motherboard:"})," ",s.motherboard]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Condition:"})," ",s.condition]}),e.jsxs("div",{className:"col-span-2 flex flex-col items-center mt-4",children:[e.jsx("div",{className:"bg-white p-2 rounded cursor-pointer hover:shadow-md transition",onClick:()=>{w(route("units.public.show",{unit_path:s.unit_path}),s.room?.room_number||"room")},children:e.jsx(p,{value:route("units.public.show",{unit_path:s.unit_path}),size:128})}),e.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:"Scan to view public info"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(x,{variant:"secondary",onClick:()=>window.history.back(),children:"Go Back"})})]}),e.jsx(O,{open:b,onOpenChange:m,children:e.jsxs(T,{className:"flex flex-col items-center",children:[e.jsx($,{children:e.jsxs(H,{children:["QR Code for ",u," -"," ",s.unit_code]})}),i&&e.jsx("div",{id:"modal-qr",className:"cursor-pointer",onClick:S,children:e.jsx(p,{value:i,size:256})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Click QR to copy link"}),v&&e.jsx("span",{className:"text-green-600 text-sm",children:"QR code path copied!"}),e.jsx("div",{className:"mt-1 flex gap-2",children:e.jsx(x,{onClick:R,children:"Download"})})]})})]})]})}export{pe as default};
