import{r as d,j as e,H as b}from"./app-myOy6ArY.js";import{C as r,c as o,a as n}from"./card-Cq8JPfaF.js";import{F as p}from"./faculty-room-view-sidebar-BdGyR8uM.js";import{B as w}from"./button-GcgfL5IC.js";import{M as N}from"./menu-lyWj8N1O.js";import{M as y}from"./monitor-D4-fYGvK.js";import{M as g}from"./mouse-cpDsZFqG.js";import{K as v}from"./keyboard-00WxYKZk.js";import{B as C}from"./boxes-Bb2TfiAn.js";import{R as _,B as S,X as T,Y as k,T as q,k as B}from"./BarChart-Bf1beFQD.js";import"./utils-CBfrqCZ4.js";import"./dropdown-menu-Dn83iH7B.js";import"./index-BlQHmAJ4.js";import"./index-BUdVvYkI.js";import"./index-C0JhTc6o.js";import"./index-Bv7VFuWD.js";import"./createLucideIcon-BwLk9yM4.js";import"./chevron-right-N6kXSJsm.js";import"./log-out-DXofIcUh.js";import"./package-C0bldDnf.js";import"./with-selector-BWyVqZv8.js";import"./index-2nyVSY52.js";function se({room:t,stats:l,user:x,activeSection:m}){const i=s=>s?Object.entries(s).map(([a,u])=>({name:a,value:u})):[],[h,M]=d.useState(null),[f,O]=d.useState(null),[j,c]=d.useState(!1);return i(h?l.peripherals.by_type_condition?.[h]:l.peripherals.by_condition),i(f?l.equipments.by_name_condition?.[f]:l.equipments.by_condition),e.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[e.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:e.jsx(p,{room:t,user:x,active:m||"dashboard",onSelect:s=>{window.location.href=route("faculty.dashboard.show",{roomPath:t.room_path,section:s})}})}),j&&e.jsxs("div",{className:"fixed inset-0 z-40 flex md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>c(!1)}),e.jsx("div",{className:"relative z-50 w-64 shadow-lg bg-[hsl(142,34%,51%)]",children:e.jsx(p,{room:t,user:x,active:m||"dashboard",onSelect:s=>{window.location.href=route("faculty.dashboard.show",{roomPath:t.room_path,section:s}),c(!1)}})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b md:hidden flex items-center justify-between shadow-sm bg-[hsl(142,34%,51%)]",children:[e.jsx(w,{variant:"outline",size:"icon",onClick:()=>c(!0),className:"bg-[hsl(142,34%,51%)] text-white border-none hover:bg-[hsl(142,34%,45%)]",children:e.jsx(N,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:t.room_name})]}),e.jsxs("div",{className:"p-4 md:p-6 w-full space-y-6",children:[e.jsx(b,{title:`${t.room_name} Dashboard`}),e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold",children:[t.room_name," Dashboard"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(r,{className:"w-full flex flex-col p-4 rounded-2xl shadow-lg hover:shadow-xl active:scale-[0.97] transition cursor-pointer bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx(o,{className:"text-lg font-semibold",children:"Total Computers"})}),e.jsx(y,{className:"w-8 h-8 text-[hsl(142,34%,45%)]"})]}),e.jsx(n,{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-3xl font-bold",children:l.computers.total||0})})]}),e.jsxs(r,{className:"w-full flex flex-col p-4 rounded-2xl shadow-lg hover:shadow-xl active:scale-[0.97] transition cursor-pointer bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx(o,{className:"text-lg font-semibold",children:"Total Mouse"})}),e.jsx(g,{className:"w-8 h-8 text-[hsl(142,34%,45%)]"})]}),e.jsx(n,{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-3xl font-bold",children:l.peripherals.by_type?.mouse||0})})]}),e.jsxs(r,{className:"w-full flex flex-col p-4 rounded-2xl shadow-lg hover:shadow-xl active:scale-[0.97] transition cursor-pointer bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx(o,{className:"text-lg font-semibold",children:"Total Keyboards"})}),e.jsx(v,{className:"w-8 h-8 text-[hsl(142,34%,45%)]"})]}),e.jsx(n,{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-3xl font-bold",children:l.peripherals.by_type?.keyboard||0})})]}),e.jsxs(r,{className:"w-full p-4 rounded-2xl shadow-lg hover:shadow-xl transition bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx(o,{className:"text-lg font-semibold",children:"Total Equipments"})}),e.jsx(C,{className:"w-8 h-8 text-[hsl(142,34%,45%)]"})]}),e.jsx(n,{className:"flex-1 flex items-center justify-center",children:e.jsx("p",{className:"text-3xl font-bold mb-2",children:l.equipments.total||0})})]})]}),e.jsx("div",{className:`\r
    w-full \r
    mt-6 \r
    bg-white \r
    p-4 \r
    rounded-2xl \r
    shadow-md \r
    max-w-2xl   /* Limits width on web */\r
    mx-auto     /* Centers chart */\r
`,children:e.jsx(_,{width:"100%",height:300,children:e.jsxs(S,{data:Object.entries(l.equipments.by_name).sort((s,a)=>a[1]-s[1]).slice(0,5).map(([s,a])=>({name:s,count:a})),layout:"vertical",margin:{top:10,right:20,left:0,bottom:10},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"greenGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:"#4CAF50",stopOpacity:.9}),e.jsx("stop",{offset:"100%",stopColor:"#A5D6A7",stopOpacity:.7})]})}),e.jsx(T,{type:"number",hide:!0}),e.jsx(k,{type:"category",dataKey:"name",width:120,tick:{fontSize:12}}),e.jsx(q,{formatter:s=>[s,"Count"]}),e.jsx(B,{dataKey:"count",radius:[8,8,8,8],fill:"url(#greenGrad)",barSize:20})]})})})]})]})]})}export{se as default};
