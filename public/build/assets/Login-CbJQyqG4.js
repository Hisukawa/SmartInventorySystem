import{r as l,j as e,u as U,H as X,c as Y}from"./app-DMhCBzQ5.js";import{b as V,c as $,d as J}from"./card-AyaW-upy.js";import{I as P}from"./input-BrTisnsF.js";import{L as _}from"./label-P6wmSYRV.js";import{B as F}from"./button-Dk7c3Jea.js";import{c as Q,d as W,P as y,u as Z,a as T,b as S}from"./index-dY-lvtr0.js";import{u as ee}from"./index-Br_xJn4L.js";import{u as te,C as se}from"./index-DJYAF3kh.js";import{c as L}from"./createLucideIcon-DNlSKQIV.js";import{F as re}from"./FaceCapture-bn3apP6j.js";import"./index-sp9pc22y.js";var k="Checkbox",[ae,Ce]=Q(k),[oe,E]=ae(k);function ne(t){const{__scopeCheckbox:n,checked:a,children:c,defaultChecked:o,disabled:s,form:i,name:p,onCheckedChange:m,required:f,value:x="on",internal_do_not_use_render:u}=t,[r,b]=Z({prop:a,defaultProp:o??!1,onChange:m,caller:k}),[C,j]=l.useState(null),[v,d]=l.useState(null),h=l.useRef(!1),w=C?!!i||!!C.closest("form"):!0,N={checked:r,disabled:s,setChecked:b,control:C,setControl:j,name:p,form:i,value:x,hasConsumerStoppedPropagationRef:h,required:f,defaultChecked:g(o)?!1:o,isFormControl:w,bubbleInput:v,setBubbleInput:d};return e.jsx(oe,{scope:n,...N,children:ce(u)?u(N):c})}var A="CheckboxTrigger",B=l.forwardRef(({__scopeCheckbox:t,onKeyDown:n,onClick:a,...c},o)=>{const{control:s,value:i,disabled:p,checked:m,required:f,setControl:x,setChecked:u,hasConsumerStoppedPropagationRef:r,isFormControl:b,bubbleInput:C}=E(A,t),j=T(o,x),v=l.useRef(m);return l.useEffect(()=>{const d=s?.form;if(d){const h=()=>u(v.current);return d.addEventListener("reset",h),()=>d.removeEventListener("reset",h)}},[s,u]),e.jsx(y.button,{type:"button",role:"checkbox","aria-checked":g(m)?"mixed":m,"aria-required":f,"data-state":O(m),"data-disabled":p?"":void 0,disabled:p,value:i,...c,ref:j,onKeyDown:S(n,d=>{d.key==="Enter"&&d.preventDefault()}),onClick:S(a,d=>{u(h=>g(h)?!0:!h),C&&b&&(r.current=d.isPropagationStopped(),r.current||d.stopPropagation())})})});B.displayName=A;var R=l.forwardRef((t,n)=>{const{__scopeCheckbox:a,name:c,checked:o,defaultChecked:s,required:i,disabled:p,value:m,onCheckedChange:f,form:x,...u}=t;return e.jsx(ne,{__scopeCheckbox:a,checked:o,defaultChecked:s,disabled:p,required:i,onCheckedChange:f,name:c,form:x,value:m,internal_do_not_use_render:({isFormControl:r})=>e.jsxs(e.Fragment,{children:[e.jsx(B,{...u,ref:n,__scopeCheckbox:a}),r&&e.jsx(H,{__scopeCheckbox:a})]})})});R.displayName=k;var D="CheckboxIndicator",M=l.forwardRef((t,n)=>{const{__scopeCheckbox:a,forceMount:c,...o}=t,s=E(D,a);return e.jsx(W,{present:c||g(s.checked)||s.checked===!0,children:e.jsx(y.span,{"data-state":O(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:n,style:{pointerEvents:"none",...t.style}})})});M.displayName=D;var q="CheckboxBubbleInput",H=l.forwardRef(({__scopeCheckbox:t,...n},a)=>{const{control:c,hasConsumerStoppedPropagationRef:o,checked:s,defaultChecked:i,required:p,disabled:m,name:f,value:x,form:u,bubbleInput:r,setBubbleInput:b}=E(q,t),C=T(a,b),j=ee(s),v=te(c);l.useEffect(()=>{const h=r;if(!h)return;const w=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(w,"checked").set,G=!o.current;if(j!==s&&I){const K=new Event("click",{bubbles:G});h.indeterminate=g(s),I.call(h,g(s)?!1:s),h.dispatchEvent(K)}},[r,j,s,o]);const d=l.useRef(g(s)?!1:s);return e.jsx(y.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,required:p,disabled:m,name:f,value:x,form:u,...n,tabIndex:-1,ref:C,style:{...n.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});H.displayName=q;function ce(t){return typeof t=="function"}function g(t){return t==="indeterminate"}function O(t){return g(t)?"indeterminate":t?"checked":"unchecked"}const z=l.forwardRef(({className:t,...n},a)=>e.jsx(R,{ref:a,className:L("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:e.jsx(M,{className:L("flex items-center justify-center text-current"),children:e.jsx(se,{className:"h-4 w-4"})})}));z.displayName=R.displayName;function je({status:t,canResetPassword:n}){const{data:a,setData:c,post:o,processing:s,errors:i,reset:p}=U({email:"",password:"",remember:!1}),[m,f]=l.useState(!1),x=r=>{r.preventDefault(),o(route("login"),{onFinish:()=>p("password")})},u=async r=>{try{const b=await Y.post(route("face.login"),{face_descriptor:r});alert("Login successful: "+b.data.user.name),window.location.href="/dashboard"}catch{alert("Face not recognized")}finally{f(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Log in"}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:e.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 bg-white shadow-lg rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-green-500 text-white p-8 relative",children:[e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-white bg-white shadow-md",children:e.jsx("img",{src:"logo.png",alt:"Logo 1",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-white bg-white shadow-md",children:e.jsx("img",{src:"/ict.png",alt:"Logo 2",className:"w-full h-full object-contain"})})]}),e.jsx("h2",{className:"text-2xl font-bold text-center",children:"ICT INVENTORY SYSTEM MANAGEMENT"}),e.jsx("p",{className:"mt-3 text-sm opacity-90 text-center",children:"Secure • Fast • Organized"})]}),e.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[e.jsxs(V,{className:"p-0 mb-6",children:[e.jsx($,{className:"text-2xl font-bold",children:"Login Account"}),e.jsx(J,{children:"Please enter your details to log in"})]}),t&&e.jsx("div",{className:"mb-4 text-sm font-medium text-green-600",children:t}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(_,{htmlFor:"email",children:"Email Address"}),e.jsx(P,{id:"email",type:"email",name:"email",value:a.email,autoComplete:"username",onChange:r=>c("email",r.target.value)}),i.email&&e.jsx("p",{className:"text-sm text-red-500",children:i.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(_,{htmlFor:"password",children:"Password"}),e.jsx(P,{id:"password",type:"password",name:"password",value:a.password,autoComplete:"current-password",onChange:r=>c("password",r.target.value)}),i.password&&e.jsx("p",{className:"text-sm text-red-500",children:i.password})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"remember",checked:a.remember,onCheckedChange:r=>c("remember",!!r)}),e.jsx("label",{htmlFor:"remember",className:"text-sm text-muted-foreground",children:"Remember me"})]}),e.jsx(F,{type:"submit",className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:s,children:"Login"})]}),e.jsx("div",{className:"mt-6",children:m?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-semibold mb-2 mt-4",children:"Scanning Face..."}),e.jsx(re,{onCapture:u})]}):e.jsx(F,{className:"w-full mt-2 bg-orange-500 hover:bg-orange-600 text-white",onClick:()=>f(!0),children:"Login with Face"})}),e.jsxs("div",{className:"text-center text-sm mt-6",children:["Don’t have an account?"," ",e.jsx("span",{className:"text-gray-600",children:"Please contact the ICT Department Chairperson to request one."})]})]})]})})]})}export{je as default};
