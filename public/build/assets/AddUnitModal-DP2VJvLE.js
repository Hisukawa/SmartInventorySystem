import{c as N,r as d,u as _,j as e}from"./app-D4M_E8i_.js";import{D,e as S,a as F,b as O,c as R}from"./dialog-BJSDhnhA.js";import{I as a}from"./input-D3zVhHXy.js";import{B as h}from"./button-BCMpfMWC.js";import{L as i}from"./label-8Sw5KNY5.js";import{c as y}from"./createLucideIcon-C3qGL0lR.js";import"./index-B3I5IzMT.js";import"./index-Du727tH4.js";import"./index-7BW4AZoS.js";import"./index-UbKZKMsN.js";import"./index-Bx0xYDDs.js";const x=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function k(){const{rooms:c}=N().props,[p,m]=d.useState(!1),{data:s,setData:t,post:u,processing:g,errors:r,reset:j}=_({unit_code:"",processor:"",ram:"",storage:"",gpu:"",motherboard:"",condition:"",room_id:""}),b=o=>{const n=x.find(C=>C.label.toLowerCase()===o.toLowerCase());return n?n.color:"bg-muted"},v=o=>{o.preventDefault(),u("/units",{onSuccess:()=>{j(),m(!1)}})},[l,f]=d.useState("");return d.useEffect(()=>{const o=c.find(n=>`ROOM ${n.room_number}`.toLowerCase()===l.toLowerCase());o?t("room_id",o.id):t("room_id","")},[l]),e.jsxs(D,{open:p,onOpenChange:m,children:[e.jsx(S,{asChild:!0,children:e.jsx(h,{children:"Add Unit"})}),e.jsxs(F,{className:"sm:max-w-xl max-h-[90vh] overflow-y-auto",children:[e.jsx(O,{children:e.jsx(R,{children:"Add System Unit"})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"room_number",children:"Room"}),e.jsx(a,{id:"room_number",list:"room-options",value:l,onChange:o=>f(o.target.value),placeholder:"Search or select room"}),e.jsx("datalist",{id:"room-options",children:c.map(o=>e.jsx("option",{value:`ROOM ${o.room_number}`},o.id))}),r.room_id&&e.jsx("p",{className:"text-sm text-red-500",children:r.room_id})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"unit_code",children:"Unit Code"}),e.jsx(a,{id:"unit_code",name:"unit_code",value:s.unit_code,onChange:o=>t("unit_code",o.target.value),placeholder:"01",required:!0}),r.unit_code&&e.jsx("p",{className:"text-sm text-red-500",children:r.unit_code})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"processor",children:"Processor"}),e.jsx(a,{id:"processor",name:"processor",value:s.processor,onChange:o=>t("processor",o.target.value),placeholder:"Intel Core i5-10400"}),r.processor&&e.jsx("p",{className:"text-sm text-red-500",children:r.processor})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"ram",children:"RAM"}),e.jsx(a,{id:"ram",name:"ram",value:s.ram,onChange:o=>t("ram",o.target.value),placeholder:"16GB DDR5"}),r.ram&&e.jsx("p",{className:"text-sm text-red-500",children:r.ram})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"storage",children:"Storage"}),e.jsx(a,{id:"storage",name:"storage",value:s.storage,onChange:o=>t("storage",o.target.value),placeholder:"512GB NVME SATA SSD"}),r.storage&&e.jsx("p",{className:"text-sm text-red-500",children:r.storage})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"gpu",children:"GPU"}),e.jsx(a,{id:"gpu",name:"gpu",value:s.gpu,onChange:o=>t("gpu",o.target.value),placeholder:"NVIDIA GeForce RTX 5090"}),r.gpu&&e.jsx("p",{className:"text-sm text-red-500",children:r.gpu})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"motherboard",children:"Motherboard"}),e.jsx(a,{id:"motherboard",name:"motherboard",value:s.motherboard,onChange:o=>t("motherboard",o.target.value),placeholder:"ASUS ROG Maximus Z790 Dark Hero (Intel)"}),r.motherboard&&e.jsx("p",{className:"text-sm text-red-500",children:r.motherboard})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"condition",children:"Condition"}),e.jsx(a,{id:"condition",list:"condition-options",value:s.condition,onChange:o=>t("condition",o.target.value),placeholder:"Type or select Condition"}),e.jsx("datalist",{id:"condition-options",children:x.map(o=>e.jsx("option",{value:o.label},o.label))}),s.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:y("inline-block w-3 h-3 rounded-full",b(s.condition))}),e.jsx("span",{className:"capitalize",children:s.condition})]}),r.condition&&e.jsx("p",{className:"text-sm text-red-500",children:r.condition})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(h,{type:"submit",disabled:g,children:"Submit"})})]})]})]})}export{k as default};
