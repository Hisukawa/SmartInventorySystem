import{R as B,r as s,t as jt,u as Lt,j as v,b as xe}from"./app-DBQtgzIX.js";import{B as Q}from"./button-DbBdseGs.js";import{A as Nt}from"./app-sidebar-CTs0oqKg.js";import{S as At,a as Dt,b as Ot,c as Ht}from"./index-lFwn2-vj.js";import{c as Bt}from"./index-O3dc08B1.js";import"./sweetalert2.esm.all-BQIkj5Wb.js";import{I as _t}from"./input-RFlpuKnq.js";import{T as Gt,a as Wt,b as $e,c as X,d as Ut,e as K}from"./table-A3hU290F.js";import{B as Vt,a as Kt,b as zt,c as Be,d as qt}from"./breadcrumb-4D3i3psZ.js";import{r as ee}from"./index-0BbkoL9Y.js";import{o as it,a as Yt,E as at,b as Qt,L as Xt,m as _e,l as Jt,i as Ge,c as Zt,d as en,n as ke,x as tn,R as We,e as ut,k as nn,P as rn,f as on,S as G,g as ln,w as sn,h as Ue,p as an,j as un,y as cn,q as dn,V as ct,r as L,s as fn,T as Ve,A as mn,t as pn}from"./portal-CXr3X7SG.js";import{p as je,o as F,K as W,y as le,n as D,L as U,u as dt,c as vn,a as gn,x as bn,_ as ft,R as hn,i as ve,O as Ke,b as xn}from"./use-server-handoff-complete-vbuhqTeM.js";import{u as $n,i as de,e as yn,o as mt,d as ye,m as Ee,r as En,a as wn,s as In,f as Cn,b as Sn,c as Tn}from"./dropdown-menu-CXScvfBn.js";import"./chevron-right-BdVbWom6.js";import"./index-QDI64zbd.js";import"./index-DaN0qQbd.js";import"./index-BVqIpB86.js";const pt=typeof document<"u"?B.useLayoutEffect:()=>{};var we;const Fn=(we=B.useInsertionEffect)!==null&&we!==void 0?we:pt;function Rn(e){const n=s.useRef(null);return Fn(()=>{n.current=e},[e]),s.useCallback((...t)=>{const r=n.current;return r?.(...t)},[])}const V=e=>{var n;return(n=e?.ownerDocument)!==null&&n!==void 0?n:document},z=e=>e&&"window"in e&&e.window===e?e:V(e).defaultView||window;function Mn(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Pn(e){return Mn(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let kn=!1;function Le(){return kn}function vt(e,n){if(!Le())return n&&e?e.contains(n):!1;if(!e||!n)return!1;let t=n;for(;t!==null;){if(t===e)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:Pn(t)?t=t.host:t=t.parentNode}return!1}const Se=(e=document)=>{var n;if(!Le())return e.activeElement;let t=e.activeElement;for(;t&&"shadowRoot"in t&&(!((n=t.shadowRoot)===null||n===void 0)&&n.activeElement);)t=t.shadowRoot.activeElement;return t};function gt(e){return Le()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function jn(e){var n;if(typeof window>"u"||window.navigator==null)return!1;let t=(n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands;return Array.isArray(t)&&t.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function Ln(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function bt(e){let n=null;return()=>(n==null&&(n=e()),n)}const Nn=bt(function(){return Ln(/^Mac/i)}),An=bt(function(){return jn(/Android/i)});function ht(){let e=s.useRef(new Map),n=s.useCallback((o,l,i,a)=>{let u=a?.once?(...f)=>{e.current.delete(i),i(...f)}:i;e.current.set(i,{type:l,eventTarget:o,fn:u,options:a}),o.addEventListener(l,u,a)},[]),t=s.useCallback((o,l,i,a)=>{var u;let f=((u=e.current.get(i))===null||u===void 0?void 0:u.fn)||i;o.removeEventListener(l,f,a),e.current.delete(i)},[]),r=s.useCallback(()=>{e.current.forEach((o,l)=>{t(o.eventTarget,o.type,l,o.options)})},[t]);return s.useEffect(()=>r,[r]),{addGlobalListener:n,removeGlobalListener:t,removeAllGlobalListeners:r}}function Dn(e){return e.mozInputSource===0&&e.isTrusted?!0:An()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function xt(e){let n=e;return n.nativeEvent=e,n.isDefaultPrevented=()=>n.defaultPrevented,n.isPropagationStopped=()=>n.cancelBubble,n.persist=()=>{},n}function On(e,n){Object.defineProperty(e,"target",{value:n}),Object.defineProperty(e,"currentTarget",{value:n})}function $t(e){let n=s.useRef({isFocused:!1,observer:null});pt(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=Rn(r=>{e?.(r)});return s.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,l=i=>{if(n.current.isFocused=!1,o.disabled){let a=xt(i);t(a)}n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var i;(i=n.current.observer)===null||i===void 0||i.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let Hn=!1,se=null,Te=new Set,oe=new Map,q=!1,Fe=!1;const Bn={Tab:!0,Escape:!0};function Ne(e,n){for(let t of Te)t(e,n)}function _n(e){return!(e.metaKey||!Nn()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ge(e){q=!0,_n(e)&&(se="keyboard",Ne("keyboard",e))}function Z(e){se="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(q=!0,Ne("pointer",e))}function yt(e){Dn(e)&&(q=!0,se="virtual")}function Et(e){e.target===window||e.target===document||Hn||!e.isTrusted||(!q&&!Fe&&(se="virtual",Ne("virtual",e)),q=!1,Fe=!1)}function wt(){q=!1,Fe=!0}function Re(e){if(typeof window>"u"||typeof document>"u"||oe.get(z(e)))return;const n=z(e),t=V(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){q=!0,r.apply(this,arguments)},t.addEventListener("keydown",ge,!0),t.addEventListener("keyup",ge,!0),t.addEventListener("click",yt,!0),n.addEventListener("focus",Et,!0),n.addEventListener("blur",wt,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",Z,!0),t.addEventListener("pointermove",Z,!0),t.addEventListener("pointerup",Z,!0)),n.addEventListener("beforeunload",()=>{It(e)},{once:!0}),oe.set(n,{focus:r})}const It=(e,n)=>{const t=z(e),r=V(e);n&&r.removeEventListener("DOMContentLoaded",n),oe.has(t)&&(t.HTMLElement.prototype.focus=oe.get(t).focus,r.removeEventListener("keydown",ge,!0),r.removeEventListener("keyup",ge,!0),r.removeEventListener("click",yt,!0),t.removeEventListener("focus",Et,!0),t.removeEventListener("blur",wt,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Z,!0),r.removeEventListener("pointermove",Z,!0),r.removeEventListener("pointerup",Z,!0)),oe.delete(t))};function Gn(e){const n=V(e);let t;return n.readyState!=="loading"?Re(e):(t=()=>{Re(e)},n.addEventListener("DOMContentLoaded",t)),()=>It(e,t)}typeof document<"u"&&Gn();function Ct(){return se!=="pointer"}const Wn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Un(e,n,t){let r=V(t?.target);const o=typeof window<"u"?z(t?.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?z(t?.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?z(t?.target).HTMLElement:HTMLElement,a=typeof window<"u"?z(t?.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!Wn.has(r.activeElement.type)||r.activeElement instanceof l||r.activeElement instanceof i&&r.activeElement.isContentEditable,!(e&&n==="keyboard"&&t instanceof a&&!Bn[t.key])}function Vn(e,n,t){Re(),s.useEffect(()=>{let r=(o,l)=>{Un(!!t?.isTextInput,o,l)&&e(Ct())};return Te.add(r),()=>{Te.delete(r)}},n)}function Kn(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const l=s.useCallback(u=>{if(u.target===u.currentTarget)return r&&r(u),o&&o(!1),!0},[r,o]),i=$t(l),a=s.useCallback(u=>{const f=V(u.target),c=f?Se(f):Se();u.target===u.currentTarget&&c===gt(u.nativeEvent)&&(t&&t(u),o&&o(!0),i(u))},[o,t,i]);return{focusProps:{onFocus:!n&&(t||o||r)?a:void 0,onBlur:!n&&(r||o)?l:void 0}}}function zn(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:o}=e,l=s.useRef({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:a}=ht(),u=s.useCallback(b=>{b.currentTarget.contains(b.target)&&l.current.isFocusWithin&&!b.currentTarget.contains(b.relatedTarget)&&(l.current.isFocusWithin=!1,a(),t&&t(b),o&&o(!1))},[t,o,l,a]),f=$t(u),c=s.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const x=V(b.target),d=Se(x);if(!l.current.isFocusWithin&&d===gt(b.nativeEvent)){r&&r(b),o&&o(!0),l.current.isFocusWithin=!0,f(b);let m=b.currentTarget;i(x,"focus",p=>{if(l.current.isFocusWithin&&!vt(m,p.target)){let h=new x.defaultView.FocusEvent("blur",{relatedTarget:p.target});On(h,m);let E=xt(h);u(E)}},{capture:!0})}},[r,o,f,i,u]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:u}}}let Me=!1,fe=0;function qn(){Me=!0,setTimeout(()=>{Me=!1},50)}function ze(e){e.pointerType==="touch"&&qn()}function Yn(){if(!(typeof document>"u"))return fe===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",ze),fe++,()=>{fe--,!(fe>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",ze)}}function Qn(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[l,i]=s.useState(!1),a=s.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;s.useEffect(Yn,[]);let{addGlobalListener:u,removeAllGlobalListeners:f}=ht(),{hoverProps:c,triggerHoverEnd:b}=s.useMemo(()=>{let x=(p,h)=>{if(a.pointerType=h,o||h==="touch"||a.isHovered||!p.currentTarget.contains(p.target))return;a.isHovered=!0;let E=p.currentTarget;a.target=E,u(V(p.target),"pointerover",y=>{a.isHovered&&a.target&&!vt(a.target,y.target)&&d(y,y.pointerType)},{capture:!0}),n&&n({type:"hoverstart",target:E,pointerType:h}),t&&t(!0),i(!0)},d=(p,h)=>{let E=a.target;a.pointerType="",a.target=null,!(h==="touch"||!a.isHovered||!E)&&(a.isHovered=!1,f(),r&&r({type:"hoverend",target:E,pointerType:h}),t&&t(!1),i(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=p=>{Me&&p.pointerType==="mouse"||x(p,p.pointerType)},m.onPointerLeave=p=>{!o&&p.currentTarget.contains(p.target)&&d(p,p.pointerType)}),{hoverProps:m,triggerHoverEnd:d}},[n,t,r,o,a,u,f]);return s.useEffect(()=>{o&&b({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:c,isHovered:l}}function Xn(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=s.useRef({isFocused:!1,isFocusVisible:n||Ct()}),[l,i]=s.useState(!1),[a,u]=s.useState(()=>o.current.isFocused&&o.current.isFocusVisible),f=s.useCallback(()=>u(o.current.isFocused&&o.current.isFocusVisible),[]),c=s.useCallback(d=>{o.current.isFocused=d,i(d),f()},[f]);Vn(d=>{o.current.isFocusVisible=d,f()},[],{isTextInput:t});let{focusProps:b}=Kn({isDisabled:r,onFocusChange:c}),{focusWithinProps:x}=zn({isDisabled:!r,onFocusWithinChange:c});return{isFocused:l,isFocusVisible:a,focusProps:r?x:b}}function Jn(e){let n=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+n,bottom:e.clientY+t,left:e.clientX-n}}function Zn(e,n){return!(!e||!n||e.right<n.left||e.left>n.right||e.bottom<n.top||e.top>n.bottom)}function er({disabled:e=!1}={}){let n=s.useRef(null),[t,r]=s.useState(!1),o=je(),l=F(()=>{n.current=null,r(!1),o.dispose()}),i=F(a=>{if(o.dispose(),n.current===null){n.current=a.currentTarget,r(!0);{let u=it(a.currentTarget);o.addEventListener(u,"pointerup",l,!1),o.addEventListener(u,"pointermove",f=>{if(n.current){let c=Jn(f);r(Zn(c,n.current.getBoundingClientRect()))}},!1),o.addEventListener(u,"pointercancel",l,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:i,onPointerUp:l,onClick:l}}}let tr=s.createContext(void 0);function nr(){return s.useContext(tr)}function rr(e){let n=e.parentElement,t=null;for(;n&&!Yt(n);)at(n)&&(t=n),n=n.parentElement;let r=n?.getAttribute("disabled")==="";return r&&or(t)?!1:r}function or(e){if(!e)return!1;let n=e.previousElementSibling;for(;n!==null;){if(at(n))return!1;n=n.previousElementSibling}return!0}let he=s.createContext(null);he.displayName="LabelContext";function Ae(){let e=s.useContext(he);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Ae),n}return e}function lr(e){var n,t,r;let o=(t=(n=s.useContext(he))==null?void 0:n.value)!=null?t:void 0;return((r=void 0)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function St({inherit:e=!1}={}){let n=lr(),[t,r]=s.useState([]),o=e?[n,...t].filter(Boolean):t;return[o.length>0?o.join(" "):void 0,s.useMemo(()=>function(l){let i=F(u=>(r(f=>[...f,u]),()=>r(f=>{let c=f.slice(),b=c.indexOf(u);return b!==-1&&c.splice(b,1),c}))),a=s.useMemo(()=>({register:i,slot:l.slot,name:l.name,props:l.props,value:l.value}),[i,l.slot,l.name,l.props,l.value]);return B.createElement(he.Provider,{value:a},l.children)},[r])]}let sr="label";function ir(e,n){var t;let r=s.useId(),o=Ae(),l=nr(),i=Qt(),{id:a=`headlessui-label-${r}`,htmlFor:u=l??((t=o.props)==null?void 0:t.htmlFor),passive:f=!1,...c}=e,b=le(n);D(()=>o.register(a),[a,o.register]);let x=F(h=>{let E=h.currentTarget;if(!(h.target!==h.currentTarget&&Xt(h.target))&&(_e(E)&&h.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(h),_e(E))){let y=document.getElementById(E.htmlFor);if(y){let w=y.getAttribute("disabled");if(w==="true"||w==="")return;let S=y.getAttribute("aria-disabled");if(S==="true"||S==="")return;(Jt(y)&&(y.type==="file"||y.type==="radio"||y.type==="checkbox")||y.role==="radio"||y.role==="checkbox"||y.role==="switch")&&y.click(),y.focus({preventScroll:!0})}}}),d=i||!1,m=s.useMemo(()=>({...o.slot,disabled:d}),[o.slot,d]),p={ref:b,...o.props,id:a,htmlFor:u,onClick:x};return f&&("onClick"in p&&(delete p.htmlFor,delete p.onClick),"onClick"in c&&delete c.onClick),U()({ourProps:p,theirProps:c,slot:m,defaultTag:u?sr:"div",name:o.name||"Label"})}let ar=W(ir);Object.assign(ar,{});function ur(e){if(e===null)return{width:0,height:0};let{width:n,height:t}=e.getBoundingClientRect();return{width:n,height:t}}function cr(e,n=!1){let[t,r]=s.useReducer(()=>({}),{}),o=s.useMemo(()=>ur(e),[e,t]);return D(()=>{if(!e)return;let l=new ResizeObserver(r);return l.observe(e),()=>{l.disconnect()}},[e]),n?{width:`${o.width}px`,height:`${o.height}px`}:o}var dr=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(dr||{});const me={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},fr=200,qe=5;function mr(e,{trigger:n,action:t,close:r,select:o}){let l=s.useRef(null),i=s.useRef(null),a=s.useRef(null);Ge(e&&n!==null,"pointerdown",u=>{Zt(u?.target)&&n!=null&&n.contains(u.target)&&(i.current=u.x,a.current=u.y,l.current=u.timeStamp)}),Ge(e&&n!==null,"pointerup",u=>{var f,c;let b=l.current;if(b===null||(l.current=null,!en(u.target))||Math.abs(u.x-((f=i.current)!=null?f:u.x))<qe&&Math.abs(u.y-((c=a.current)!=null?c:u.y))<qe)return;let x=t(u);switch(x.kind){case 0:return;case 1:{u.timeStamp-b>fr&&(o(x.target),r());break}case 2:{r();break}}},{capture:!0})}function pr(e,n){return s.useMemo(()=>{var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||n?.tagName==="BUTTON"&&!n.hasAttribute("type"))return"button"},[e.type,e.as,n])}function Ye(e){return[e.screenX,e.screenY]}function vr(){let e=s.useRef([-1,-1]);return{wasMoved(n){let t=Ye(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=Ye(n)}}}function gr(e,{container:n,accept:t,walk:r}){let o=s.useRef(t),l=s.useRef(r);s.useEffect(()=>{o.current=t,l.current=r},[t,r]),D(()=>{if(!n||!e)return;let i=it(n);if(!i)return;let a=o.current,u=l.current,f=Object.assign(b=>a(b),{acceptNode:a}),c=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,f,!1);for(;c.nextNode();)u(c.currentNode)},[n,e,o,l])}function br(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(n=>{let{brand:t,version:r}=n;return t+"/"+r}).join(" "):navigator.userAgent}const Tt={...jt},hr=Tt.useInsertionEffect,xr=hr||(e=>e());function Ft(e){const n=s.useRef(()=>{});return xr(()=>{n.current=e}),s.useCallback(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n.current==null?void 0:n.current(...r)},[])}var Pe=typeof document<"u"?s.useLayoutEffect:s.useEffect;let Qe=!1,$r=0;const Xe=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$r++;function yr(){const[e,n]=s.useState(()=>Qe?Xe():void 0);return Pe(()=>{e==null&&n(Xe())},[]),s.useEffect(()=>{Qe=!0},[]),e}const Er=Tt.useId,wr=Er||yr;function Ir(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(o=>o(t))},on(n,t){e.set(n,[...e.get(n)||[],t])},off(n,t){var r;e.set(n,((r=e.get(n))==null?void 0:r.filter(o=>o!==t))||[])}}}const Cr=s.createContext(null),Sr=s.createContext(null),Tr=()=>{var e;return((e=s.useContext(Cr))==null?void 0:e.id)||null},Fr=()=>s.useContext(Sr),Rr="data-floating-ui-focusable";function Mr(e){const{open:n=!1,onOpenChange:t,elements:r}=e,o=wr(),l=s.useRef({}),[i]=s.useState(()=>Ir()),a=Tr()!=null,[u,f]=s.useState(r.reference),c=Ft((d,m,p)=>{l.current.openEvent=d?m:void 0,i.emit("openchange",{open:d,event:m,reason:p,nested:a}),t?.(d,m,p)}),b=s.useMemo(()=>({setPositionReference:f}),[]),x=s.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return s.useMemo(()=>({dataRef:l,open:n,onOpenChange:c,elements:x,events:i,floatingId:o,refs:b}),[n,c,x,i,o,b])}function Pr(e){e===void 0&&(e={});const{nodeId:n}=e,t=Mr({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,o=r.elements,[l,i]=s.useState(null),[a,u]=s.useState(null),c=o?.domReference||l,b=s.useRef(null),x=Fr();Pe(()=>{c&&(b.current=c)},[c]);const d=$n({...e,elements:{...o,...a&&{reference:a}}}),m=s.useCallback(w=>{const S=de(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;u(S),d.refs.setReference(S)},[d.refs]),p=s.useCallback(w=>{(de(w)||w===null)&&(b.current=w,i(w)),(de(d.refs.reference.current)||d.refs.reference.current===null||w!==null&&!de(w))&&d.refs.setReference(w)},[d.refs]),h=s.useMemo(()=>({...d.refs,setReference:p,setPositionReference:m,domReference:b}),[d.refs,p,m]),E=s.useMemo(()=>({...d.elements,domReference:c}),[d.elements,c]),y=s.useMemo(()=>({...d,...r,refs:h,elements:E,nodeId:n}),[d,h,E,n,r]);return Pe(()=>{r.dataRef.current.floatingContext=y;const w=x?.nodesRef.current.find(S=>S.id===n);w&&(w.context=y)}),s.useMemo(()=>({...d,context:y,refs:h,elements:E}),[d,h,E,y])}const Je="active",Ze="selected";function Ie(e,n,t){const r=new Map,o=t==="item";let l=e;if(o&&e){const{[Je]:i,[Ze]:a,...u}=e;l=u}return{...t==="floating"&&{tabIndex:-1,[Rr]:""},...l,...n.map(i=>{const a=i?i[t]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((i,a)=>(a&&Object.entries(a).forEach(u=>{let[f,c]=u;if(!(o&&[Je,Ze].includes(f)))if(f.indexOf("on")===0){if(r.has(f)||r.set(f,[]),typeof c=="function"){var b;(b=r.get(f))==null||b.push(c),i[f]=function(){for(var x,d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];return(x=r.get(f))==null?void 0:x.map(h=>h(...m)).find(h=>h!==void 0)}}}else i[f]=c}),i),{})}}function kr(e){e===void 0&&(e=[]);const n=e.map(a=>a?.reference),t=e.map(a=>a?.floating),r=e.map(a=>a?.item),o=s.useCallback(a=>Ie(a,e,"reference"),n),l=s.useCallback(a=>Ie(a,e,"floating"),t),i=s.useCallback(a=>Ie(a,e,"item"),r);return s.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:i}),[o,l,i])}function et(e,n){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:n}}}}const jr=e=>({name:"inner",options:e,async fn(n){const{listRef:t,overflowRef:r,onFallbackChange:o,offset:l=0,index:i=0,minItemsVisible:a=4,referenceOverflowThreshold:u=0,scrollRef:f,...c}=yn(e,n),{rects:b,elements:{floating:x}}=n,d=t.current[i],m=f?.current||x,p=x.clientTop||m.clientTop,h=x.clientTop!==0,E=m.clientTop!==0,y=x===m;if(!d)return{};const w={...n,...await mt(-d.offsetTop-x.clientTop-b.reference.height/2-d.offsetHeight/2-l).fn(n)},S=await ye(et(w,m.scrollHeight+p+x.clientTop),c),k=await ye(w,{...c,elementContext:"reference"}),g=Ee(0,S.top),P=w.y+g,_=(m.scrollHeight>m.clientHeight?C=>C:En)(Ee(0,m.scrollHeight+(h&&y||E?p*2:0)-g-Ee(0,S.bottom)));if(m.style.maxHeight=_+"px",m.scrollTop=g,o){const C=m.offsetHeight<d.offsetHeight*wn(a,t.current.length)-1||k.top>=-u||k.bottom>=-u;ee.flushSync(()=>o(C))}return r&&(r.current=await ye(et({...w,y:P},m.offsetHeight+p+x.clientTop),c)),{y:P}}});function Lr(e,n){const{open:t,elements:r}=e,{enabled:o=!0,overflowRef:l,scrollRef:i,onChange:a}=n,u=Ft(a),f=s.useRef(!1),c=s.useRef(null),b=s.useRef(null);s.useEffect(()=>{if(!o)return;function d(p){if(p.ctrlKey||!m||l.current==null)return;const h=p.deltaY,E=l.current.top>=-.5,y=l.current.bottom>=-.5,w=m.scrollHeight-m.clientHeight,S=h<0?-1:1,k=h<0?"max":"min";m.scrollHeight<=m.clientHeight||(!E&&h>0||!y&&h<0?(p.preventDefault(),ee.flushSync(()=>{u(g=>g+Math[k](h,w*S))})):/firefox/i.test(br())&&(m.scrollTop+=h))}const m=i?.current||r.floating;if(t&&m)return m.addEventListener("wheel",d),requestAnimationFrame(()=>{c.current=m.scrollTop,l.current!=null&&(b.current={...l.current})}),()=>{c.current=null,b.current=null,m.removeEventListener("wheel",d)}},[o,t,r.floating,l,i,u]);const x=s.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const d=i?.current||r.floating;if(!(!l.current||!d||!f.current)){if(c.current!==null){const m=d.scrollTop-c.current;(l.current.bottom<-.5&&m<-1||l.current.top<-.5&&m>1)&&ee.flushSync(()=>u(p=>p+m))}requestAnimationFrame(()=>{c.current=d.scrollTop})}}}),[r.floating,u,l,i]);return s.useMemo(()=>o?{floating:x}:{},[o,x])}let te=s.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});te.displayName="FloatingContext";let De=s.createContext(null);De.displayName="PlacementContext";function Nr(e){return s.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Ar(){return s.useContext(te).setReference}function Dr(){return s.useContext(te).getReferenceProps}function Or(){let{getFloatingProps:e,slot:n}=s.useContext(te);return s.useCallback((...t)=>Object.assign({},e(...t),{"data-anchor":n.anchor}),[e,n])}function Hr(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let n=s.useContext(De),t=s.useMemo(()=>e,[JSON.stringify(e,(o,l)=>{var i;return(i=l?.outerHTML)!=null?i:l})]);D(()=>{n?.(t??null)},[n,t]);let r=s.useContext(te);return s.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let tt=4;function Br({children:e,enabled:n=!0}){let[t,r]=s.useState(null),[o,l]=s.useState(0),i=s.useRef(null),[a,u]=s.useState(null);_r(a);let f=n&&t!==null&&a!==null,{to:c="bottom",gap:b=0,offset:x=0,padding:d=0,inner:m}=Gr(t,a),[p,h="center"]=c.split(" ");D(()=>{f&&l(0)},[f]);let{refs:E,floatingStyles:y,context:w}=Pr({open:f,placement:p==="selection"?h==="center"?"bottom":`bottom-${h}`:h==="center"?`${p}`:`${p}-${h}`,strategy:"absolute",transform:!1,middleware:[mt({mainAxis:p==="selection"?0:b,crossAxis:x}),In({padding:d}),p!=="selection"&&Cn({padding:d}),p==="selection"&&m?jr({...m,padding:d,overflowRef:i,offset:o,minItemsVisible:tt,referenceOverflowThreshold:d,onFallbackChange(C){var H,I;if(!C)return;let N=w.elements.floating;if(!N)return;let ie=parseFloat(getComputedStyle(N).scrollPaddingBottom)||0,ne=Math.min(tt,N.childElementCount),ae=0,ue=0;for(let $ of(I=(H=w.elements.floating)==null?void 0:H.childNodes)!=null?I:[])if(ke($)){let A=$.offsetTop,re=A+$.clientHeight+ie,Y=N.scrollTop,ce=Y+N.clientHeight;if(A>=Y&&re<=ce)ne--;else{ue=Math.max(0,Math.min(re,ce)-Math.max(A,Y)),ae=$.clientHeight;break}}ne>=1&&l($=>{let A=ae*ne-ue+ie;return $>=A?$:A})}}):null,Sn({padding:d,apply({availableWidth:C,availableHeight:H,elements:I}){Object.assign(I.floating.style,{overflow:"auto",maxWidth:`${C}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${H}px)`})}})].filter(Boolean),whileElementsMounted:Tn}),[S=p,k=h]=w.placement.split("-");p==="selection"&&(S="selection");let g=s.useMemo(()=>({anchor:[S,k].filter(Boolean).join(" ")}),[S,k]),P=Lr(w,{overflowRef:i,onChange:l}),{getReferenceProps:M,getFloatingProps:O}=kr([P]),_=F(C=>{u(C),E.setFloating(C)});return s.createElement(De.Provider,{value:r},s.createElement(te.Provider,{value:{setFloating:_,setReference:E.setReference,styles:y,getReferenceProps:M,getFloatingProps:O,slot:g}},e))}function _r(e){D(()=>{if(!e)return;let n=new MutationObserver(()=>{let t=window.getComputedStyle(e).maxHeight,r=parseFloat(t);if(isNaN(r))return;let o=parseInt(t);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return n.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{n.disconnect()}},[e])}function Gr(e,n){var t,r,o;let l=Ce((t=e?.gap)!=null?t:"var(--anchor-gap, 0)",n),i=Ce((r=e?.offset)!=null?r:"var(--anchor-offset, 0)",n),a=Ce((o=e?.padding)!=null?o:"var(--anchor-padding, 0)",n);return{...e,gap:l,offset:i,padding:a}}function Ce(e,n,t=void 0){let r=je(),o=F((u,f)=>{if(u==null)return[t,null];if(typeof u=="number")return[u,null];if(typeof u=="string"){if(!f)return[t,null];let c=nt(u,f);return[c,b=>{let x=Rt(u);{let d=x.map(m=>window.getComputedStyle(f).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let p=!1;for(let[E,y]of x.entries()){let w=window.getComputedStyle(f).getPropertyValue(y);if(d[E]!==w){d[E]=w,p=!0;break}}if(!p)return;let h=nt(u,f);c!==h&&(b(h),c=h)})}return r.dispose}]}return[t,null]}),l=s.useMemo(()=>o(e,n)[0],[e,n]),[i=l,a]=s.useState();return D(()=>{let[u,f]=o(e,n);if(a(u),!!f)return f(a)},[e,n]),i}function Rt(e){let n=/var\((.*)\)/.exec(e);if(n){let t=n[1].indexOf(",");if(t===-1)return[n[1]];let r=n[1].slice(0,t).trim(),o=n[1].slice(t+1).trim();return o?[r,...Rt(o)]:[r]}return[]}function nt(e,n){let t=document.createElement("div");n.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(t).marginTop)||0;return n.removeChild(t),r}function Wr(e){throw new Error("Unexpected object: "+e)}var R=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(R||{});function pe(e,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let l=0;l<t.length;++l)if(!n.resolveDisabled(t[l],l,t))return l;return r}case 1:{o===-1&&(o=t.length);for(let l=o-1;l>=0;--l)if(!n.resolveDisabled(t[l],l,t))return l;return r}case 2:{for(let l=o+1;l<t.length;++l)if(!n.resolveDisabled(t[l],l,t))return l;return r}case 3:{for(let l=t.length-1;l>=0;--l)if(!n.resolveDisabled(t[l],l,t))return l;return r}case 4:{for(let l=0;l<t.length;++l)if(n.resolveId(t[l],l,t)===e.id)return l;return r}case 5:return null;default:Wr(e)}}var Mt=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Mt||{});function Ur(e,n){let t=s.useRef({left:0,top:0});if(D(()=>{if(!n)return;let o=n.getBoundingClientRect();o&&(t.current=o)},[e,n]),n==null||!e||n===document.activeElement)return!1;let r=n.getBoundingClientRect();return r.top!==t.current.top||r.left!==t.current.left}let rt=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ot(e){var n,t;let r=(n=e.innerText)!=null?n:"",o=e.cloneNode(!0);if(!ke(o))return r;let l=!1;for(let a of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),l=!0;let i=l?(t=o.innerText)!=null?t:"":r;return rt.test(i)&&(i=i.replace(rt,"")),i}function Vr(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let t=e.getAttribute("aria-labelledby");if(t){let r=t.split(" ").map(o=>{let l=document.getElementById(o);if(l){let i=l.getAttribute("aria-label");return typeof i=="string"?i.trim():ot(l).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return ot(e).trim()}function Kr(e){let n=s.useRef(""),t=s.useRef("");return F(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(n.current===o)return t.current;let l=Vr(r).trim().toLowerCase();return n.current=o,t.current=l,l})}var zr=Object.defineProperty,qr=(e,n,t)=>n in e?zr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,lt=(e,n,t)=>(qr(e,typeof n!="symbol"?n+"":n,t),t),j=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(j||{}),be=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(be||{}),T=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(T||{});function st(e,n=t=>t){let t=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=rn(n(e.items.slice()),l=>l.dataRef.current.domRef.current),o=t?r.indexOf(t):null;return o===-1&&(o=null),{items:r,activeItemIndex:o}}let Yr={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:R.Nothing},menuState:1}},0(e,n){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:n.focus,menuState:0}},2:(e,n)=>{var t,r,o,l,i;if(e.menuState===1)return e;let a={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===R.Nothing)return{...a,activeItemIndex:null};if(n.focus===R.Specific)return{...a,activeItemIndex:e.items.findIndex(c=>c.id===n.id)};if(n.focus===R.Previous){let c=e.activeItemIndex;if(c!==null){let b=e.items[c].dataRef.current.domRef,x=pe(n,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(x!==null){let d=e.items[x].dataRef.current.domRef;if(((r=b.current)==null?void 0:r.previousElementSibling)===d.current||((o=d.current)==null?void 0:o.previousElementSibling)===null)return{...a,activeItemIndex:x}}}}else if(n.focus===R.Next){let c=e.activeItemIndex;if(c!==null){let b=e.items[c].dataRef.current.domRef,x=pe(n,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(x!==null){let d=e.items[x].dataRef.current.domRef;if(((l=b.current)==null?void 0:l.nextElementSibling)===d.current||((i=d.current)==null?void 0:i.nextElementSibling)===null)return{...a,activeItemIndex:x}}}}let u=st(e),f=pe(n,{resolveItems:()=>u.items,resolveActiveIndex:()=>u.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...a,...u,activeItemIndex:f}},3:(e,n)=>{let t=e.searchQuery!==""?0:1,r=e.searchQuery+n.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+t).concat(e.items.slice(0,e.activeItemIndex+t)):e.items).find(i=>{var a;return((a=i.dataRef.current.textValue)==null?void 0:a.startsWith(r))&&!i.dataRef.current.disabled}),l=o?e.items.indexOf(o):-1;return l===-1||l===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:l,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,n)=>{let t=e.items.concat(n.items.map(o=>o)),r=e.activeItemIndex;return e.pendingFocus.focus!==R.Nothing&&(r=pe(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),{...e,items:t,activeItemIndex:r,pendingFocus:{focus:R.Nothing},pendingShouldSort:!0}},6:(e,n)=>{let t=e.items,r=[],o=new Set(n.items);for(let[l,i]of t.entries())if(o.has(i.id)&&(r.push(l),o.delete(i.id),o.size===0))break;if(r.length>0){t=t.slice();for(let l of r.reverse())t.splice(l,1)}return{...e,items:t,activationTrigger:1}},7:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},8:(e,n)=>e.itemsElement===n.element?e:{...e,itemsElement:n.element},9:e=>e.pendingShouldSort?{...e,...st(e),pendingShouldSort:!1}:e};class Oe extends tn{constructor(n){super(n),lt(this,"actions",{registerItem:We(()=>{let t=[],r=new Set;return[(o,l)=>{r.has(l)||(r.add(l),t.push({id:o,dataRef:l}))},()=>(r.clear(),this.send({type:5,items:t.splice(0)}))]}),unregisterItem:We(()=>{let t=[];return[r=>t.push(r),()=>this.send({type:6,items:t.splice(0)})]})}),lt(this,"selectors",{activeDescendantId(t){var r;let o=t.activeItemIndex,l=t.items;return o===null||(r=l[o])==null?void 0:r.id},isActive(t,r){var o;let l=t.activeItemIndex,i=t.items;return l!==null?((o=i[l])==null?void 0:o.id)===r:!1},shouldScrollIntoView(t,r){return t.__demoMode||t.menuState!==0||t.activationTrigger===0?!1:this.isActive(t,r)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,r=ut.get(null);this.disposables.add(r.on(nn.Push,o=>{!r.selectors.isTop(o,t)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(t)),this.on(1,()=>r.actions.pop(t))}}static new({id:n,__demoMode:t=!1}){return new Oe({id:n,__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:R.Nothing}})}reduce(n,t){return dt(t.type,Yr,n,t)}}const Pt=s.createContext(null);function He(e){let n=s.useContext(Pt);if(n===null){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,kt),t}return n}function kt({id:e,__demoMode:n=!1}){let t=s.useMemo(()=>Oe.new({id:e,__demoMode:n}),[]);return on(()=>t.dispose()),t}let Qr=s.Fragment;function Xr(e,n){let t=s.useId(),{__demoMode:r=!1,...o}=e,l=kt({id:t,__demoMode:r}),[i,a,u]=G(l,h=>[h.menuState,h.itemsElement,h.buttonElement]),f=le(n),c=ut.get(null),b=G(c,s.useCallback(h=>c.selectors.isTop(h,t),[c,t]));ln(b,[u,a],(h,E)=>{var y;l.send({type:T.CloseMenu}),mn(E,pn.Loose)||(h.preventDefault(),(y=l.state.buttonElement)==null||y.focus())});let x=F(()=>{l.send({type:T.CloseMenu})}),d=s.useMemo(()=>({open:i===j.Open,close:x}),[i,x]),m={ref:f},p=U();return B.createElement(Br,null,B.createElement(Pt.Provider,{value:l},B.createElement(vn,{value:dt(i,{[j.Open]:ve.Open,[j.Closed]:ve.Closed})},p({ourProps:m,theirProps:o,slot:d,defaultTag:Qr,name:"Menu"}))))}let Jr="button";function Zr(e,n){let t=He("Menu.Button"),r=s.useId(),{id:o=`headlessui-menu-button-${r}`,disabled:l=!1,autoFocus:i=!1,...a}=e,u=s.useRef(null),f=Dr(),c=le(n,u,Ar(),F(I=>t.send({type:T.SetButtonElement,element:I}))),b=F(I=>{switch(I.key){case L.Space:case L.Enter:case L.ArrowDown:I.preventDefault(),I.stopPropagation(),t.send({type:T.OpenMenu,focus:{focus:R.First}});break;case L.ArrowUp:I.preventDefault(),I.stopPropagation(),t.send({type:T.OpenMenu,focus:{focus:R.Last}});break}}),x=F(I=>{switch(I.key){case L.Space:I.preventDefault();break}}),[d,m,p]=G(t,I=>[I.menuState,I.buttonElement,I.itemsElement]),h=d===j.Open;mr(h,{trigger:m,action:s.useCallback(I=>{if(m!=null&&m.contains(I.target))return me.Ignore;let N=I.target.closest('[role="menuitem"]:not([data-disabled])');return ke(N)?me.Select(N):p!=null&&p.contains(I.target)?me.Ignore:me.Close},[m,p]),close:s.useCallback(()=>t.send({type:T.CloseMenu}),[]),select:s.useCallback(I=>I.click(),[])});let E=F(I=>{var N;if(I.button===Mt.Left){if(rr(I.currentTarget))return I.preventDefault();l||(d===j.Open?(ee.flushSync(()=>t.send({type:T.CloseMenu})),(N=u.current)==null||N.focus({preventScroll:!0})):(I.preventDefault(),t.send({type:T.OpenMenu,focus:{focus:R.Nothing},trigger:be.Pointer})))}}),y=s.useRef(null),w=F(I=>{y.current=I.pointerType,I.pointerType==="mouse"&&E(I)}),S=F(I=>{y.current!=="mouse"&&E(I)}),{isFocusVisible:k,focusProps:g}=Xn({autoFocus:i}),{isHovered:P,hoverProps:M}=Qn({isDisabled:l}),{pressed:O,pressProps:_}=er({disabled:l}),C=s.useMemo(()=>({open:d===j.Open,active:O||d===j.Open,disabled:l,hover:P,focus:k,autofocus:i}),[d,P,k,O,l,i]),H=ft(f(),{ref:c,id:o,type:pr(e,u.current),"aria-haspopup":"menu","aria-controls":p?.id,"aria-expanded":d===j.Open,disabled:l||void 0,autoFocus:i,onKeyDown:b,onKeyUp:x,onPointerDown:w,onClick:S},g,M,_);return U()({ourProps:H,theirProps:a,slot:C,defaultTag:Jr,name:"Menu.Button"})}let eo="div",to=Ke.RenderStrategy|Ke.Static;function no(e,n){let t=s.useId(),{id:r=`headlessui-menu-items-${t}`,anchor:o,portal:l=!1,modal:i=!0,transition:a=!1,...u}=e,f=Nr(o),c=He("Menu.Items"),[b,x]=Hr(f),d=Or(),[m,p]=s.useState(null),h=le(n,f?b:null,F($=>c.send({type:T.SetItemsElement,element:$})),p),[E,y]=G(c,$=>[$.menuState,$.buttonElement]),w=Ue(y),S=Ue(m);f&&(l=!0);let k=gn(),[g,P]=bn(a,m,k!==null?(k&ve.Open)===ve.Open:E===j.Open);an(g,y,()=>{c.send({type:T.CloseMenu})});let M=G(c,$=>$.__demoMode),O=M?!1:i&&E===j.Open;un(O,S);let _=M?!1:i&&E===j.Open;cn(_,{allowed:s.useCallback(()=>[y,m],[y,m])});let C=E!==j.Open,H=Ur(C,y)?!1:g;s.useEffect(()=>{let $=m;$&&E===j.Open&&$!==S?.activeElement&&$.focus({preventScroll:!0})},[E,m,S]),gr(E===j.Open,{container:m,accept($){return $.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:$.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($){$.setAttribute("role","none")}});let I=je(),N=F($=>{var A,re,Y;switch(I.dispose(),$.key){case L.Space:if(c.state.searchQuery!=="")return $.preventDefault(),$.stopPropagation(),c.send({type:T.Search,value:$.key});case L.Enter:if($.preventDefault(),$.stopPropagation(),c.state.activeItemIndex!==null){let{dataRef:ce}=c.state.items[c.state.activeItemIndex];(re=(A=ce.current)==null?void 0:A.domRef.current)==null||re.click()}c.send({type:T.CloseMenu}),ct(c.state.buttonElement);break;case L.ArrowDown:return $.preventDefault(),$.stopPropagation(),c.send({type:T.GoToItem,focus:R.Next});case L.ArrowUp:return $.preventDefault(),$.stopPropagation(),c.send({type:T.GoToItem,focus:R.Previous});case L.Home:case L.PageUp:return $.preventDefault(),$.stopPropagation(),c.send({type:T.GoToItem,focus:R.First});case L.End:case L.PageDown:return $.preventDefault(),$.stopPropagation(),c.send({type:T.GoToItem,focus:R.Last});case L.Escape:$.preventDefault(),$.stopPropagation(),ee.flushSync(()=>c.send({type:T.CloseMenu})),(Y=c.state.buttonElement)==null||Y.focus({preventScroll:!0});break;case L.Tab:$.preventDefault(),$.stopPropagation(),ee.flushSync(()=>c.send({type:T.CloseMenu})),fn(c.state.buttonElement,$.shiftKey?Ve.Previous:Ve.Next);break;default:$.key.length===1&&(c.send({type:T.Search,value:$.key}),I.setTimeout(()=>c.send({type:T.ClearSearch}),350));break}}),ie=F($=>{switch($.key){case L.Space:$.preventDefault();break}}),ne=s.useMemo(()=>({open:E===j.Open}),[E]),ae=ft(f?d():{},{"aria-activedescendant":G(c,c.selectors.activeDescendantId),"aria-labelledby":G(c,$=>{var A;return(A=$.buttonElement)==null?void 0:A.id}),id:r,onKeyDown:N,onKeyUp:ie,role:"menu",tabIndex:E===j.Open?0:void 0,ref:h,style:{...u.style,...x,"--button-width":cr(y,!0).width},...hn(P)}),ue=U();return B.createElement(dn,{enabled:l?e.static||g:!1,ownerDocument:w},ue({ourProps:ae,theirProps:u,slot:ne,defaultTag:eo,features:to,visible:H,name:"Menu.Items"}))}let ro=s.Fragment;function oo(e,n){let t=s.useId(),{id:r=`headlessui-menu-item-${t}`,disabled:o=!1,...l}=e,i=He("Menu.Item"),a=G(i,C=>i.selectors.isActive(C,r)),u=s.useRef(null),f=le(n,u),c=G(i,C=>i.selectors.shouldScrollIntoView(C,r));D(()=>{if(c)return xn().requestAnimationFrame(()=>{var C,H;(H=(C=u.current)==null?void 0:C.scrollIntoView)==null||H.call(C,{block:"nearest"})})},[c,u]);let b=Kr(u),x=s.useRef({disabled:o,domRef:u,get textValue(){return b()}});D(()=>{x.current.disabled=o},[x,o]),D(()=>(i.actions.registerItem(r,x),()=>i.actions.unregisterItem(r)),[x,r]);let d=F(()=>{i.send({type:T.CloseMenu})}),m=F(C=>{if(o)return C.preventDefault();i.send({type:T.CloseMenu}),ct(i.state.buttonElement)}),p=F(()=>{if(o)return i.send({type:T.GoToItem,focus:R.Nothing});i.send({type:T.GoToItem,focus:R.Specific,id:r})}),h=vr(),E=F(C=>h.update(C)),y=F(C=>{h.wasMoved(C)&&(o||a||i.send({type:T.GoToItem,focus:R.Specific,id:r,trigger:be.Pointer}))}),w=F(C=>{h.wasMoved(C)&&(o||a&&i.state.activationTrigger===be.Pointer&&i.send({type:T.GoToItem,focus:R.Nothing}))}),[S,k]=St(),[g,P]=sn(),M=s.useMemo(()=>({active:a,focus:a,disabled:o,close:d}),[a,o,d]),O={id:r,ref:f,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-labelledby":S,"aria-describedby":g,disabled:void 0,onClick:m,onFocus:p,onPointerEnter:E,onMouseEnter:E,onPointerMove:y,onMouseMove:y,onPointerLeave:w,onMouseLeave:w},_=U();return B.createElement(k,null,B.createElement(P,null,_({ourProps:O,theirProps:l,slot:M,defaultTag:ro,name:"Menu.Item"})))}let lo="div";function so(e,n){let[t,r]=St(),o=e,l={ref:n,"aria-labelledby":t,role:"group"},i=U();return B.createElement(r,null,i({ourProps:l,theirProps:o,slot:{},defaultTag:lo,name:"Menu.Section"}))}let io="header";function ao(e,n){let t=s.useId(),{id:r=`headlessui-menu-heading-${t}`,...o}=e,l=Ae();D(()=>l.register(r),[r,l.register]);let i={id:r,ref:n,role:"presentation",...l.props};return U()({ourProps:i,theirProps:o,slot:{},defaultTag:io,name:"Menu.Heading"})}let uo="div";function co(e,n){let t=e,r={ref:n,role:"separator"};return U()({ourProps:r,theirProps:t,slot:{},defaultTag:uo,name:"Menu.Separator"})}let fo=W(Xr),mo=W(Zr),po=W(no),vo=W(oo),go=W(so),bo=W(ao),ho=W(co),J=Object.assign(fo,{Button:mo,Items:po,Item:vo,Section:go,Heading:bo,Separator:ho});const xo=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function Do({equipments:e,rooms:n}){const[t,r]=s.useState(""),[o,l]=s.useState(1),[i,a]=s.useState(null),u=10;Lt();const[f,c]=s.useState("All Rooms"),[b,x]=s.useState("All Types"),[d,m]=s.useState("All Conditions"),p=["All Rooms",...new Set(e.map(g=>g.room?.room_number||"N/A"))],h=["All Types",...new Set(e.map(g=>g.type||"N/A"))],E=["All Conditions",...new Set(e.map(g=>g.condition||"N/A"))],y=s.useMemo(()=>e.filter(g=>{const P=g.equipment_code.toLowerCase().includes(t.toLowerCase()),M=g.room?.room_number?.toLowerCase().includes(t.toLowerCase()),O=(f==="All Rooms"||g.room?.room_number===f)&&(b==="All Types"||g.type===b)&&(d==="All Conditions"||g.condition===d);return(P||M)&&O}),[e,t,f,b,d]),w=Math.ceil(y.length/u),S=y.slice((o-1)*u,o*u),k=g=>{const P=xo.find(M=>M.label.toLowerCase()===g.toLowerCase());return P?P.color:"bg-muted"};return v.jsxs(At,{children:[v.jsx(Nt,{}),v.jsxs(Dt,{children:[v.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[v.jsx(Ot,{}),v.jsx(Ht,{orientation:"vertical",className:"h-6 mx-3"}),v.jsx(Vt,{children:v.jsx(Kt,{children:v.jsxs(zt,{children:[v.jsx(Be,{href:"#","aria-current":"page",children:"Assets"}),v.jsx(qt,{}),v.jsx(Be,{href:"/equipments","aria-current":"page",className:"font-semibold text-foreground",children:"Equipment List"})]})})})]}),v.jsxs("main",{className:"w-full px-6 py-4",children:[v.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Equipments"}),v.jsxs("div",{className:"flex justify-between items-center mb-4 gap-2",children:[v.jsx(_t,{placeholder:"Search Equipment Code...",value:t,onChange:g=>{r(g.target.value),l(1)},className:"text-sm sm:text-base px-2 sm:px-3 py-1 sm:py-2 flex-1 max-w-xs"}),v.jsx(Q,{className:"text-sm sm:text-base px-3 py-1 sm:py-2",onClick:()=>xe.visit("/equipments/addequipment"),children:"Add Equipment"})]}),v.jsx("div",{className:"overflow-x-auto rounded-lg border",children:v.jsxs(Gt,{children:[v.jsx(Wt,{children:v.jsxs($e,{children:[v.jsx(X,{className:"px-2 py-1",children:"#"}),v.jsx(X,{className:"px-2 py-1",children:"Equipment Code"}),v.jsx(X,{className:"px-2 py-1",children:v.jsx("select",{className:"w-full border rounded px-2 py-1 text-xs",value:f,onChange:g=>c(g.target.value),children:p.map(g=>v.jsx("option",{value:g,children:g},g))})}),v.jsx(X,{className:"px-2 py-1",children:v.jsx("select",{className:"w-full border rounded px-2 py-1 text-xs",value:b,onChange:g=>x(g.target.value),children:h.map(g=>v.jsx("option",{value:g,children:g},g))})}),v.jsx(X,{className:"px-2 py-1",children:v.jsx("select",{className:"w-full border rounded px-2 py-1 text-xs",value:d,onChange:g=>m(g.target.value),children:E.map(g=>v.jsx("option",{value:g,children:g},g))})}),v.jsx(X,{className:"px-2 py-1 text-center",children:"Actions"})]})}),v.jsx(Ut,{children:S.length>0?S.map((g,P)=>v.jsxs($e,{children:[v.jsx(K,{children:(o-1)*u+P+1}),v.jsx(K,{children:g.equipment_code}),v.jsx(K,{children:g.room?.room_number||"N/A"}),v.jsx(K,{children:g.type}),v.jsx(K,{children:g.condition&&v.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[v.jsx("span",{className:Bt("inline-block w-3 h-3 rounded-full",k(g.condition))}),v.jsx("span",{className:"capitalize",children:g.condition})]})}),v.jsxs(K,{className:"text-center",children:[v.jsxs("div",{className:"hidden sm:flex gap-2 justify-center",children:[v.jsx(Q,{size:"sm",variant:"secondary",onClick:()=>xe.visit(`/equipments/view/${g.equipment_code}`),children:"View"}),v.jsx(Q,{size:"sm",variant:"secondary",onClick:()=>a(g),children:"Edit"}),v.jsx(Q,{size:"sm",variant:"destructive",onClick:()=>handleDelete(g),children:"Delete"})]}),v.jsx("div",{className:"flex sm:hidden justify-center",children:v.jsxs(J,{as:"div",className:"relative inline-block text-left",children:[v.jsx(J.Button,{className:"p-2 rounded hover:bg-gray-100",children:v.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zm6 0a2 2 0 11-4 0 2 2 0 014 0zm6 0a2 2 0 11-4 0 2 2 0 014 0z"})})}),v.jsxs(J.Items,{className:"absolute right-0 mt-2 w-32 origin-top-right bg-white border rounded shadow-lg focus:outline-none z-10",children:[v.jsx(J.Item,{children:({active:M})=>v.jsx("button",{className:`${M?"bg-gray-100":""} w-full text-left px-3 py-2 text-sm`,onClick:()=>xe.visit(`/equipments/view/${g.equipment_code}`),children:"View"})}),v.jsx(J.Item,{children:({active:M})=>v.jsx("button",{className:`${M?"bg-gray-100":""} w-full text-left px-3 py-2 text-sm`,onClick:()=>a(g),children:"Edit"})}),v.jsx(J.Item,{children:({active:M})=>v.jsx("button",{className:`${M?"bg-gray-100":""} w-full text-left px-3 py-2 text-sm text-red-600`,onClick:()=>handleDelete(g),children:"Delete"})})]})]})})]})]},g.id)):v.jsx($e,{children:v.jsx(K,{colSpan:6,className:"text-center py-4",children:"No matching equipments found."})})})]})}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-4 gap-2",children:[v.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",o," of ",w]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(Q,{size:"sm",variant:"outline",disabled:o===1,onClick:()=>l(g=>g-1),children:"Previous"}),v.jsx(Q,{size:"sm",variant:"outline",disabled:o===w,onClick:()=>l(g=>g+1),children:"Next"})]})]}),i&&v.jsx(EditEquipmentModal,{equipment:i,rooms:n,onClose:()=>a(null)})]})]})]})}export{Do as default};
