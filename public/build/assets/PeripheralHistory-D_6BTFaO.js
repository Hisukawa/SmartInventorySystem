<<<<<<<< HEAD:public/build/assets/PeripheralHistory-D_6BTFaO.js
import{b as n,r as m,j as e,H as c,c as p}from"./app-i2GBo_P0.js";import{S as i}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{S as h,a as y,b as u,c as f}from"./avatar-uOjdFomO.js";import{N as j}from"./Notification-CeBqP7Xu.js";import{B as N,a as g,b,c as v}from"./breadcrumb-DlWiOzz5.js";import{A as w}from"./app-sidebar-DHWDVI8q.js";import{T as S}from"./TopNavBar-Dfk34nQ_.js";import"./utils-C4tYgYfe.js";import"./index-DURQXQd2.js";import"./index-CXel-xAN.js";import"./button-Bg5eUSak.js";import"./input-B29S6EtG.js";import"./index-C-DvCLFg.js";import"./index-DETctro6.js";import"./dropdown-menu-DTSePjEC.js";import"./index-BGI7BN2Q.js";import"./chevron-right-t8b2153C.js";import"./index-Cj-2EbC_.js";import"./index-Dl86K2bm.js";import"./bell-ba0rlvG-.js";import"./sparkles-D0hYyZzh.js";import"./keyboard-C0uKx2ig.js";import"./boxes-fwHdY-3S.js";import"./file-text-BrK0dou_.js";import"./users-Yeb4336j.js";import"./chevron-down-ByGBOaA_.js";import"./cpu-DY5colDQ.js";import"./hard-drive-D2MiREFv.js";function ee(){const{histories:o}=n().props,[r,x]=m.useState(o.data||[]),[l,B]=m.useState(o),d=async t=>{i.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async s=>{if(s.isConfirmed)try{await p.delete(`/peripherals-history/${t}`),x(r.filter(a=>a.id!==t)),i.fire({title:"Deleted!",text:"History has been deleted.",icon:"success",timer:1e3,showConfirmButton:!1})}catch(a){console.error("Error deleting history:",a),i.fire("Error!","Failed to delete history.","error")}})};return e.jsxs(h,{children:[e.jsx(w,{}),e.jsxs(y,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{}),e.jsx(f,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(N,{children:e.jsx(g,{children:e.jsx(b,{children:e.jsx(v,{href:"/admin/peripherals-history","aria-current":"page",className:"font-semibold text-foreground",children:"Peripherals History"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(j,{})]})}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx(S,{}),e.jsx(c,{title:"Peripherals History"}),e.jsx("h1",{className:"text-2xl text-center font-bold mt-5 mb-4",children:"Peripherals Activity History"}),r.length===0?e.jsx("p",{className:"text-center mt-10",children:"No peripherals history found."}):e.jsxs("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"#"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"User Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Peripheral Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Action"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Component"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Old Value"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"New Value"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Room"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Date & Time"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Manage"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:s+1}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.user?.name}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.peripheral_code}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.action}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.component}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.old_value||"-"}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.new_value||"-"}),e.jsxs("td",{className:"px-4 py-2 text-sm",children:["Room"," ",t.room?.room_number||"-"]}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.unit?.unit_code||"-"}),e.jsx("td",{className:"px-4 py-2 text-sm",children:new Date(t.created_at).toLocaleString()}),e.jsx("td",{className:"px-4 py-2 text-sm",children:e.jsx("button",{className:"px-2 py-1 text-white bg-red-500 rounded hover:bg-red-600",onClick:()=>d(t.id),children:"Delete"})})]},t.id))})]}),l.links&&e.jsx("div",{className:"flex justify-center mt-4 space-x-2 mb-3",children:l.links.map((t,s)=>e.jsx("button",{disabled:!t.url,className:`px-3 py-1 rounded ${t.active?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>t.url&&(window.location.href=t.url),dangerouslySetInnerHTML:{__html:t.label}},s))})]})]})]})]})}export{ee as default};
========
import{b as n,r as m,j as e,H as c,c as p}from"./app-BZNx1Op-.js";import{S as i}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{S as h,a as y,b as u,c as f}from"./avatar-OuVEkVNL.js";import{N as j}from"./Notification-Dvn33Znz.js";import{B as N,a as g,b,c as v}from"./breadcrumb-D4lvHxwb.js";import{A as w}from"./app-sidebar-CbFxqI3R.js";import{T as S}from"./TopNavBar-CdEa5d1w.js";import"./utils-BaUq1rAs.js";import"./index-R5fUdd4-.js";import"./index-CAS2U3-u.js";import"./button-DB07SHKD.js";import"./input-TNZNG69l.js";import"./index-DLgttGDj.js";import"./index-B22ktmVf.js";import"./dropdown-menu-DKk4bFWK.js";import"./index-D6EBPQ4-.js";import"./chevron-right-BWigJU2m.js";import"./index-B45k9PtL.js";import"./index-CaGmpQLK.js";import"./bell-DYvQheQA.js";import"./sparkles-BhJqNhP8.js";import"./keyboard-CbRSq3BT.js";import"./boxes-DcbPmtFi.js";import"./file-text-DF_PZyDq.js";import"./users-RtMk2Ugm.js";import"./chevron-down-DXW5uovK.js";import"./cpu-C5qWjSG1.js";import"./hard-drive-B7Ty1Not.js";function ee(){const{histories:o}=n().props,[r,x]=m.useState(o.data||[]),[l,B]=m.useState(o),d=async t=>{i.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async s=>{if(s.isConfirmed)try{await p.delete(`/peripherals-history/${t}`),x(r.filter(a=>a.id!==t)),i.fire({title:"Deleted!",text:"History has been deleted.",icon:"success",timer:1e3,showConfirmButton:!1})}catch(a){console.error("Error deleting history:",a),i.fire("Error!","Failed to delete history.","error")}})};return e.jsxs(h,{children:[e.jsx(w,{}),e.jsxs(y,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{}),e.jsx(f,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(N,{children:e.jsx(g,{children:e.jsx(b,{children:e.jsx(v,{href:"/admin/peripherals-history","aria-current":"page",className:"font-semibold text-foreground",children:"Peripherals History"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(j,{})]})}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx(S,{}),e.jsx(c,{title:"Peripherals History"}),e.jsx("h1",{className:"text-2xl text-center font-bold mt-5 mb-4",children:"Peripherals Activity History"}),r.length===0?e.jsx("p",{className:"text-center mt-10",children:"No peripherals history found."}):e.jsxs("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"#"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"User Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Peripheral Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Action"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Component"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Old Value"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"New Value"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Room"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Date & Time"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-500",children:"Manage"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:s+1}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.user?.name}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.peripheral_code}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.action}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.component}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.old_value||"-"}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.new_value||"-"}),e.jsxs("td",{className:"px-4 py-2 text-sm",children:["Room"," ",t.room?.room_number||"-"]}),e.jsx("td",{className:"px-4 py-2 text-sm",children:t.unit?.unit_code||"-"}),e.jsx("td",{className:"px-4 py-2 text-sm",children:new Date(t.created_at).toLocaleString()}),e.jsx("td",{className:"px-4 py-2 text-sm",children:e.jsx("button",{className:"px-2 py-1 text-white bg-red-500 rounded hover:bg-red-600",onClick:()=>d(t.id),children:"Delete"})})]},t.id))})]}),l.links&&e.jsx("div",{className:"flex justify-center mt-4 space-x-2 mb-3",children:l.links.map((t,s)=>e.jsx("button",{disabled:!t.url,className:`px-3 py-1 rounded ${t.active?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>t.url&&(window.location.href=t.url),dangerouslySetInnerHTML:{__html:t.label}},s))})]})]})]})]})}export{ee as default};
>>>>>>>> upstream/main:public/build/assets/PeripheralHistory-AshiW_mC.js
