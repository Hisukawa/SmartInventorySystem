import{b as F,u as y,r as c,j as e,H as P,t as m}from"./app-DOsJYAZr.js";import{B as O}from"./button-BJkAWaq5.js";import{C as w,a as A}from"./card-CrNlYN97.js";import{I as a}from"./input-C5mRaj1H.js";import{L as i}from"./label-BlmUZNEX.js";import{S as R,a as M,b as U,c as B}from"./avatar-DEPZ2ohQ.js";import{A as I}from"./app-sidebar-BWrk-TeW.js";import{B as L,a as T,b as D,c as d,d as h}from"./breadcrumb-C-NznmIM.js";import{S as x,a as u,b as p,c as j,d as g}from"./select-DLOsxY-u.js";import"./index-BCvnxMa-.js";import"./utils-CBfrqCZ4.js";import"./index-B0seKdI2.js";import"./createLucideIcon-BCibPqi-.js";import"./index-DUfoXKAx.js";import"./index-azXK0IiM.js";import"./dropdown-menu-DvBtlFDx.js";import"./index-BPrBitMd.js";import"./chevron-right-DloDiWLc.js";import"./index-iH8E8t8T.js";import"./index-BvrKgbP5.js";import"./user-CC-r41EW.js";import"./keyboard-CXkFtwr5.js";import"./boxes-BVsSIFuJ.js";import"./users-CKQcK-DL.js";import"./chevron-down-C7-3JduT.js";import"./index-BdLiMkF_.js";const E=[{label:"Functional",color:"bg-green-500"},{label:"Needs Boot / Pending Check",color:"bg-orange-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}],k=["Processor","RAM","Storage","GPU","Motherboard"];function xe(){const{rooms:n,faculties:b}=F().props,{data:o,setData:s,post:v,processing:_,errors:t,reset:f}=y({unit_code:"",serial_number:"",room_id:"",mr_id:"",condition:"",condition_details:"",condition_locked:!1,processor:"",ram:"",storage:"",gpu:"",motherboard:"",os:""}),S=r=>{r.preventDefault(),v("/admin/system-units",{onSuccess:()=>{f(),m.success("The system unit has been added successfully!",{description:"PC Added",duration:2e3})},onError:()=>{m.error("Something went wrong. Please check your inputs.",{description:"Error"})}})},[l,C]=c.useState("");return c.useEffect(()=>{const r=n.find(N=>`ROOM ${N.room_number}`.toLowerCase()===l.toLowerCase());r?s("room_id",r.id):s("room_id","")},[l]),k.map(r=>o[`${r.toLowerCase()}_condition`]),e.jsxs(R,{children:[e.jsx(P,{title:"Add System Unit"}),e.jsx(I,{}),e.jsxs(M,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(U,{}),e.jsx(B,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(L,{children:e.jsx(T,{children:e.jsxs(D,{children:[e.jsx(d,{href:"#",children:"Assets"}),e.jsx(h,{}),e.jsx(d,{href:"/admin/system-units",children:"System Units"}),e.jsx(h,{}),e.jsx(d,{href:"/admin/system-units/create",className:"font-semibold text-foreground",children:"Add Unit"})]})})})]}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5 text-center",children:"Add System Unit"}),e.jsx(w,{className:"max-w-4xl mx-auto",children:e.jsx(A,{children:e.jsxs("form",{onSubmit:S,className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"room_number",children:"Room"}),e.jsx(a,{id:"room_number",list:"room-options",value:l,onChange:r=>C(r.target.value),placeholder:"Search or select room"}),e.jsx("datalist",{id:"room-options",children:n.map(r=>e.jsx("option",{value:`ROOM ${r.room_number}`},r.id))}),t.room_id&&e.jsx("p",{className:"text-sm text-red-500",children:t.room_id})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"unit_code",children:"PC Code"}),e.jsx(a,{id:"unit_code",value:o.unit_code,onChange:r=>s("unit_code",r.target.value),placeholder:"e.g. PC-01",required:!0}),t.unit_code&&e.jsx("p",{className:"text-sm text-red-500",children:t.unit_code})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"processor",children:"Processor"}),e.jsx(a,{id:"processor",value:o.processor,onChange:r=>s("processor",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"ram",children:"RAM"}),e.jsx(a,{id:"ram",value:o.ram,onChange:r=>s("ram",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"storage",children:"Storage"}),e.jsx(a,{id:"storage",value:o.storage,onChange:r=>s("storage",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"gpu",children:"GPU"}),e.jsx(a,{id:"gpu",value:o.gpu,onChange:r=>s("gpu",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"motherboard",children:"Motherboard"}),e.jsx(a,{id:"motherboard",value:o.motherboard,onChange:r=>s("motherboard",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"os",children:"OS"}),e.jsx(a,{id:"os",value:o.os,onChange:r=>s("os",r.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"serial_number",children:"Serial Number"}),e.jsx(a,{id:"serial_number",value:o.serial_number,onChange:r=>s("serial_number",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"condition",children:"Overall Condition"}),e.jsxs(x,{value:o.condition,onValueChange:r=>s("condition",r),children:[e.jsx(u,{className:"w-full mt-1",children:e.jsx(p,{placeholder:"-- Select Condition --"})}),e.jsx(j,{children:E.map(r=>e.jsx(g,{value:r.label,children:r.label},r.label))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"condition_details",children:"Condition Details"}),e.jsx(a,{id:"condition_details",value:o.condition_details,onChange:r=>s("condition_details",r.target.value),placeholder:"e.g. defective RAM, GPU overheating"})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.jsxs("div",{children:[e.jsx(i,{htmlFor:"mr_id",children:"Material Responsible"}),e.jsxs(x,{value:o.mr_id,onValueChange:r=>s("mr_id",r),children:[e.jsx(u,{className:"w-full mt-1",children:e.jsx(p,{placeholder:"-- Select Faculty --"})}),e.jsx(j,{children:b.map(r=>e.jsx(g,{value:r.id.toString(),children:r.name},r.id))})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(O,{type:"submit",disabled:_,className:"bg-[hsl(142,31%,51%)] hover:bg-[hsl(142,31%,45%)] text-white font-medium",children:"Submit"})})]})})})]})]})]})}export{xe as default};
