import{r as a,j as e,c as d}from"./app-R59AgTg3.js";import{B as f}from"./button-DUunvkwS.js";import{I as u}from"./input-Cjcb1XXh.js";import{C as x,b as h,c as C,a as y}from"./card-g-1pmpnp.js";import"./index-DurLkVUy.js";import"./utils-CBfrqCZ4.js";function w(){const[r,c]=a.useState(null),[o,n]=a.useState(!1),[i,m]=a.useState(""),p=async t=>{if(t.preventDefault(),!r)return alert("Please select a CSV file first.");const l=new FormData;l.append("file",r);try{n(!0);const s=await d.post("/api/system-units/import",l,{headers:{"Content-Type":"multipart/form-data"}});m(s.data.message)}catch(s){console.error(s),m("Import failed. Check your CSV format.")}finally{n(!1)}};return e.jsxs(x,{className:"max-w-md mx-auto p-4",children:[e.jsx(h,{children:e.jsx(C,{children:"Import System Units (CSV)"})}),e.jsxs(y,{children:[e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsx(u,{type:"file",accept:".csv",onChange:t=>c(t.target.files[0])}),e.jsx(f,{type:"submit",disabled:o,children:o?"Importing...":"Import CSV"}),e.jsx("a",{href:"/api/system-units/template",className:"text-blue-500 underline",children:"Download CSV Template"})]}),i&&e.jsx("p",{className:"text-sm text-green-700 mt-3",children:i})]})]})}export{w as default};
