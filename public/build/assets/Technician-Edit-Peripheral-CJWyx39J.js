import{r as p,b as N,u as y,a as _,j as e,H as C}from"./app-DND81ZFY.js";import{C as w,b as S,c as k,a as B}from"./card-DVP-KndB.js";import{B as m}from"./button-S3MLgoYB.js";import{I as n}from"./input-BJdMeYDv.js";import{T as u}from"./techician-scanned-sidebar-CxfjSF0i.js";import{S as b}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{M as E}from"./package-D938pmae.js";import"./utils-CBfrqCZ4.js";import"./index-Dt-R4Eta.js";import"./dropdown-menu-Kr9xUfsf.js";import"./index-CFjPNoEr.js";import"./index-CSYp7x6o.js";import"./index-CmE9p5mY.js";import"./createLucideIcon-Db0Envr7.js";import"./chevron-right-BAj7NqjR.js";import"./log-out-B1JTZ3MZ.js";import"./monitor-C5CafoiT.js";import"./mouse-CdIv8q33.js";function Y({peripheral:t,room:d,user:x,existingRooms:P,existingUnits:f,existingBrands:T,existingModels:M}){const[j,o]=p.useState(!1),{flash:c}=N().props,{data:a,setData:i,put:g,processing:h,errors:r}=y({type:t.type||"",brand:t.brand||"",model:t.model||"",serial_number:t.serial_number||"",condition:t.condition||"",room_id:t.room_id,unit_id:t.unit_id}),v=s=>{s.preventDefault(),g(route("technician.peripherals.update",t.id),{onSuccess:l=>{b.fire({icon:"success",title:"Success!",text:"Peripheral updated successfully!",confirmButtonColor:"hsl(142,34%,51%)"}),i({type:l.props.peripheral.type,brand:l.props.peripheral.brand,model:l.props.peripheral.model,serial_number:l.props.peripheral.serial_number,condition:l.props.peripheral.condition,room_id:l.props.peripheral.room_id,unit_id:l.props.peripheral.unit_id})}})};return p.useEffect(()=>{c?.success&&b.fire({icon:"success",title:"Success!",text:c.success,confirmButtonColor:"hsl(142,34%,51%)"}).then(()=>_.reload({only:[]}))},[c]),e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:e.jsx(u,{room:d,user:x,active:"edit-peripheral"})}),j&&e.jsxs("div",{className:"fixed inset-0 z-40 flex md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>o(!1)}),e.jsx("div",{className:"relative z-50 w-64 shadow-lg bg-[hsl(142,34%,51%)]",children:e.jsx(u,{room:d,user:x,active:"edit-peripheral",onSelect:()=>o(!1)})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b md:hidden flex items-center justify-between shadow-sm bg-[hsl(142,34%,51%)]",children:[e.jsx(m,{variant:"outline",size:"icon",onClick:()=>o(!0),className:"bg-[hsl(142,34%,51%)] text-white border-none hover:bg-[hsl(142,34%,45%)]",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:d.room_name})]}),e.jsxs("div",{className:"p-4 md:p-8 w-full flex justify-center",children:[e.jsx(C,{title:"Edit Peripheral"}),e.jsxs(w,{className:"w-full max-w-2xl rounded-2xl shadow-md",children:[e.jsx(S,{children:e.jsx(k,{className:"text-lg md:text-xl font-semibold",children:"Edit Peripheral"})}),e.jsx(B,{children:e.jsxs("form",{onSubmit:v,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsx(n,{value:a.type,onChange:s=>i("type",s.target.value)}),r.type&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),e.jsx(n,{value:a.brand,onChange:s=>i("brand",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),e.jsx(n,{value:a.model,onChange:s=>i("model",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),e.jsx(n,{value:a.serial_number,onChange:s=>i("serial_number",s.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),e.jsx(n,{value:a.condition,onChange:s=>i("condition",s.target.value)}),r.condition&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.condition})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),e.jsxs("select",{value:a.unit_id,onChange:s=>i("unit_id",s.target.value),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"",children:"Select Unit"}),f.map(s=>e.jsx("option",{value:s.id,children:s.unit_code},s.id))]}),r.unit_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.unit_id})]}),e.jsxs("div",{className:"sm:col-span-2 flex justify-end mt-2 gap-2",children:[e.jsx(m,{type:"button",onClick:()=>window.history.back(),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Back"}),e.jsx(m,{type:"submit",disabled:h,className:"px-6 bg-[hsl(142,34%,51%)] text-white hover:bg-[hsl(142,34%,45%)] rounded-lg",children:h?"Saving...":"Update Peripheral"})]})]})})]})]})]})]})}export{Y as default};
