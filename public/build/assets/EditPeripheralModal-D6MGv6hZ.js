import{u as g,j as e}from"./app-BZUcH5Xf.js";import{D as _,a as v,b as N,c as f}from"./dialog-ipQOjCQY.js";import{L as r}from"./label-1jbjMRt3.js";import{I as s}from"./input-B2cgS02X.js";import{B as y}from"./button-GW-CVvIA.js";import{c as C}from"./createLucideIcon-DEHuKn3q.js";import"./index-CmAJ-Pc1.js";import"./index-BOJuf-LK.js";import"./index-ClaaHCVb.js";import"./index-C4DqBfw1.js";import"./index-CJWnnu0S.js";const u=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function P({peripheral:l,rooms:a=[],units:d=[],onClose:c}){const{data:t,setData:n,put:p,processing:x,errors:o}=g({type:l?.type||"",serial_number:l?.serial_number||"",condition:l?.condition||"",room_id:l?.room_id||"",unit_id:l?.unit_id||""}),h=i=>{i.preventDefault(),p(route("peripherals.update",l.id),{onSuccess:()=>c()})},b=i=>{const m=u.find(j=>j.label.toLowerCase()===i.toLowerCase());return m?m.color:"bg-gray-300"};return e.jsx(_,{open:!0,onOpenChange:i=>!i&&c(),children:e.jsxs(v,{className:"max-w-lg",children:[e.jsx(N,{children:e.jsxs(f,{children:["Edit Peripheral â€“ ",l?.peripheral_code]})}),e.jsxs("form",{onSubmit:h,className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"type",children:"Type"}),e.jsx(s,{id:"type",value:t.type,onChange:i=>n("type",i.target.value),placeholder:"e.g. Keyboard, Mouse, Monitor"}),o.type&&e.jsx("p",{className:"text-sm text-red-500",children:o.type})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"serial_number",children:"Serial Number"}),e.jsx(s,{id:"serial_number",value:t.serial_number,onChange:i=>n("serial_number",i.target.value),placeholder:"Serial Number"}),o.serial_number&&e.jsx("p",{className:"text-sm text-red-500",children:o.serial_number})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"condition",children:"Condition"}),e.jsx(s,{id:"condition",list:"condition-options",value:t.condition,onChange:i=>n("condition",i.target.value),placeholder:"Type or select"}),e.jsx("datalist",{id:"condition-options",children:u.map(i=>e.jsx("option",{value:i.label},i.label))}),t.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:C("inline-block w-3 h-3 rounded-full",b(t.condition))}),e.jsx("span",{className:"capitalize",children:t.condition})]}),o.condition&&e.jsx("p",{className:"text-sm text-red-500",children:o.condition})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"room_id",children:"Room"}),e.jsxs("select",{id:"room_id",className:"w-full border rounded-md p-2",value:t.room_id,onChange:i=>n("room_id",i.target.value),children:[e.jsx("option",{value:"",children:"Select Room"}),a.length>0?a.map(i=>e.jsx("option",{value:i.id,children:i.room_number},i.id)):e.jsx("option",{disabled:!0,children:"No rooms available"})]}),o.room_id&&e.jsx("p",{className:"text-sm text-red-500",children:o.room_id})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"unit_id",children:"Unit"}),e.jsxs("select",{id:"unit_id",className:"w-full border rounded-md p-2",value:t.unit_id,onChange:i=>n("unit_id",i.target.value),children:[e.jsx("option",{value:"",children:"Select Unit"}),d.length>0?d.map(i=>e.jsx("option",{value:i.id,children:i.unit_code},i.id)):e.jsx("option",{disabled:!0,children:"No units available"})]}),o.unit_id&&e.jsx("p",{className:"text-sm text-red-500",children:o.unit_id})]}),e.jsx(y,{type:"submit",disabled:x,children:"Update"})]})]})})}export{P as default};
