import{r as a,a as x,j as s,H as j}from"./app-C14pEbIc.js";import{S as b,a as u,b as f,c as g,B as N}from"./index-EtwFZ-9e.js";import{A as v}from"./app-sidebar-J7-TOyzA.js";import{B as S,a as y,b as w,c as C}from"./breadcrumb-DvTs8vkP.js";import{C as i,a as l,b as o,c as d}from"./card-B5T1P_9G.js";import"./createLucideIcon-DD4XNeQi.js";import"./index-Br9z1QJI.js";import"./index-DjpBsoSC.js";import"./index-SLsyAYoV.js";import"./index-B618UseJ.js";import"./button-Cw8qonis.js";import"./input-BDv_Pay6.js";import"./index-B8veTWXp.js";import"./dropdown-menu-C70s4moA.js";import"./index-DBxdUadj.js";import"./chevron-right-BHCys-vX.js";import"./index-C7BKEmSB.js";function V(){const[t,m]=a.useState({totalRooms:0,totalSystemUnits:0,totalPeripherals:0,totalEquipments:0}),n=async()=>{try{const e=await x.get("/admin/dashboard-stats");m(e.data)}catch(e){console.error("Failed to fetch stats:",e)}};a.useEffect(()=>{n();const e=setInterval(()=>{n()},5e3);return()=>clearInterval(e)},[]);const[r,h]=a.useState([]),[c,p]=a.useState(!1);return a.useEffect(()=>{x.get("/admin/notifications").then(e=>{h(e.data)})},[]),s.jsxs(b,{children:[s.jsx(j,{children:s.jsx("title",{children:"Admin Dashboard"})}),s.jsx(v,{}),s.jsxs(u,{children:[s.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[s.jsx(f,{}),s.jsx(g,{orientation:"vertical",className:"h-6 mx-3"}),s.jsx(S,{children:s.jsx(y,{children:s.jsx(w,{children:s.jsx(C,{href:"#","aria-current":"page",children:"Dashboard"})})})}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>p(!c),className:"relative p-2 rounded-full hover:bg-gray-100",children:[s.jsx(N,{className:"w-6 h-6 text-gray-700"}),r.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs px-1 rounded-full",children:r.length})]}),c&&s.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white shadow-lg rounded-lg overflow-hidden z-50",children:[s.jsx("div",{className:"p-3 border-b font-semibold",children:"Notifications"}),s.jsx("ul",{className:"max-h-64 overflow-y-auto",children:r.length>0?r.map(e=>s.jsxs("li",{className:"px-4 py-2 hover:bg-gray-50 cursor-pointer border-b",children:[s.jsx("p",{className:"text-sm font-bold",children:e.data.user_name}),s.jsxs("p",{className:"text-sm",children:["Condition:"," ",e.data.condition]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Room ID:"," ",e.data.room_id]}),s.jsx("p",{className:"text-xs",children:e.data.remarks})]},e.id)):s.jsx("li",{className:"p-4 text-gray-500 text-sm",children:"No notifications"})}),s.jsx("div",{className:"p-2 text-center border-t",children:s.jsx("a",{href:"/admin/notifications",className:"text-sm text-blue-600 hover:underline",children:"View all"})})]})]})]}),s.jsxs("main",{className:"w-full px-6 py-6 space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(i,{children:[s.jsx(l,{children:s.jsx(o,{children:"Total Rooms"})}),s.jsx(d,{children:s.jsx("p",{className:"text-3xl font-bold",children:t.totalRooms})})]}),s.jsxs(i,{children:[s.jsx(l,{children:s.jsx(o,{children:"Total System Units"})}),s.jsx(d,{children:s.jsx("p",{className:"text-3xl font-bold",children:t.totalSystemUnits})})]}),s.jsxs(i,{children:[s.jsx(l,{children:s.jsx(o,{children:"Total Peripherals"})}),s.jsx(d,{children:s.jsx("p",{className:"text-3xl font-bold",children:t.totalPeripherals})})]}),s.jsxs(i,{children:[s.jsx(l,{children:s.jsx(o,{children:"Total Room Equipments"})}),s.jsx(d,{children:s.jsx("p",{className:"text-3xl font-bold",children:t.totalEquipments})})]})]})]})]})]})}export{V as default};
