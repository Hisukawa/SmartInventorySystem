import{b as O,r as n,j as e,H as E,a as T}from"./app-Csl5wJke.js";import{A as I}from"./app-sidebar-CLekJnEe.js";import{S as Q,a as _,b as A,c as L}from"./avatar-DRjByci6.js";import{B as u}from"./button-BDYWY54C.js";import{Q as j}from"./index-BBA89Xff.js";import{C as $,b as z,c as H,a as M}from"./card-CdFJk6JQ.js";import{B as U,a as V,b as W,c as x,d as f}from"./breadcrumb-C34YbMtF.js";import{D as F,a as P,b as G,c as X}from"./dialog-ClQsIqNm.js";import{Q as J}from"./qr-code-CN9heQA9.js";import{I as o}from"./info-Cfn-o2br.js";import{C as K}from"./circle-check-B19a8117.js";import{T as Y,B as Z}from"./triangle-alert-CvYR_tRx.js";import"./dropdown-menu-CTeQNcL6.js";import"./index-b9AS44_Y.js";import"./index-BlF21a5G.js";import"./index-qai7qXr8.js";import"./index-ByuIjNzX.js";import"./createLucideIcon-bAidFnuU.js";import"./utils-CBfrqCZ4.js";import"./chevron-right-BLRPwH4M.js";import"./house-D4MBeaLL.js";import"./user-CB8J67et.js";import"./log-out-sZR-RJc5.js";import"./keyboard-0mV_Osox.js";import"./boxes-BQHve61i.js";import"./users-Dayiw2DD.js";import"./chevron-down-DqYdXvXk.js";import"./input-D2zpYebb.js";import"./index-BLQ_e6Yt.js";import"./index-DR9z1LSJ.js";import"./index-DutrmmT7.js";const ee={Working:"bg-green-200 text-green-800","Not Working":"bg-red-200 text-red-800","Intermittent Issue":"bg-yellow-200 text-yellow-800","Needs Cleaning":"bg-blue-200 text-blue-800","For Replacement":"bg-orange-200 text-orange-800","For Disposal":"bg-gray-200 text-gray-800",Condemned:"bg-black text-white","Needs Repair":"bg-red-200 text-red-800","Needs Configuration":"bg-blue-200 text-blue-800","Under Maintenance":"bg-blue-200 text-blue-900","To Be Diagnosed":"bg-blue-100 text-blue-700"};function Qe(){const{props:b}=O(),t=b.equipment,[N,p]=n.useState(!1),[w,l]=n.useState(!1),[r,C]=n.useState(""),[c,v]=n.useState(""),[d,q]=n.useState("");if(!t)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("p",{className:"text-lg text-gray-500",children:"Loading equipment..."})});const h=`${window.location.origin}/equipment/${t.equipment_code}`,y=()=>{C(h),q(t.room?.room_number||"N/A"),v(t.equipment_code),l(!1),p(!0)},R=async()=>{r&&(await navigator.clipboard.writeText(r),l(!0),setTimeout(()=>l(!1),2e3))},S=()=>{const g=document.querySelector("#modal-qr svg");if(!g)return;const k=new XMLSerializer().serializeToString(g),B=new Blob([k],{type:"image/svg+xml;charset=utf-8"}),D=URL.createObjectURL(B),i=new Image;i.onload=()=>{const s=document.createElement("canvas"),a=s.getContext("2d");s.width=i.width+40,s.height=i.height+40+50,a.fillStyle="#fff",a.fillRect(0,0,s.width,s.height),a.drawImage(i,20,20),a.fillStyle="#000",a.font="bold 18px Arial",a.textAlign="center",a.fillText(`ROOM ${d} - ${c}`,s.width/2,i.height+20+30);const m=document.createElement("a");m.href=s.toDataURL("image/png"),m.download=`ROOM-${d}_${c}.png`,m.click()},i.src=D};return e.jsxs(Q,{children:[e.jsx(I,{}),e.jsxs(_,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(A,{}),e.jsx(L,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(U,{children:e.jsx(V,{children:e.jsxs(W,{children:[e.jsx(x,{href:"#",children:"Assets"}),e.jsx(f,{}),e.jsx(x,{href:"/equipments",children:"Equipments"}),e.jsx(f,{}),e.jsx(x,{href:"#",className:"font-semibold text-foreground",children:"View Equipment"})]})})})]}),e.jsx(E,{title:`View ${t.equipment_code}`}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Equipment Information"}),e.jsxs($,{className:"max-w-4xl mx-auto shadow-lg rounded-2xl",children:[e.jsx(z,{className:"bg-[hsl(142,34%,51%)] text-white border-none text-center hover:bg-[hsl(142,34%,45%)]",children:e.jsx(H,{className:"text-lg",children:"Equipment Details"})}),e.jsxs(M,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 py-5 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Equipment Code:"}),e.jsx("span",{children:t.equipment_code})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Equipment Name:"}),e.jsx("span",{children:t.equipment_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Type:"}),e.jsx("span",{children:t.type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Brand:"}),e.jsx("span",{children:t.brand||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.condition==="Working"?e.jsx(K,{className:"w-5 h-5 text-green-600"}):e.jsx(Y,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"font-medium",children:"Condition:"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ee[t.condition]||"bg-gray-200 text-gray-800"}`,children:t.condition||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Condition Details:"}),e.jsx("span",{children:t.condition_details||"No details"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Room Number:"}),e.jsx("span",{children:t.room?.room_number||"N/A"})]})]}),e.jsxs("div",{className:"flex flex-col items-center py-6 bg-white rounded-b-2xl cursor-pointer",onClick:y,children:[e.jsx(j,{value:h,size:128}),e.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:"Click QR to view / copy"})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(u,{variant:"secondary",onClick:()=>T.visit("/equipments"),children:"Go Back"})}),e.jsx(F,{open:N,onOpenChange:p,children:e.jsxs(P,{className:"flex flex-col items-center",children:[e.jsx(G,{children:e.jsxs(X,{children:["QR Code - ROOM ",d," -"," ",c]})}),r&&e.jsx("div",{id:"modal-qr",className:"cursor-pointer",onClick:R,children:e.jsx(j,{value:r,size:256})}),e.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Click QR to copy link"}),w&&e.jsx("span",{className:"text-green-600 text-sm",children:"QR code path copied!"}),e.jsx("div",{className:"mt-2",children:e.jsx(u,{onClick:S,children:"Download"})})]})})]})]})]})}export{Qe as default};
