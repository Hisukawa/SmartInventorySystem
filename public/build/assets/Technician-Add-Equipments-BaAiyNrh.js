import{r as u,b as S,u as q,a as D,j as e,H as _}from"./app-BWzSyj8G.js";import{C as F,b as T,c as I,a as R}from"./card-DQypWzJt.js";import{B as c}from"./button-BMMGJcVK.js";import{I as r}from"./input-BOJzvFDE.js";import{T as p}from"./techician-scanned-sidebar-N41F30L5.js";import{S as h}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{S as g,a as b,b as f,c as j,d as y}from"./select-DAzU4XUB.js";import{L as a}from"./label-DX6SyDOD.js";import{M as E}from"./menu-BB5aikyw.js";import"./utils-CBfrqCZ4.js";import"./index-BHHCfyIS.js";import"./dropdown-menu-DnPAQenw.js";import"./index-DpGC6EjD.js";import"./index-x_FqmcxY.js";import"./index-DFvSU_4p.js";import"./createLucideIcon-ClkFdy-L.js";import"./chevron-right-Dt1MMcdk.js";import"./log-out-BwtSkDy2.js";import"./monitor-BW_y7TAp.js";import"./mouse-CuG60Tco.js";import"./package-reQE7O4L.js";import"./index-BbdBlTIj.js";import"./index-DM3EvTKL.js";import"./chevron-down-C6VsgL1i.js";const O=["Furniture","Appliances","Networking","Safety"],B={Furniture:["Functional","Minor Damage","Needs Repair","Needs Cleaning","For Replacement","For Disposal","Condemned","To Be Diagnosed"],Appliances:["Functional","Defective","Intermittent Issue","Overheating","Loose Wiring","For Replacement","For Disposal","Condemned","To Be Diagnosed"],Networking:["Functional","Intermittent Connectivity","No Signal","Needs Configuration","Defective Port","For Replacement","For Disposal","Condemned","To Be Diagnosed"],Safety:["Functional","Expired","Needs Refill","Defective","Rusting","For Replacement","For Disposal","Condemned","To Be Diagnosed"]},k={Functional:"bg-green-200 text-green-800",Defective:"bg-red-200 text-red-800","Intermittent Issue":"bg-yellow-200 text-yellow-800","Needs Cleaning":"bg-blue-200 text-blue-800","For Replacement":"bg-orange-200 text-orange-800","For Disposal":"bg-gray-200 text-gray-800",Condemned:"bg-black text-white","Minor Damage":"bg-yellow-200 text-yellow-800","Needs Repair":"bg-red-200 text-red-800","Intermittent Connectivity":"bg-yellow-200 text-yellow-800","No Signal":"bg-red-200 text-red-800","Needs Configuration":"bg-blue-200 text-blue-800",Expired:"bg-red-300 text-red-900","Needs Refill":"bg-blue-200 text-blue-900",Rusting:"bg-orange-200 text-orange-900","To Be Diagnosed":"bg-blue-100 text-blue-700"};function re({room:l,user:m}){const[N,o]=u.useState(!1),{flash:d}=S().props,{data:i,setData:n,post:v,processing:x,errors:s}=q({equipment_name:"",type:"",brand:"",quantity:1,condition:"",condition_details:"",room_id:l?.id||""}),C=i.type?B[i.type]:[],w=t=>{t.preventDefault(),v(route("technician.equipments.store"),{onSuccess:()=>{h.fire({icon:"success",title:"Success!",text:"Equipment added successfully!",confirmButtonColor:"hsl(142,34%,51%)"}),n({equipment_name:"",type:"",brand:"",quantity:1,condition:"",condition_details:"",room_id:l?.id||""})}})};return u.useEffect(()=>{d?.success&&h.fire({icon:"success",title:"Success!",text:d.success,confirmButtonColor:"hsl(142,34%,51%)"}).then(()=>D.reload({only:[]}))},[d]),e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:e.jsx(p,{room:l,user:m,active:"add-equipment"})}),N&&e.jsxs("div",{className:"fixed inset-0 z-40 flex md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>o(!1)}),e.jsx("div",{className:"relative z-50 w-64 shadow-lg bg-[hsl(142,34%,51%)]",children:e.jsx(p,{room:l,user:m,active:"add-equipment",onSelect:()=>o(!1)})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b md:hidden flex items-center justify-between shadow-sm bg-[hsl(142,34%,51%)]",children:[e.jsx(c,{variant:"outline",size:"icon",onClick:()=>o(!0),className:"bg-[hsl(142,34%,51%)] text-white border-none hover:bg-[hsl(142,34%,45%)]",children:e.jsx(E,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:l?.room_name||"Add Equipment"})]}),e.jsxs("div",{className:"p-4 md:p-8 w-full flex justify-center",children:[e.jsx(_,{title:"Add Equipment"}),e.jsxs(F,{className:"w-full max-w-2xl rounded-2xl shadow-md",children:[e.jsx(T,{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:e.jsx(I,{className:"text-lg md:text-xl font-semibold",children:"Add New Equipment"})}),e.jsx(R,{children:e.jsxs("form",{onSubmit:w,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{children:"Type"}),e.jsxs(g,{value:i.type,onValueChange:t=>{n("type",t),n("condition","")},required:!0,children:[e.jsx(b,{children:e.jsx(f,{placeholder:"-- Select Type --"})}),e.jsx(j,{children:O.map(t=>e.jsx(y,{value:t,children:t},t))})]}),s.type&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.type})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(a,{children:"Equipment Name"}),e.jsx(r,{placeholder:"",value:i.equipment_name,onChange:t=>n("equipment_name",t.target.value),required:!0}),s.equipment_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.equipment_name})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Brand"}),e.jsx(r,{placeholder:"",value:i.brand,onChange:t=>n("brand",t.target.value),required:!0}),s.brand&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.brand})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Quantity"}),e.jsx(r,{type:"number",min:"1",placeholder:"e.g. 5",value:i.quantity,onChange:t=>n("quantity",Number(t.target.value)),required:!0}),s.quantity&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.quantity})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Condition"}),e.jsxs(g,{value:i.condition,onValueChange:t=>n("condition",t),disabled:!i.type,required:!0,children:[e.jsx(b,{className:k[i.condition]||"",children:e.jsx(f,{placeholder:i.type?"-- Select Condition --":"Select a type first"})}),e.jsx(j,{children:C.map(t=>e.jsx(y,{value:t,children:t},t))})]}),s.condition&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.condition})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(a,{children:"Condition Details"}),e.jsx(r,{placeholder:"e.g. Minor scratches, needs cable replacement",value:i.condition_details,onChange:t=>n("condition_details",t.target.value)}),s.condition_details&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.condition_details})]}),e.jsxs("div",{className:"sm:col-span-2 flex justify-end mt-2 gap-2",children:[e.jsx(c,{type:"button",onClick:()=>window.history.back(),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Back"}),e.jsx(c,{type:"submit",disabled:x,className:"px-6 bg-[hsl(142,34%,51%)] text-white hover:bg-[hsl(142,34%,45%)] rounded-lg",children:x?"Saving...":"Add Equipment"})]})]})})]})]})]})]})}export{re as default};
