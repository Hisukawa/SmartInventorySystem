import{r as c,j as e,b as _,u as D}from"./app-BR-w-JlK.js";import{D as y,d as w,a as F,b as S,c as M}from"./dialog-m9_-nDMX.js";import{P as O,c as u,k as P,B as x,I as n}from"./index-zjVYSbi_.js";import"./index-Bm9U1c1F.js";var R="Label",p=c.forwardRef((l,d)=>e.jsx(O.label,{...l,ref:d,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(l.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));p.displayName=R;var g=p;const U=P("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),t=c.forwardRef(({className:l,...d},a)=>e.jsx(g,{ref:a,className:u(U(),l),...d}));t.displayName=g.displayName;const h=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function E(){const{rooms:l}=_().props,[d,a]=c.useState(!1),{data:r,setData:i,post:j,processing:b,errors:s,reset:v}=D({unit_code:"",processor:"",ram:"",storage:"",gpu:"",motherboard:"",condition:"",room_id:""}),f=o=>{const m=h.find(C=>C.label.toLowerCase()===o.toLowerCase());return m?m.color:"bg-muted"},N=o=>{o.preventDefault(),j("/units",{onSuccess:()=>{v(),a(!1)}})};return e.jsxs(y,{open:d,onOpenChange:a,children:[e.jsx(w,{asChild:!0,children:e.jsx(x,{children:"Add Unit"})}),e.jsxs(F,{className:"sm:max-w-xl max-h-[90vh] overflow-y-auto",children:[e.jsx(S,{children:e.jsx(M,{children:"Add System Unit"})}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"room_id",children:"Room"}),e.jsx(n,{id:"room_id",list:"room-options",value:r.room_id,onChange:o=>i("room_id",o.target.value),placeholder:"Search or select room"}),e.jsx("datalist",{id:"room-options",children:l.map(o=>e.jsxs("option",{value:o.id,children:["ROOM ",o.room_number]},o.id))}),s.room_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.room_id})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"unit_code",children:"Unit Code"}),e.jsx(n,{id:"unit_code",name:"unit_code",value:r.unit_code,onChange:o=>i("unit_code",o.target.value),required:!0}),s.unit_code&&e.jsx("p",{className:"text-sm text-red-500",children:s.unit_code})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"processor",children:"Processor"}),e.jsx(n,{id:"processor",name:"processor",value:r.processor,onChange:o=>i("processor",o.target.value)}),s.processor&&e.jsx("p",{className:"text-sm text-red-500",children:s.processor})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"ram",children:"RAM"}),e.jsx(n,{id:"ram",name:"ram",value:r.ram,onChange:o=>i("ram",o.target.value)}),s.ram&&e.jsx("p",{className:"text-sm text-red-500",children:s.ram})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"storage",children:"Storage"}),e.jsx(n,{id:"storage",name:"storage",value:r.storage,onChange:o=>i("storage",o.target.value)}),s.storage&&e.jsx("p",{className:"text-sm text-red-500",children:s.storage})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"gpu",children:"GPU"}),e.jsx(n,{id:"gpu",name:"gpu",value:r.gpu,onChange:o=>i("gpu",o.target.value)}),s.gpu&&e.jsx("p",{className:"text-sm text-red-500",children:s.gpu})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"motherboard",children:"Motherboard"}),e.jsx(n,{id:"motherboard",name:"motherboard",value:r.motherboard,onChange:o=>i("motherboard",o.target.value)}),s.motherboard&&e.jsx("p",{className:"text-sm text-red-500",children:s.motherboard})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"condition",children:"Condition"}),e.jsx(n,{id:"condition",list:"condition-options",value:r.condition,onChange:o=>i("condition",o.target.value),placeholder:"Type or select"}),e.jsx("datalist",{id:"condition-options",children:h.map(o=>e.jsx("option",{value:o.label},o.label))}),r.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:u("inline-block w-3 h-3 rounded-full",f(r.condition))}),e.jsx("span",{className:"capitalize",children:r.condition})]}),s.condition&&e.jsx("p",{className:"text-sm text-red-500",children:s.condition})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{type:"submit",disabled:b,children:"Submit"})})]})]})]})}export{E as default};
