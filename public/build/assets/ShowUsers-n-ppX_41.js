import{r as n,u as j,j as e,H as g}from"./app-BIwlyt8C.js";import{S as b,a as v,b as N,c as w}from"./avatar-C4XO60we.js";import{A as S}from"./app-sidebar-D3sVUVD4.js";import{B as C,a as P,b as d,c as p,d as D}from"./breadcrumb-Dq-G1BxX.js";import{B as a}from"./button-Cvjh1GZ1.js";import{D as y,a as B,b as A,c as k,d as L,e as R}from"./dialog-C_6Sayg6.js";import{A as U}from"./arrow-left-Bogik_lC.js";import"./index-CIhkfTGN.js";import"./utils-CBfrqCZ4.js";import"./input-DuJpVvIv.js";import"./index-_GrsYgzc.js";import"./index-DeiY3fR0.js";import"./createLucideIcon-B8B2iXso.js";import"./index-CROv15xz.js";import"./dropdown-menu-COXCHGXD.js";import"./index-PtQ2pING.js";import"./chevron-right-CPQRjjEL.js";import"./index-ZmtpnWyZ.js";import"./index-CC1TizNa.js";import"./house-Ch_sl3RI.js";import"./user-B5GN24-g.js";import"./log-out-BsUZLdLy.js";import"./keyboard-DMtpdZmG.js";import"./boxes-CK2rTsmI.js";import"./users-CNhX2TRz.js";import"./chevron-down-CBOqi84k.js";function ie({user:s}){const[c,h]=n.useState(s.photo?`/storage/${s.photo}`:"/logo.png"),[x,t]=n.useState(!1),m=n.useRef(null),r=j({photo:null}),f=o=>{const i=o.target.files[0];if(i){r.setData("photo",i);const l=new FileReader;l.onloadend=()=>h(l.result),l.readAsDataURL(i)}},u=o=>{o.preventDefault(),r.post(route("admin.users.updatePhoto",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{r.reset("photo"),t(!1)}})};return e.jsxs(b,{children:[e.jsx(g,{title:`${s.name} - Profile`}),e.jsx(S,{}),e.jsxs(v,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(N,{}),e.jsx(w,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(C,{children:e.jsxs(P,{children:[e.jsx(d,{children:e.jsx(p,{href:"/admin/users",children:"User Lists"})}),e.jsx(D,{}),e.jsx(d,{children:e.jsx(p,{href:"#",className:"font-semibold text-foreground",children:"User Profile"})})]})})]}),e.jsx("main",{className:"mt-10",children:e.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-white shadow-lg rounded-lg relative",children:[e.jsx(a,{variant:"outline",size:"icon",className:"absolute top-4 left-4",asChild:!0,children:e.jsx("a",{href:route("admin.users.index"),children:e.jsx(U,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("img",{src:c,alt:s.name,className:"w-32 h-32 rounded-full object-cover border"}),e.jsx("h1",{className:"text-xl font-bold",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.role||"N/A"}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(a,{onClick:()=>t(!0),variant:"secondary",children:"Change Photo"}),e.jsx(a,{asChild:!0,children:e.jsx("a",{href:route("admin.users.edit",s.id),children:"Edit Profile"})})]})]})]})})]}),e.jsx(y,{open:x,onOpenChange:t,children:e.jsxs(B,{className:"sm:max-w-md",children:[e.jsxs(A,{children:[e.jsx(k,{children:"Update Profile Photo"}),e.jsxs(L,{children:["Choose a new profile photo for ",s.name,"."]})]}),e.jsxs("form",{onSubmit:u,className:"flex flex-col items-center gap-4 mt-2",encType:"multipart/form-data",children:[e.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border"}),e.jsx("input",{type:"file",accept:"image/*",onChange:f,ref:m,className:"hidden"}),e.jsx(a,{type:"button",variant:"secondary",onClick:()=>m.current.click(),children:"Choose Photo"}),r.data.photo&&e.jsx("span",{className:"text-sm text-gray-600",children:r.data.photo.name}),e.jsxs(R,{className:"mt-4",children:[e.jsx(a,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(a,{type:"submit",disabled:r.processing,children:r.processing?"Saving...":"Save"})]})]})]})})]})}export{ie as default};
