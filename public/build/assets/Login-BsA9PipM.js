import{r as h,j as e,u as W,H as X,a as P}from"./app-xTpBH0rE.js";import{b as Y,c as J,d as V}from"./card-CuroCPDs.js";import{I as _}from"./input-BMwmLNmj.js";import{L as S}from"./label-C5IjWQjE.js";import{B as L}from"./button-DtflNjDw.js";import{u as B}from"./index-CNanvGoH.js";import{c as $,d as Q,P as y,a as Z,b as T}from"./index-CT7h3Xib.js";import{u as ee}from"./index-BJ3MWrMG.js";import{u as te,C as se}from"./index-ClDtpkw3.js";import{c as A}from"./createLucideIcon-aJRNxbHQ.js";import"./index-BfmlpeBR.js";var j="Checkbox",[re,ge]=$(j),[ae,E]=re(j);function oe(s){const{__scopeCheckbox:n,checked:a,children:c,defaultChecked:o,disabled:r,form:i,name:p,onCheckedChange:d,required:x,value:t="on",internal_do_not_use_render:m}=s,[f,b]=Z({prop:a,defaultProp:o??!1,onChange:d,caller:j}),[C,w]=h.useState(null),[v,l]=h.useState(null),u=h.useRef(!1),k=C?!!i||!!C.closest("form"):!0,N={checked:f,disabled:r,setChecked:b,control:C,setControl:w,name:p,form:i,value:t,hasConsumerStoppedPropagationRef:u,required:x,defaultChecked:g(o)?!1:o,isFormControl:k,bubbleInput:v,setBubbleInput:l};return e.jsx(ae,{scope:n,...N,children:ne(m)?m(N):c})}var D="CheckboxTrigger",F=h.forwardRef(({__scopeCheckbox:s,onKeyDown:n,onClick:a,...c},o)=>{const{control:r,value:i,disabled:p,checked:d,required:x,setControl:t,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:b,bubbleInput:C}=E(D,s),w=B(o,t),v=h.useRef(d);return h.useEffect(()=>{const l=r?.form;if(l){const u=()=>m(v.current);return l.addEventListener("reset",u),()=>l.removeEventListener("reset",u)}},[r,m]),e.jsx(y.button,{type:"button",role:"checkbox","aria-checked":g(d)?"mixed":d,"aria-required":x,"data-state":U(d),"data-disabled":p?"":void 0,disabled:p,value:i,...c,ref:w,onKeyDown:T(n,l=>{l.key==="Enter"&&l.preventDefault()}),onClick:T(a,l=>{m(u=>g(u)?!0:!u),C&&b&&(f.current=l.isPropagationStopped(),f.current||l.stopPropagation())})})});F.displayName=D;var R=h.forwardRef((s,n)=>{const{__scopeCheckbox:a,name:c,checked:o,defaultChecked:r,required:i,disabled:p,value:d,onCheckedChange:x,form:t,...m}=s;return e.jsx(oe,{__scopeCheckbox:a,checked:o,defaultChecked:r,disabled:p,required:i,onCheckedChange:x,name:c,form:t,value:d,internal_do_not_use_render:({isFormControl:f})=>e.jsxs(e.Fragment,{children:[e.jsx(F,{...m,ref:n,__scopeCheckbox:a}),f&&e.jsx(H,{__scopeCheckbox:a})]})})});R.displayName=j;var M="CheckboxIndicator",O=h.forwardRef((s,n)=>{const{__scopeCheckbox:a,forceMount:c,...o}=s,r=E(M,a);return e.jsx(Q,{present:c||g(r.checked)||r.checked===!0,children:e.jsx(y.span,{"data-state":U(r.checked),"data-disabled":r.disabled?"":void 0,...o,ref:n,style:{pointerEvents:"none",...s.style}})})});O.displayName=M;var q="CheckboxBubbleInput",H=h.forwardRef(({__scopeCheckbox:s,...n},a)=>{const{control:c,hasConsumerStoppedPropagationRef:o,checked:r,defaultChecked:i,required:p,disabled:d,name:x,value:t,form:m,bubbleInput:f,setBubbleInput:b}=E(q,s),C=B(a,b),w=ee(r),v=te(c);h.useEffect(()=>{const u=f;if(!u)return;const k=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(k,"checked").set,G=!o.current;if(w!==r&&I){const K=new Event("click",{bubbles:G});u.indeterminate=g(r),I.call(u,g(r)?!1:r),u.dispatchEvent(K)}},[f,w,r,o]);const l=h.useRef(g(r)?!1:r);return e.jsx(y.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??l.current,required:p,disabled:d,name:x,value:t,form:m,...n,tabIndex:-1,ref:C,style:{...n.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});H.displayName=q;function ne(s){return typeof s=="function"}function g(s){return s==="indeterminate"}function U(s){return g(s)?"indeterminate":s?"checked":"unchecked"}const z=h.forwardRef(({className:s,...n},a)=>e.jsx(R,{ref:a,className:A("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...n,children:e.jsx(O,{className:A("flex items-center justify-center text-current"),children:e.jsx(se,{className:"h-4 w-4"})})}));z.displayName=R.displayName;function Ce({status:s,canResetPassword:n}){const{data:a,setData:c,post:o,processing:r,errors:i,reset:p}=W({email:"",password:"",remember:!1}),d=t=>{t.preventDefault(),o(route("login"),{onFinish:()=>p("password")})},x=async()=>{try{const{data:t}=await P.post("/webauthn/login/options",{email:a.email});t.challenge=base64urlToUint8Array(t.challenge),t.allowCredentials=t.allowCredentials.map(b=>({...b,id:base64urlToUint8Array(b.id)}));const m=await navigator.credentials.get({publicKey:t});(await P.post("/webauthn/login",{email:a.email,credential:JSON.stringify(m)})).data.success?window.location.href="/dashboard":alert("Login failed.")}catch(t){console.error(t),alert("WebAuthn login failed.")}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Log in"}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:e.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 bg-white shadow-lg rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-green-500 text-white p-8 relative",children:[e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-white bg-white shadow-md",children:e.jsx("img",{src:"logo.png",alt:"Logo 1",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-white bg-white shadow-md",children:e.jsx("img",{src:"/ict.png",alt:"Logo 2",className:"w-full h-full object-contain"})})]}),e.jsx("h2",{className:"text-2xl font-bold text-center",children:"ICT INVENTORY SYSTEM MANAGEMENT"}),e.jsx("p",{className:"mt-3 text-sm opacity-90 text-center",children:"Secure • Fast • Organized"})]}),e.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[e.jsxs(Y,{className:"p-0 mb-6",children:[e.jsx(J,{className:"text-2xl font-bold",children:"Login Account"}),e.jsx(V,{children:"Please enter your details to log in"})]}),s&&e.jsx("div",{className:"mb-4 text-sm font-medium text-green-600",children:s}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(S,{htmlFor:"email",children:"Email Address"}),e.jsx(_,{id:"email",type:"email",name:"email",value:a.email,autoComplete:"username",onChange:t=>c("email",t.target.value)}),i.email&&e.jsx("p",{className:"text-sm text-red-500",children:i.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex justify-between",children:e.jsx(S,{htmlFor:"password",children:"Password"})}),e.jsx(_,{id:"password",type:"password",name:"password",value:a.password,autoComplete:"current-password",onChange:t=>c("password",t.target.value)}),i.password&&e.jsx("p",{className:"text-sm text-red-500",children:i.password})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"remember",checked:a.remember,onCheckedChange:t=>c("remember",!!t)}),e.jsx("label",{htmlFor:"remember",className:"text-sm text-muted-foreground",children:"Remember me"})]}),e.jsx(L,{type:"submit",className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:r,children:"Login"}),e.jsx(L,{type:"button",className:"w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white",onClick:x,children:"Login with Device"}),e.jsxs("div",{className:"text-center text-sm mt-6",children:["Don’t have an account?"," ",e.jsx("span",{className:"text-gray-600",children:"Please contact the ICT Department Chairperson to request one."})]})]})]})]})})]})}export{Ce as default};
