import{r as g,j as e,H as b}from"./app-oadOUV-n.js";import{F as N}from"./faculty-app-sidebar-C4l-lLcN.js";import{S as f,a as u,b as w,c as y}from"./avatar-CzEWLDN7.js";import{C as t,c as l,a as d,b as o,e as C}from"./card-Cra_Cbf4.js";import{B as v,a as F,b as B,c as R}from"./breadcrumb-CnaCxfT5.js";import{B as k}from"./button-DCerDx_k.js";import{B as A}from"./building-4rzAPWe_.js";import{D as S,C as _}from"./door-open-Bf2paaIh.js";import{U as m}from"./users-GXFjlTaJ.js";import{R as x,P as T,a as D,C as I,T as h,B as P,X as L,Y as q,L as E,b as O}from"./PieChart-B5VHdQ1u.js";import{C as H}from"./CartesianGrid-DGGoaNs7.js";import"./index-BFyFJkSE.js";import"./index-BrZ1aTMQ.js";import"./index-BexT-9JP.js";import"./index-BenP02zP.js";import"./chevron-right-BWjp2mrd.js";import"./utils-DmFmtmwo.js";import"./dropdown-menu-BsURpAdA.js";import"./index-Nzc-Onjg.js";import"./sparkles-BGPEqarB.js";import"./bell-B6bNijAo.js";import"./index-B12z-avD.js";import"./input-BYJK64iK.js";import"./index-BIZDOzgP.js";import"./index-BRvvtd1h.js";import"./index-DqNHHwnw.js";import"./with-selector-Dxc9hZOq.js";function pe({user:K,activeRooms:i=[],summary:a={},announcements:n=[]}){const[c,j]=g.useState(!1),p=c?i:i.slice(0,2);return e.jsxs(f,{children:[e.jsx(b,{children:e.jsx("title",{children:"Faculty Dashboard"})}),e.jsx(N,{}),e.jsxs(u,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white shadow-sm",children:[e.jsx(w,{}),e.jsx(y,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(v,{children:e.jsx(F,{children:e.jsx(B,{children:e.jsx(R,{href:"/faculty/dashboard",className:"font-semibold",children:"Dashboard"})})})})]}),e.jsxs("main",{className:"w-full px-6 py-6 bg-gray-50 min-h-screen space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(t,{children:e.jsxs(l,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Total Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:a.totalRooms??0})]}),e.jsx(A,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx(t,{children:e.jsxs(l,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Available Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:a.availableRooms??0})]}),e.jsx(S,{className:"w-8 h-8 text-green-600"})]})}),e.jsx(t,{children:e.jsxs(l,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Occupied Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:a.occupiedRooms??0})]}),e.jsx(m,{className:"w-8 h-8 text-red-600"})]})}),e.jsx(t,{children:e.jsxs(l,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Items Working %"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.itemsWorkingPercent??0,"%"]})]}),e.jsx(_,{className:"w-8 h-8 text-emerald-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(t,{className:"rounded-2xl shadow-md bg-white",children:[e.jsx(d,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-green-600"}),"Active Room Occupancy"]})}),e.jsx(l,{className:"space-y-6",children:i.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No active rooms right now"}):p.map(s=>e.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 last:border-b-0",children:[e.jsx("img",{src:s.faculty_photo?`/storage/${s.faculty_photo}`:"/default-avatar.png",alt:"Faculty",className:"w-20 h-20 rounded-full object-cover border-2 border-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Room ",s.room_number]}),e.jsxs("p",{className:"text-sm",children:["Scanned by"," ",e.jsx("span",{className:"font-medium",children:s.faculty_name})]}),e.jsx("p",{className:"text-xs text-gray-500",children:s.scanned_at?new Date(s.scanned_at).toLocaleString():"No scan time"})]})]},s.room_id))}),i.length>2&&e.jsx(C,{className:"flex justify-center",children:e.jsx(k,{variant:"outline",size:"sm",onClick:()=>j(!c),children:c?"Show Less":"View All Active Rooms"})})]}),e.jsxs(t,{className:"rounded-2xl shadow-md bg-white",children:[e.jsx(d,{children:e.jsx(o,{className:"flex items-center gap-2",children:"ðŸ“¢ Announcements"})}),e.jsx(l,{className:"space-y-4",children:n.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No announcements yet"}):n.map(s=>e.jsxs("div",{className:"border-b pb-3 last:border-b-0",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.message}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["By ",s.created_by_name," â€¢"," ",new Date(s.created_at).toLocaleDateString()]})]},s.id))})]})]}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Equipment Condition"}),a.totalItems>0?e.jsxs(e.Fragment,{children:[e.jsx(x,{width:"100%",height:250,children:e.jsxs(T,{children:[e.jsx(D,{data:a.conditions??[],cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:!0,children:(a.conditions??[]).map((s,r)=>e.jsx(I,{fill:["#4CAF50","#FFC107","#FF9800","#F44336","#2196F3","#9C27B0"][r%6]},`cell-${r}`))}),e.jsx(h,{})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:(a.conditions??[]).map((s,r)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"w-4 h-4 inline-block rounded",style:{backgroundColor:["#4CAF50","#FFC107","#FF9800","#F44336","#2196F3","#9C27B0"][r%6]}}),e.jsxs("span",{children:[s.name," (",s.value,")"]})]},r))})]}):e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No equipment data"})]}),e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Items by Category"}),e.jsx(x,{width:"100%",height:250,children:e.jsxs(P,{data:[{category:"Computers",total:a.systemUnitsTotal??0},{category:"Peripherals",total:a.peripheralsTotal??0},{category:"Equipments",total:a.equipmentsTotal??0}],margin:{top:10,right:10,left:0,bottom:0},children:[e.jsx(H,{strokeDasharray:"3 3"}),e.jsx(L,{dataKey:"category"}),e.jsx(q,{}),e.jsx(h,{}),e.jsx(E,{}),e.jsx(O,{dataKey:"total",fill:"#2196F3"})]})})]})]}),e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Equipment Overview Across Rooms"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{children:["Total items in all rooms:"," ",e.jsx("span",{className:"font-medium",children:a.totalItems??0})]}),e.jsxs("li",{children:["Items working:"," ",e.jsx("span",{className:"font-medium",children:a.workingItems??0})]}),e.jsxs("li",{children:["Percentage working / not working:"," ",e.jsxs("span",{className:"font-medium",children:[a.itemsWorkingPercent??0,"%"]})]}),e.jsxs("li",{children:["Room Occupancy:"," ",e.jsxs("span",{className:"font-medium",children:[a.occupiedRooms??0,"/",a.totalRooms??0]})]})]})]})]})]})]})]})]})}export{pe as default};
