import{b as N,r as d,u as _,j as e}from"./app-D66YSj8a.js";import{D,d as F,a as y,b as O,c as S}from"./dialog-BRPSOF8X.js";import{B as x,I as a,c as w}from"./input-B3xxVwwu.js";import{L as n}from"./label-DPTqV26o.js";import"./index-B3MCN-92.js";import"./index-CTpziBGc.js";const h=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function A(){const{rooms:c}=N().props,[u,m]=d.useState(!1),{data:r,setData:t,post:p,processing:g,errors:s,reset:j}=_({unit_code:"",processor:"",ram:"",storage:"",gpu:"",motherboard:"",condition:"",room_id:""}),b=o=>{const i=h.find(C=>C.label.toLowerCase()===o.toLowerCase());return i?i.color:"bg-muted"},v=o=>{o.preventDefault(),p("/units",{onSuccess:()=>{j(),m(!1)}})},[l,f]=d.useState("");return d.useEffect(()=>{const o=c.find(i=>`ROOM ${i.room_number}`.toLowerCase()===l.toLowerCase());o?t("room_id",o.id):t("room_id","")},[l]),e.jsxs(D,{open:u,onOpenChange:m,children:[e.jsx(F,{asChild:!0,children:e.jsx(x,{children:"Add Unit"})}),e.jsxs(y,{className:"sm:max-w-xl max-h-[90vh] overflow-y-auto",children:[e.jsx(O,{children:e.jsx(S,{children:"Add System Unit"})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"room_number",children:"Room"}),e.jsx(a,{id:"room_number",list:"room-options",value:l,onChange:o=>f(o.target.value),placeholder:"Search or select room"}),e.jsx("datalist",{id:"room-options",children:c.map(o=>e.jsx("option",{value:`ROOM ${o.room_number}`},o.id))}),s.room_id&&e.jsx("p",{className:"text-sm text-red-500",children:s.room_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"unit_code",children:"Unit Code"}),e.jsx(a,{id:"unit_code",name:"unit_code",value:r.unit_code,onChange:o=>t("unit_code",o.target.value),required:!0}),s.unit_code&&e.jsx("p",{className:"text-sm text-red-500",children:s.unit_code})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"processor",children:"Processor"}),e.jsx(a,{id:"processor",name:"processor",value:r.processor,onChange:o=>t("processor",o.target.value)}),s.processor&&e.jsx("p",{className:"text-sm text-red-500",children:s.processor})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"ram",children:"RAM"}),e.jsx(a,{id:"ram",name:"ram",value:r.ram,onChange:o=>t("ram",o.target.value)}),s.ram&&e.jsx("p",{className:"text-sm text-red-500",children:s.ram})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"storage",children:"Storage"}),e.jsx(a,{id:"storage",name:"storage",value:r.storage,onChange:o=>t("storage",o.target.value)}),s.storage&&e.jsx("p",{className:"text-sm text-red-500",children:s.storage})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"gpu",children:"GPU"}),e.jsx(a,{id:"gpu",name:"gpu",value:r.gpu,onChange:o=>t("gpu",o.target.value)}),s.gpu&&e.jsx("p",{className:"text-sm text-red-500",children:s.gpu})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"motherboard",children:"Motherboard"}),e.jsx(a,{id:"motherboard",name:"motherboard",value:r.motherboard,onChange:o=>t("motherboard",o.target.value)}),s.motherboard&&e.jsx("p",{className:"text-sm text-red-500",children:s.motherboard})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"condition",children:"Condition"}),e.jsx(a,{id:"condition",list:"condition-options",value:r.condition,onChange:o=>t("condition",o.target.value),placeholder:"Type or select"}),e.jsx("datalist",{id:"condition-options",children:h.map(o=>e.jsx("option",{value:o.label},o.label))}),r.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:w("inline-block w-3 h-3 rounded-full",b(r.condition))}),e.jsx("span",{className:"capitalize",children:r.condition})]}),s.condition&&e.jsx("p",{className:"text-sm text-red-500",children:s.condition})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{type:"submit",disabled:g,children:"Submit"})})]})]})]})}export{A as default};
