import{u as O,r as j,j as e,H as A,t as g}from"./app-CyKXg9yc.js";import{B as I}from"./button-bkt5fBkN.js";import{C as P,a as E}from"./card-L50hD0x8.js";import{I as d}from"./input-vTKYAFaX.js";import{L as a}from"./label-CCUne8iZ.js";import{S as F,a as M,b as R,c as D}from"./avatar-C1gNw84X.js";import{A as T}from"./app-sidebar-B6WyFqYK.js";import{B as w,a as k,b as L,c as n,d as b}from"./breadcrumb-CH3ifJ5X.js";import{S as l,a as c,b as m,c as p,d as h}from"./select-DKj_0w9a.js";import"./index-cjdhKuD8.js";import"./utils-CBfrqCZ4.js";import"./index-CXDoVF6r.js";import"./index-BMH21eXj.js";import"./createLucideIcon-BLPxHd-5.js";import"./index-BWpWyP_H.js";import"./dropdown-menu-CabchwOY.js";import"./index-5jbi07bB.js";import"./chevron-right-BzZBUWCH.js";import"./index-DJ_kx1uc.js";import"./index-BQY8eDvm.js";import"./house-CVXFB2a_.js";import"./user-D9nAcC9K.js";import"./log-out-DMx0wB5w.js";import"./keyboard-DLSZJklx.js";import"./boxes-CTrMnO-P.js";import"./users-BWNN-IE-.js";import"./chevron-down-DXGQVhew.js";import"./index-BHeEoOFm.js";const U=["Working","Not Working","Intermittent Issue","Needs Cleaning","For Replacement","For Disposal","Condemned","Needs Repair","Needs Configuration","Under Maintenance","To Be Diagnosed"];function ue({existingRooms:v=[],existingUnits:x=[],existingBrands:f=[],existingModels:S=[]}){const{data:r,setData:s,post:_,processing:N,errors:t,reset:C}=O({type:"",brand:"",model:"",serial_number:"",condition:"",condition_details:"",room_id:"",unit_id:""}),[y,u]=j.useState([]);j.useEffect(()=>{if(r.room_id){const i=x.filter(o=>String(o.room_id)===String(r.room_id));u(i),i.find(o=>o.id===r.unit_id)||s("unit_id","")}else u([]),s("unit_id","")},[r.room_id,x]);const B=i=>{i.preventDefault(),_("/admin/peripherals",{onSuccess:()=>{C(),g.success("Peripheral Added",{description:"The peripheral has been added successfully!",duration:2e3})},onError:()=>{g.error("Error",{description:"Something went wrong. Please check your inputs."})}})};return e.jsxs(F,{children:[e.jsx(A,{title:"Add Peripheral"}),e.jsx(T,{}),e.jsxs(M,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(R,{}),e.jsx(D,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(w,{children:e.jsx(k,{children:e.jsxs(L,{children:[e.jsx(n,{href:"#",children:"Assets"}),e.jsx(b,{}),e.jsx(n,{href:"/admin/peripherals",children:"Peripherals"}),e.jsx(b,{}),e.jsx(n,{href:"/admin/peripherals/create",className:"font-semibold text-foreground",children:"Add Peripheral"})]})})})]}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5 text-center",children:"Add Peripheral"}),e.jsx(P,{className:"max-w-4xl mx-auto",children:e.jsx(E,{children:e.jsxs("form",{onSubmit:B,className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"room",children:"Room"}),e.jsxs(l,{value:r.room_id,onValueChange:i=>s("room_id",i),children:[e.jsx(c,{children:e.jsx(m,{placeholder:"-- Select Room --"})}),e.jsx(p,{children:v.map(i=>e.jsxs(h,{value:i.id.toString(),children:["ROOM ",i.room_number]},i.id))})]}),t.room_id&&e.jsx("p",{className:"text-sm text-red-500",children:t.room_id})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"unit",children:"Unit Code"}),e.jsxs(l,{value:r.unit_id,onValueChange:i=>s("unit_id",i),disabled:!r.room_id,children:[e.jsx(c,{children:e.jsx(m,{placeholder:"-- Select Unit --"})}),e.jsx(p,{children:y.map(i=>e.jsx(h,{value:i.id.toString(),children:i.unit_code},i.id))})]}),t.unit_id&&e.jsx("p",{className:"text-sm text-red-500",children:t.unit_id})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Type"}),e.jsx(d,{list:"typeOptions",value:r.type,onChange:i=>s("type",i.target.value),placeholder:"e.g. Mouse, Keyboard"}),e.jsxs("datalist",{id:"typeOptions",children:[e.jsx("option",{value:"Mouse"}),e.jsx("option",{value:"Keyboard"}),e.jsx("option",{value:"Monitor"}),e.jsx("option",{value:"Printer"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{children:"Brand"}),e.jsx(d,{list:"brandOptions",value:r.brand,onChange:i=>s("brand",i.target.value),placeholder:"Select or type brand"}),e.jsx("datalist",{id:"brandOptions",children:f.map(i=>e.jsx("option",{value:i},i))})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Model"}),e.jsx(d,{list:"modelOptions",value:r.model,onChange:i=>s("model",i.target.value),placeholder:"Select or type model"}),e.jsx("datalist",{id:"modelOptions",children:S.map(i=>e.jsx("option",{value:i},i))})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Serial Number"}),e.jsx(d,{value:r.serial_number,onChange:i=>s("serial_number",i.target.value),placeholder:"Enter serial number"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(a,{children:"Condition"}),e.jsxs(l,{value:r.condition,onValueChange:i=>s("condition",i),children:[e.jsx(c,{children:e.jsx(m,{placeholder:"-- Select Condition --"})}),e.jsx(p,{children:U.map(i=>e.jsx(h,{value:i,children:i},i))})]}),t.condition&&e.jsx("p",{className:"text-sm text-red-500",children:t.condition})]}),e.jsxs("div",{className:"col-span-1 gap-2",children:[e.jsx(a,{children:"Condition Details"}),e.jsx(d,{value:r.condition_details,onChange:i=>s("condition_details",i.target.value),placeholder:"Enter details about the condition (e.g., minor scratches, not detecting input, etc.)"}),t.condition_details&&e.jsx("p",{className:"text-sm text-red-500",children:t.condition_details})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(I,{type:"submit",disabled:N,className:"bg-[hsl(142,31%,51%)] hover:bg-[hsl(142,31%,45%)] text-white font-medium",children:"Submit"})})]})})})]})]})]})}export{ue as default};
