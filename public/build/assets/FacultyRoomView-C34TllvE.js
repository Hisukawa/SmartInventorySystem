import{j as e,c as E,r as l,R as M,H as R,L as T}from"./app-BpRUceEj.js";import{c as _,B as n}from"./button-CtASqKdi.js";import{T as L,a as V,b as h,c as m,d as q,e as c}from"./table-QMjgBLTn.js";import{I as B}from"./input-DKuu2mWd.js";import{f as C,c as F}from"./index-fql-_f0x.js";import{F as z,M as H}from"./faculty-room-view-sidebar-CfRSe7mZ.js";import"./index-DXlzJLfp.js";import"./dropdown-menu-SNzjHwqN.js";import"./index-D6KhA6T-.js";import"./index-ymmVuUgQ.js";import"./chevron-right-BtngIXb-.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f=C("eye",I);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],O=C("pencil",A),U=_("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $({className:a,variant:i,...r}){return e.jsx("div",{className:F(U({variant:i}),a),...r})}function G({page:a,pageCount:i,onPageChange:r}){return e.jsxs("div",{className:"flex justify-end items-center gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",disabled:a===1,onClick:()=>r(a-1),children:"Previous"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",a," of ",i]}),e.jsx(n,{variant:"outline",size:"sm",disabled:a===i,onClick:()=>r(a+1),children:"Next"})]})}function te({room:a,equipments:i,systemUnits:r,peripherals:p}){const{auth:j}=E().props,[s,v]=l.useState("system-units"),[k,x]=l.useState(!1),[u,N]=l.useState(""),[d,g]=l.useState(1),o=10,b=l.useMemo(()=>s==="system-units"?r:s==="peripherals"?p:s==="equipments"?i:[],[s,r,p,i]),y=l.useMemo(()=>b.filter(t=>(t.name||"").toLowerCase().includes(u.toLowerCase())),[b,u]),w=Math.ceil(y.length/o),S=y.slice((d-1)*o,d*o);return M.useEffect(()=>{g(1),N("")},[s]),e.jsxs(e.Fragment,{children:[e.jsx(R,{title:`Room - ${a.room_number}`}),e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx("div",{className:"hidden md:flex",children:e.jsx(z,{room:a,active:s,user:j.user,onSelect:v})}),k&&e.jsxs("div",{className:"fixed inset-0 z-40 flex md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>x(!1)}),e.jsx("div",{className:"relative z-50 w-64 bg-white shadow-lg",children:e.jsx(z,{room:a,active:s,user:j.user,onSelect:t=>{v(t),x(!1)}})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5 max-w-full md:max-w-5xl lg:max-w-7xl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"outline",size:"icon",className:"md:hidden",onClick:()=>x(!0),children:e.jsx(H,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-xl font-semibold",children:s==="system-units"?"System Units":s==="peripherals"?"Peripherals":"Equipments"})]})}),e.jsxs("div",{className:"rounded-md border overflow-hidden w-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:s==="system-units"?"System Units":s==="peripherals"?"Peripherals":s=="equipments"?"Equipments":" "}),e.jsx(B,{placeholder:"Search...",value:u,onChange:t=>N(t.target.value),className:"max-w-xs"})]}),e.jsxs(L,{className:"border-collapse border border-gray-300 w-full",children:[e.jsx(V,{children:e.jsxs(h,{className:"divide-x divide-gray-300",children:[e.jsx(m,{className:"w-20 text-center",children:"No"}),e.jsx(m,{className:"w-auto",children:s==="system-units"?"Unit Code":s==="peripherals"?"Peripheral Code":"Equipment Code"}),e.jsx(m,{className:"w-auto",children:"Condition"}),e.jsx(m,{className:"w-1/6 text-left",children:"Actions"})]})}),e.jsx(q,{children:S.length>0?S.map((t,P)=>e.jsxs(h,{className:"divide-x divide-gray-300",children:[e.jsx(c,{className:"text-center",children:(d-1)*o+P+1}),e.jsx(c,{children:t.name}),e.jsx(c,{children:e.jsx($,{variant:t.condition==="Good"?"success":"destructive",children:t.condition})}),e.jsxs(c,{className:"flex gap-2 text-left",children:[s==="system-units"&&e.jsx(T,{href:route("faculty.units.show",{room:a.id,unit:t.id}),children:e.jsxs(n,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"}),"View"]})}),s==="peripherals"&&e.jsxs(n,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"}),"View"]}),s==="equipments"&&e.jsxs(n,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"}),"View"]}),e.jsxs(n,{size:"sm",variant:"outline",children:[e.jsx(O,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]},t.id)):e.jsx(h,{className:"divide-x divide-gray-300",children:e.jsx(c,{colSpan:4,className:"text-center text-muted-foreground",children:"No data found."})})})]}),w>1&&e.jsx("div",{className:"flex justify-end p-2",children:e.jsx(G,{page:d,pageCount:w,onPageChange:g})})]})]})})]})]})}export{te as default};
