import{r as x,b as v,u as w,a as y,j as e,H as C}from"./app-Bt6Wny61.js";import{C as _,b as S,c as k,a as B}from"./card-BVUIe3x8.js";import{B as o}from"./button-BQUS9d0v.js";import{I as r}from"./input-Coprdbjs.js";import{T as h}from"./techician-scanned-sidebar-BbXSaEM9.js";import{S as u}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{L as p}from"./label-t4Ct4wbP.js";import{S as T,a as I,b as D,c as M,d as P}from"./select-G4WRp06_.js";import{M as A}from"./menu-LuugR4ke.js";import"./utils-CBfrqCZ4.js";import"./index-Cpx0d4t7.js";import"./dropdown-menu-BiWLwlE9.js";import"./index-DfERiUME.js";import"./index-CxlAvdmN.js";import"./index-BxAUx6lT.js";import"./createLucideIcon-1rRZhjMj.js";import"./chevron-right-CEwh7JdV.js";import"./log-out-Cdb1fpzw.js";import"./monitor-eEAa3ik1.js";import"./mouse-CGnyba3u.js";import"./package-sCKU6SoX.js";import"./index-C51NxLUq.js";import"./index-Cm2bfEOw.js";import"./chevron-down-C1pUC98T.js";function de({room:i,user:c,existingRooms:E,existingUnits:f,existingBrands:R,existingModels:O}){const[b,n]=x.useState(!1),{flash:d}=v().props,g=["Working","Not Working","Intermittent Issue","Needs Cleaning","For Replacement","For Disposal","Condemned","Needs Repair","Needs Configuration","Under Maintenance","To Be Diagnosed"],{data:t,setData:a,post:j,processing:m,errors:l}=w({type:"",brand:"",model:"",serial_number:"",condition:"",condition_details:"",room_id:i.id,unit_id:""}),N=s=>{s.preventDefault(),j(route("technician.peripherals.store"),{onSuccess:()=>{u.fire({icon:"success",title:"Success!",text:"Peripheral added successfully!",confirmButtonColor:"hsl(142,34%,51%)"}),a({type:"",brand:"",model:"",serial_number:"",condition:"",condition_details:"",room_id:i.id,unit_id:""})}})};return x.useEffect(()=>{d?.success&&u.fire({icon:"success",title:"Success!",text:d.success,confirmButtonColor:"hsl(142,34%,51%)"}).then(()=>y.reload({only:[]}))},[d]),e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:e.jsx(h,{room:i,user:c,active:"add-peripheral"})}),b&&e.jsxs("div",{className:"fixed inset-0 z-40 flex md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>n(!1)}),e.jsx("div",{className:"relative z-50 w-64 shadow-lg bg-[hsl(142,34%,51%)]",children:e.jsx(h,{room:i,user:c,active:"add-peripheral",onSelect:()=>n(!1)})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b md:hidden flex items-center justify-between shadow-sm bg-[hsl(142,34%,51%)]",children:[e.jsx(o,{variant:"outline",size:"icon",onClick:()=>n(!0),className:"bg-[hsl(142,34%,51%)] text-white border-none hover:bg-[hsl(142,34%,45%)]",children:e.jsx(A,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:i.room_name})]}),e.jsxs("div",{className:"p-4 md:p-8 w-full flex justify-center",children:[e.jsx(C,{title:"Add Peripheral"}),e.jsxs(_,{className:"w-full max-w-2xl rounded-2xl shadow-md",children:[e.jsx(S,{children:e.jsx(k,{className:"text-lg md:text-xl font-semibold",children:"Add New Peripheral"})}),e.jsx(B,{children:e.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Code"}),e.jsxs("select",{value:t.unit_id,onChange:s=>a("unit_id",s.target.value),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"",children:"Select Unit"}),f.map(s=>e.jsx("option",{value:s.id,children:s.unit_code},s.id))]}),l.unit_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.unit_id})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsx(r,{placeholder:"e.g. Keyboard",value:t.type,onChange:s=>a("type",s.target.value),className:"w-full"}),l.type&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.type})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),e.jsx(r,{placeholder:"e.g. Logitech",value:t.brand,onChange:s=>a("brand",s.target.value),className:"w-full"}),l.brand&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.brand})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),e.jsx(r,{placeholder:"e.g. K120",value:t.model,onChange:s=>a("model",s.target.value),className:"w-full"}),l.model&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.model})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),e.jsx(r,{placeholder:"",value:t.serial_number,onChange:s=>a("serial_number",s.target.value),className:"w-full"}),l.serial_number&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.serial_number})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(p,{children:"Condition"}),e.jsxs(T,{value:t.condition,onValueChange:s=>a("condition",s),children:[e.jsx(I,{className:"w-full",children:e.jsx(D,{placeholder:"-- Select Condition --"})}),e.jsx(M,{children:g.map(s=>e.jsx(P,{value:s,children:s},s))})]}),l.condition&&e.jsx("p",{className:"text-sm text-red-500",children:l.condition})]}),e.jsxs("div",{className:"sm:col-span-2 w-full",children:[e.jsx(p,{children:"Condition Details"}),e.jsx(r,{placeholder:"Enter details about the condition (e.g., minor scratches, not detecting input, etc.)",value:t.condition_details||"",onChange:s=>a("condition_details",s.target.value),className:"w-full"}),l.condition_details&&e.jsx("p",{className:"text-sm text-red-500",children:l.condition_details})]}),e.jsxs("div",{className:"sm:col-span-2 flex justify-end mt-2 gap-2",children:[e.jsx(o,{type:"button",onClick:()=>window.history.back(),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Back"}),e.jsx(o,{type:"submit",disabled:m,className:"px-6 bg-[hsl(142,34%,51%)] text-white hover:bg-[hsl(142,34%,45%)] rounded-lg",children:m?"Saving...":"Add Peripheral"})]})]})})]})]})]})]})}export{de as default};
