import{r as j,j as s,H as I}from"./app-z6Vw40qg.js";import{S as M,a as A,b as F,c as H}from"./avatar-DtziOh3W.js";import{F as L,S as V,T as z,a as E,b as p,c as g}from"./tabs-HQxgaikI.js";import{B as P,a as q,b as U,c as Z}from"./breadcrumb-4akR97PS.js";import{C as N,a as G}from"./card-C7Qc2-6c.js";import{B as m}from"./badge-C0m6s3FH.js";import{T as u,a as b,b as r,c as l,d as f,e as i}from"./table-CyPFlxRG.js";import{B as d}from"./button-C8lyBYc6.js";import{D as v,e as y,a as w,b as R,c as k,f as C,d as S}from"./dialog-BzgToahw.js";import{a as J}from"./createLucideIcon-B0WYDbjW.js";import{F as K,E as D}from"./file-text-pHZh75xg.js";import"./index-DOpt5hlj.js";import"./index-B8ua60HV.js";import"./input-DHKWE85y.js";import"./index-CV-8ncH2.js";import"./index-C0fTul90.js";import"./dropdown-menu-BxwQN4Fw.js";import"./index-CKOI0W7X.js";import"./chevron-right-Bj5qHi4z.js";import"./index-B4P4VYbh.js";import"./index-D4HFpSv8.js";import"./sparkles-BKefO-Bw.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Q=J("building-2",O),x=T=>new Date(T).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});function bs({user:T,recentRooms:_=[],reports:h=[]}){const[a,c]=j.useState(null),[o,B]=j.useState("all"),t=j.useMemo(()=>o==="all"?h:h.filter(e=>e.status===o),[h,o]),n=e=>{switch(e){case"pending":return s.jsx(m,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Pending"});case"resolved":return s.jsx(m,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Resolved"});case"critical":return s.jsx(m,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300",children:"Critical"});default:return s.jsx(m,{variant:"outline",children:"Unknown"})}};return s.jsxs(M,{children:[s.jsx(I,{children:s.jsx("title",{children:"Faculty Dashboard"})}),s.jsx(L,{}),s.jsxs(A,{children:[s.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white shadow-sm",children:[s.jsx(F,{}),s.jsx(H,{orientation:"vertical",className:"h-6 mx-3"}),s.jsx(P,{children:s.jsx(q,{children:s.jsx(U,{children:s.jsx(Z,{href:"/faculty/dashboard","aria-current":"page",className:"font-semibold text-foreground",children:"Dashboard"})})})})]}),s.jsx("main",{className:"w-full px-6 py-6 bg-gray-50 min-h-screen",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx("section",{className:"max-w-md w-full",children:s.jsxs(N,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Q,{className:"h-5 w-5 text-green-600"}),s.jsx("h2",{className:"font-bold text-sm px-3 py-1 rounded-md bg-green-600 border border-green-700 text-white inline-block",children:"Recent Rooms Scanned"})]}),s.jsx(V,{className:"h-[350px] pr-2",children:s.jsx("div",{className:"space-y-3",children:(_||[]).map(e=>s.jsxs(N,{className:"p-3 w-full bg-green-100 border border-green-300 text-green-800 hover:shadow-md transition-all hover:scale-[1.01]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("p",{className:"font-semibold text-sm",children:["Room ",e.room_number]}),s.jsx(m,{variant:e.is_active?"default":"secondary",className:e.is_active?"bg-green-600 border border-green-700 text-white":"bg-gray-500 border border-gray-600 text-white",children:e.is_active?"Active":"Inactive"})]}),s.jsxs("p",{className:"text-xs",children:["Last scanned: ",x(e.created_at)]})]},e.room_number))})})]})}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(K,{className:"h-5 w-5 text-red-600"}),s.jsx("h2",{className:"font-bold text-lg",children:"My Reports"})]}),s.jsx(N,{children:s.jsx(G,{className:"pt-4",children:s.jsxs(z,{value:o,onValueChange:B,className:"w-full",children:[s.jsxs(E,{className:"grid w-full grid-cols-3 md:w-[400px]",children:[" ",s.jsx(p,{value:"all",children:"All Reports"}),s.jsx(p,{value:"pending",children:"Pending"}),s.jsx(p,{value:"resolved",children:"Resolved"})]}),s.jsx(g,{value:"all",className:"mt-4",children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(u,{children:[s.jsx(b,{children:s.jsxs(r,{children:[s.jsx(l,{children:"Item"}),s.jsx(l,{children:"Room"}),s.jsx(l,{children:"Condition"}),s.jsx(l,{children:"Status"}),s.jsx(l,{className:"text-right",children:"Actions"})]})}),s.jsx(f,{children:t.length>0?t.map(e=>s.jsxs(r,{children:[s.jsx(i,{className:"font-medium",children:e.item}),s.jsxs(i,{children:["Room ",e.room_number]}),s.jsx(i,{children:e.condition}),s.jsx(i,{children:n(e.status)}),s.jsx(i,{className:"text-right",children:s.jsxs(v,{children:[s.jsx(y,{asChild:!0,children:s.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>c(e),children:[s.jsx(D,{className:"h-4 w-4 mr-2"})," View"]})}),s.jsxs(w,{className:"sm:max-w-[425px]",children:[s.jsxs(R,{children:[s.jsx(k,{children:"Report Details"}),s.jsx(C,{children:"Detailed information about this report."})]}),a&&s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Item:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.item})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Room:"}),s.jsxs("p",{className:"text-sm col-span-3",children:["Room ",a.room_number]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Condition:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.condition})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Status:"}),s.jsx("p",{className:"text-sm col-span-3",children:n(a.status)})]}),a.remarks&&s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Remarks:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.remarks})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Submitted:"}),s.jsx("p",{className:"text-sm col-span-3",children:x(a.created_at)})]})]}),s.jsx(S,{children:s.jsx(d,{type:"button",onClick:()=>c(null),children:"Close"})})]})]})})]},e.id)):s.jsx(r,{children:s.jsx(i,{colSpan:5,className:"h-24 text-center text-gray-500",children:"No reports to display for this category."})})})]})})}),s.jsx(g,{value:"pending",className:"mt-4",children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(u,{children:[s.jsx(b,{children:s.jsxs(r,{children:[s.jsx(l,{children:"Item"}),s.jsx(l,{children:"Room"}),s.jsx(l,{children:"Condition"}),s.jsx(l,{children:"Status"}),s.jsx(l,{className:"text-right",children:"Actions"})]})}),s.jsx(f,{children:t.length>0?t.map(e=>s.jsxs(r,{children:[s.jsx(i,{className:"font-medium",children:e.item}),s.jsxs(i,{children:["Room ",e.room_number]}),s.jsx(i,{children:e.condition}),s.jsx(i,{children:n(e.status)}),s.jsx(i,{className:"text-right",children:s.jsxs(v,{children:[s.jsx(y,{asChild:!0,children:s.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>c(e),children:[s.jsx(D,{className:"h-4 w-4 mr-2"})," View"]})}),s.jsxs(w,{className:"sm:max-w-[425px]",children:[s.jsxs(R,{children:[s.jsx(k,{children:"Report Details"}),s.jsx(C,{children:"Detailed information about this report."})]}),a&&s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Item:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.item})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Room:"}),s.jsxs("p",{className:"text-sm col-span-3",children:["Room ",a.room_number]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Condition:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.condition})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Status:"}),s.jsx("p",{className:"text-sm col-span-3",children:n(a.status)})]}),a.remarks&&s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Remarks:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.remarks})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Submitted:"}),s.jsx("p",{className:"text-sm col-span-3",children:x(a.created_at)})]})]}),s.jsx(S,{children:s.jsx(d,{type:"button",onClick:()=>c(null),children:"Close"})})]})]})})]},e.id)):s.jsx(r,{children:s.jsx(i,{colSpan:5,className:"h-24 text-center text-gray-500",children:"No pending reports."})})})]})})}),s.jsx(g,{value:"resolved",className:"mt-4",children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(u,{children:[s.jsx(b,{children:s.jsxs(r,{children:[s.jsx(l,{children:"Item"}),s.jsx(l,{children:"Room"}),s.jsx(l,{children:"Condition"}),s.jsx(l,{children:"Status"}),s.jsx(l,{className:"text-right",children:"Actions"})]})}),s.jsx(f,{children:t.length>0?t.map(e=>s.jsxs(r,{children:[s.jsx(i,{className:"font-medium",children:e.item}),s.jsxs(i,{children:["Room ",e.room_number]}),s.jsx(i,{children:e.condition}),s.jsx(i,{children:n(e.status)}),s.jsx(i,{className:"text-right",children:s.jsxs(v,{children:[s.jsx(y,{asChild:!0,children:s.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>c(e),children:[s.jsx(D,{className:"h-4 w-4 mr-2"})," View"]})}),s.jsxs(w,{className:"sm:max-w-[425px]",children:[s.jsxs(R,{children:[s.jsx(k,{children:"Report Details"}),s.jsx(C,{children:"Detailed information about this report."})]}),a&&s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Item:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.item})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Room:"}),s.jsxs("p",{className:"text-sm col-span-3",children:["Room ",a.room_number]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Condition:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.condition})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Status:"}),s.jsx("p",{className:"text-sm col-span-3",children:n(a.status)})]}),a.remarks&&s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Remarks:"}),s.jsx("p",{className:"text-sm col-span-3",children:a.remarks})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Submitted:"}),s.jsx("p",{className:"text-sm col-span-3",children:x(a.created_at)})]})]}),s.jsx(S,{children:s.jsx(d,{type:"button",onClick:()=>c(null),children:"Close"})})]})]})})]},e.id)):s.jsx(r,{children:s.jsx(i,{colSpan:5,className:"h-24 text-center text-gray-500",children:"No resolved reports."})})})]})})})]})})})]})]})})]})]})}export{bs as default};
