import{r as d,j as e,H as A}from"./app-C8I6qxFY.js";import{A as U}from"./app-sidebar-DjBZQjfi.js";import{S as B,a as D,b as Q,c as L}from"./avatar-DlTm_WIS.js";import{B as f}from"./button-DR-0x6cm.js";import{Q as j}from"./index-C1UAUD-9.js";import{C as M,b as _,c as T,a as $}from"./card-BNDfAG-Y.js";import{B as H,a as I,b as z,c as m,d as N}from"./breadcrumb-msPncOeB.js";import{D as O,a as V,b as q,c as E}from"./dialog-C5t0m2pi.js";import{Q as F}from"./qr-code-ZRzMjG_h.js";import{B as P,T as G}from"./triangle-alert-DHgZCkcy.js";import{C as X}from"./cpu-CuakQ8mT.js";import{D as J}from"./database-DTQfMikz.js";import{H as K}from"./hard-drive-CIfsEXQu.js";import{M as W}from"./monitor-DUrc5Z6t.js";import{c as Y}from"./createLucideIcon-D7Fdj3sf.js";import{C as Z}from"./circle-check-BOTukqtC.js";import{I as u}from"./info-CF7KjLxQ.js";import{U as ee}from"./user-BRGRtVia.js";import"./dropdown-menu-DBRvrH6r.js";import"./index-BJPPmTgs.js";import"./index-B6CRlEn5.js";import"./index-BT3vSYBx.js";import"./index-3a4N3u5O.js";import"./utils-CBfrqCZ4.js";import"./chevron-right-C99EAzBL.js";import"./keyboard-CDrawFwY.js";import"./boxes-D_hyj2Qc.js";import"./users-Bhwf3PJM.js";import"./chevron-down-DZMa2koE.js";import"./input-CT3MX36p.js";import"./index-B0A32JXv.js";import"./index-D-aKNu2L.js";import"./index-qVd6ytAA.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M11 9h4a2 2 0 0 0 2-2V3",key:"1ve2rv"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M7 21v-4a2 2 0 0 1 2-2h4",key:"1fwkro"}],["circle",{cx:"15",cy:"15",r:"2",key:"3i40o0"}]],ae=Y("circuit-board",se);function ze({unit:s}){const[i,w]=d.useState(null),[b,x]=d.useState(!1),[v,c]=d.useState(!1),n=s?.unit_code||"N/A",o=s?.room?.room_number||"N/A",h=`${window.location.origin}/system-units/view/${s.unit_path}`,y=()=>{w(h),x(!0),c(!1)},C=async()=>{if(i)try{await navigator.clipboard.writeText(i),c(!0),setTimeout(()=>c(!1),2e3)}catch(a){console.error("Failed to copy: ",a)}},R=()=>{if(!i)return;const a=document.createElement("canvas"),p=document.querySelector("#modal-qr svg");if(!p)return;const k=new XMLSerializer().serializeToString(p),r=new Image,S=new Blob([k],{type:"image/svg+xml;charset=utf-8"}),g=URL.createObjectURL(S);r.onload=()=>{a.width=r.width+40,a.height=r.height+40+40;const t=a.getContext("2d");t.fillStyle="#fff",t.fillRect(0,0,a.width,a.height),t.drawImage(r,20,20),t.fillStyle="#000",t.font="bold 20px Arial",t.textAlign="center",t.fillText(`Room ${o} - ${n}`,a.width/2,r.height+20+30),URL.revokeObjectURL(g);const l=document.createElement("a");l.download=`ROOM-${o}_${n}.png`,l.href=a.toDataURL("image/png"),l.click()},r.src=g};return e.jsxs(B,{children:[e.jsx(U,{}),e.jsxs(D,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(Q,{}),e.jsx(L,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(H,{children:e.jsx(I,{children:e.jsxs(z,{children:[e.jsx(m,{href:"#",children:"Assets"}),e.jsx(N,{}),e.jsx(m,{href:"/admin/system-units",children:"System Unit Lists"}),e.jsx(N,{}),e.jsx(m,{href:`/system-units/view/${s.unit_path}`,className:"font-semibold text-foreground",children:"View Unit"})]})})})]}),e.jsx(A,{title:`View ${n}`}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"System Unit Information"}),e.jsxs(M,{className:"max-w-4xl mx-auto shadow-lg rounded-2xl",children:[e.jsx(_,{className:"bg-[hsl(142,34%,51%)] text-white border-none hover:bg-[hsl(142,34%,45%)] text-center",children:e.jsx(T,{className:"text-lg",children:"Unit Details"})}),e.jsxs($,{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 py-5 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Unit Code:"}),e.jsx("span",{children:n})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Room:"}),e.jsx("span",{children:o})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Processor:"}),e.jsx("span",{children:s?.processor||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"RAM:"}),e.jsx("span",{children:s?.ram||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Storage:"}),e.jsx("span",{children:s?.storage||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"GPU:"}),e.jsx("span",{children:s?.gpu||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Motherboard:"}),e.jsx("span",{children:s?.motherboard||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s?.condition==="Functional"?e.jsx(Z,{className:"w-5 h-5 text-green-600"}):s?.condition==="Needs Repair"?e.jsx(G,{className:"w-5 h-5 text-yellow-600"}):e.jsx(u,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium",children:"Condition:"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium text-white ${s?.condition==="Functional"?"bg-green-500":s?.condition==="Needs Repair"?"bg-yellow-500":"bg-gray-500"}`,children:s?.condition||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Condition Details:"}),e.jsx("span",{children:s?.condition_details||"No details"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Assigned Faculty (MR):"}),e.jsx("span",{children:s?.mr_to?.name||"N/A"})]})]}),e.jsxs("div",{className:"flex flex-col items-center py-6 bg-white rounded-b-2xl",children:[e.jsx("div",{className:"bg-white p-3 rounded-lg shadow cursor-pointer hover:shadow-lg transition",onClick:y,children:e.jsx(j,{value:h,size:128})}),e.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:"Scan to view public info"})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(f,{variant:"secondary",onClick:()=>window.history.back(),children:"Go Back"})})]}),e.jsx(O,{open:b,onOpenChange:x,children:e.jsxs(V,{className:"flex flex-col items-center",children:[e.jsx(q,{children:e.jsxs(E,{children:["QR Code for Room ",o," - ",n]})}),i&&e.jsx("div",{id:"modal-qr",className:"cursor-pointer",onClick:C,children:e.jsx(j,{value:i,size:256})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Click QR to copy link"}),v&&e.jsx("span",{className:"text-green-600 text-sm",children:"QR code path copied!"}),e.jsx("div",{className:"mt-1 flex gap-2",children:e.jsx(f,{onClick:R,children:"Download"})})]})})]})]})}export{ze as default};
