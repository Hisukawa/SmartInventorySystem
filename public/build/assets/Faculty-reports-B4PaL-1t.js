import{r as d,j as e,L as p,b as f}from"./app-CBWTJU5K.js";import{B as o}from"./button-BL3iV3E7.js";import{C as S,a as v}from"./card-B8uhRC4B.js";import{S as N,a as B,b as L,c as T}from"./index-BOztI01U.js";import{S as R}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{T as k,a as D,b as m,c as t,d as A,e as s}from"./table-Cu6Nqw6B.js";import{B as P,a as _,b as z,c as b,d as I}from"./breadcrumb-CDtehEh_.js";import{A as E}from"./app-sidebar-Cilzw0Nb.js";import{I as F}from"./input-BsoqWy2r.js";import"./index-DZE4h3iZ.js";import"./index-DH4sAsUT.js";import"./index-B4Ev5MoV.js";import"./index-BGWZyKil.js";import"./dropdown-menu-C4Baw4pv.js";import"./index-Ckcdz0TT.js";import"./chevron-right-BejQxAIm.js";import"./index-DUs_jQhL.js";function se({reports:h,search:C}){const[i,w]=d.useState(C||""),[n,c]=d.useState(1),l=10;function y(r){R.fire({title:"Are you sure?",text:"This report will be permanently deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&f.delete(`/admin/faculty-reports/${r}`)})}const g=r=>{r.key==="Enter"&&f.get("/admin/faculty-reports",{search:i})},x=d.useMemo(()=>h.filter(r=>i===""||r.remarks?.toLowerCase().includes(i.toLowerCase())||r.condition?.toLowerCase().includes(i.toLowerCase())||(r.room?.room_number||"N/A").toLowerCase().includes(i.toLowerCase())||r.user?.name?.toLowerCase().includes(i.toLowerCase())),[h,i]),u=Math.ceil(x.length/l),j=x.slice((n-1)*l,n*l);return e.jsxs(N,{children:[e.jsx(E,{}),e.jsxs(B,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(L,{}),e.jsx(T,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(P,{children:e.jsx(_,{children:e.jsxs(z,{children:[e.jsx(b,{href:"#",children:"Reports"}),e.jsx(I,{}),e.jsx(b,{href:"/admin/faculty-reports","aria-current":"page",className:"font-semibold text-foreground",children:"Faculty Reports"})]})})})]}),e.jsx("main",{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Faculty Reports"}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx(F,{placeholder:"Search reports...",value:i,onChange:r=>w(r.target.value),onKeyDown:g,className:"w-full sm:w-1/3"})}),e.jsx(S,{children:e.jsxs(v,{children:[e.jsxs(k,{children:[e.jsx(D,{children:e.jsxs(m,{children:[e.jsx(t,{children:"#"}),e.jsx(t,{children:"Faculty"}),e.jsx(t,{children:"Reportable Type"}),e.jsx(t,{children:"Reportable ID"}),e.jsx(t,{children:"Condition"}),e.jsx(t,{children:"Remarks"}),e.jsx(t,{children:"Room"}),e.jsx(t,{children:"Date"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(A,{children:j.length>0?j.map((r,a)=>e.jsxs(m,{children:[e.jsx(s,{children:(n-1)*l+a+1}),e.jsx(s,{children:r.user?.name||"N/A"}),e.jsx(s,{children:r.reportable_type}),e.jsx(s,{children:r.reportable_id}),e.jsx(s,{children:r.condition}),e.jsx(s,{children:r.remarks}),e.jsxs(s,{children:["ROOM"," ",r.room?r.room.room_number:"N/A"]}),e.jsx(s,{children:new Date(r.created_at).toLocaleDateString()}),e.jsxs(s,{className:"space-x-2",children:[e.jsx(p,{href:`/admin/faculty-reports/${r.id}`,children:e.jsx(o,{variant:"secondary",size:"sm",children:"View"})}),e.jsx(p,{href:`/admin/faculty-reports/${r.id}/edit`,children:e.jsx(o,{variant:"outline",size:"sm",children:"Edit"})}),e.jsx(o,{variant:"destructive",size:"sm",onClick:()=>y(r.id),children:"Delete"})]})]},r.id)):e.jsx(m,{children:e.jsx(s,{colSpan:"7",className:"text-center",children:"No reports found."})})})]}),e.jsxs("div",{className:"flex justify-center mt-4 space-x-2",children:[e.jsx(o,{variant:"outline",size:"sm",disabled:n===1,onClick:()=>c(n-1),children:"Previous"}),[...Array(u)].map((r,a)=>e.jsx(o,{variant:n===a+1?"default":"outline",size:"sm",onClick:()=>c(a+1),children:a+1},a)),e.jsx(o,{variant:"outline",size:"sm",disabled:n===u,onClick:()=>c(n+1),children:"Next"})]})]})})]})})]})]})}export{se as default};
