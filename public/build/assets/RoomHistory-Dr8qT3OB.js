import{b as j,r as c,j as e,H as u,R as N}from"./app-B3hz_a0f.js";import"./sweetalert2.esm.all-BQIkj5Wb.js";import{S as b,a as g,b as f,c as y}from"./avatar-CGxeiptX.js";import{N as v}from"./Notification-C8xL4wRi.js";import{B as w,a as S,b as P,c as R}from"./breadcrumb-97lH9xQj.js";import{A as H}from"./app-sidebar-Cd4HWsbd.js";import{T as _}from"./TopNavBar-BTj5vFoR.js";import"./index-BqsHewJR.js";import"./button-B05ewX-Q.js";import"./utils-CBfrqCZ4.js";import"./input-Cq0yGvQ5.js";import"./index-D-l9ObKL.js";import"./index-DPvwCsAy.js";import"./createLucideIcon-CeRWOlwf.js";import"./index-CR0BJir_.js";import"./dropdown-menu-DYqzCtfn.js";import"./index-DlNJKnut.js";import"./chevron-right-C1roZ1it.js";import"./index-aB5-ZEua.js";import"./index-BVa154CW.js";import"./bell-iFtLSavR.js";import"./house-XGPUVuo3.js";import"./user-CCAfoOnI.js";import"./log-out-DynPGY0C.js";import"./keyboard-s0CEIfFT.js";import"./boxes-Co-FCMdF.js";import"./users-BZCnubbv.js";import"./chevron-down-CErCNBv9.js";import"./cpu-ETwpRMsz.js";import"./hard-drive-DNA-XhrX.js";import"./menu-Dyhw9Wr6.js";function oe(){const{histories:n}=j().props,[i,k]=c.useState(n?.data||[]),[t,x]=c.useState(1),a=10,d=t*a,p=d-a,h=i.slice(p,d),l=Math.ceil(i.length/a),o=s=>{s>=1&&s<=l&&x(s)};return e.jsxs(b,{children:[e.jsx(H,{}),e.jsxs(g,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-4 md:px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{}),e.jsx(y,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(w,{children:e.jsx(S,{children:e.jsx(P,{children:e.jsx(R,{href:"/admin/room-histories","aria-current":"page",className:"font-semibold text-foreground",children:"Room History"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(v,{})]})}),e.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto w-full",children:[e.jsx("div",{className:"sticky top-[64px] z-20 bg-white shadow-sm",children:e.jsx(_,{})}),e.jsx(u,{title:"Room Histories"}),e.jsx("h1",{className:"text-xl md:text-2xl text-center font-bold mt-5 mb-4",children:"Room Activity History"}),i.length===0?e.jsx("p",{className:"text-center mt-10",children:"No room activity found."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:e.jsxs("table",{className:"min-w-full table-auto text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[hsl(142,34%,85%)] text-[hsl(142,34%,25%)] hover:bg-[hsl(142,34%,80%)]",children:[e.jsx("th",{className:"px-5 py-2",children:"#"}),e.jsx("th",{className:"px-5 py-2",children:"User Name"}),e.jsx("th",{className:"px-5 py-2",children:"Role"}),e.jsx("th",{className:"px-5 py-2",children:"Action"}),e.jsx("th",{className:"px-5 py-2",children:"Old Value"}),e.jsx("th",{className:"px-5 py-2",children:"New Value"}),e.jsx("th",{className:"px-5 py-2",children:"Date & Time"})]})}),e.jsx("tbody",{children:h.map((s,r)=>e.jsxs("tr",{className:"hover:shadow-sm",children:[e.jsx("td",{className:"px-5 py-2 align-middle",children:(t-1)*a+r+1}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.user_name}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.role}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.action}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.old_value??"-"}),e.jsx("td",{className:"px-5 py-2 align-middle",children:s.new_value??"-"}),e.jsx("td",{className:"px-5 py-2 align-middle",children:new Date(s.created_at).toLocaleString()})]},s.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center p-4 mt-3 bg-white rounded-lg shadow-sm",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing"," ",(t-1)*a+1," â€“"," ",Math.min(t*a,i.length)," ","of ",i.length," histories"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded text-sm disabled:opacity-50",disabled:t===1,onClick:()=>o(t-1),children:"Prev"}),Array.from({length:l},(s,r)=>r+1).filter(s=>s===1||s===l?!0:s>=t-2&&s<=t+2).map((s,r,m)=>e.jsxs(N.Fragment,{children:[r>0&&m[r]-m[r-1]>1&&e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{className:`px-3 py-1 border rounded text-sm ${t===s?"bg-black text-white":"hover:bg-gray-200"}`,onClick:()=>o(s),children:s})]},s)),e.jsx("button",{className:"px-3 py-1 border rounded text-sm disabled:opacity-50",disabled:t===l,onClick:()=>o(t+1),children:"Next"})]})]})]})]})]})]})}export{oe as default};
