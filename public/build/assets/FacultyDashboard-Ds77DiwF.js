import{r as x,j as e,H as $}from"./app-ByqEH1Vo.js";import{F as X}from"./faculty-app-sidebar-BpjVTBpW.js";import{S as Y,a as J,b as Q,c as Z}from"./avatar-SoYPF5yi.js";import{C as y,a as A,b as ee,c as te,e as re}from"./card-CoMmc-a_.js";import{B as ae,a as se,b as ie,c as ne}from"./breadcrumb-DtwbxfFG.js";import{B as le}from"./button-BpRFcym9.js";import{B as oe}from"./building-MvmpMDW1.js";import{a as W}from"./createLucideIcon-CHlbzR7K.js";import{U as _}from"./users-2oaPHnH0.js";import{u as ce,a as de,b as he,i as j,r as xe,c as me,d as B,w as G,g as M,e as R,f as V,C as q,s as L,h as ue,R as T,P as fe,j as pe,k as ge,T as D,B as ye,X as je,Y as ve,L as be,l as we}from"./PieChart-DDgfn-nD.js";import"./index-B8TKkBgy.js";import"./index-B3jm-H6v.js";import"./index-Bs7j1LNf.js";import"./index-DszwKDSl.js";import"./chevron-right-D6Pyt9T0.js";import"./dropdown-menu-DHcDcdGJ.js";import"./index-uzzyJ9_o.js";import"./sparkles-EHVXsTYL.js";import"./input-B4Gj0e12.js";import"./index-BDBrJ-ip.js";import"./index-BAipUmSM.js";import"./with-selector-uXUoa_ky.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pe=W("circle-check-big",Ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],ke=W("door-open",Ae);var Oe=["x1","y1","x2","y2","key"],Ce=["offset"],Ie=["xAxisId","yAxisId"],ze=["xAxisId","yAxisId"];function H(r,a){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);a&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,s)}return t}function m(r){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?H(Object(t),!0).forEach(function(s){Fe(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function Fe(r,a,t){return(a=Se(a))in r?Object.defineProperty(r,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[a]=t,r}function Se(r){var a=Ee(r,"string");return typeof a=="symbol"?a:a+""}function Ee(r,a){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function b(){return b=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)({}).hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},b.apply(null,arguments)}function C(r,a){if(r==null)return{};var t,s,i=_e(r,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);for(s=0;s<n.length;s++)t=n[s],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function _e(r,a){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(a.indexOf(s)!==-1)continue;t[s]=r[s]}return t}var Be=r=>{var{fill:a}=r;if(!a||a==="none")return null;var{fillOpacity:t,x:s,y:i,width:n,height:o,ry:d}=r;return x.createElement("rect",{x:s,y:i,ry:d,width:n,height:o,stroke:"none",fill:a,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function K(r,a){var t;if(x.isValidElement(r))t=x.cloneElement(r,a);else if(typeof r=="function")t=r(a);else{var{x1:s,y1:i,x2:n,y2:o,key:d}=a,u=C(a,Oe),c=ue(u),{offset:f}=c,l=C(c,Ce);t=x.createElement("line",b({},l,{x1:s,y1:i,x2:n,y2:o,fill:"none",key:d}))}return t}function Ge(r){var{x:a,width:t,horizontal:s=!0,horizontalPoints:i}=r;if(!s||!i||!i.length)return null;var{xAxisId:n,yAxisId:o}=r,d=C(r,Ie),u=i.map((c,f)=>{var l=m(m({},d),{},{x1:a,y1:c,x2:a+t,y2:c,key:"line-".concat(f),index:f});return K(s,l)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Le(r){var{y:a,height:t,vertical:s=!0,verticalPoints:i}=r;if(!s||!i||!i.length)return null;var{xAxisId:n,yAxisId:o}=r,d=C(r,ze),u=i.map((c,f)=>{var l=m(m({},d),{},{x1:c,y1:a,x2:c,y2:a+t,key:"line-".concat(f),index:f});return K(s,l)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Te(r){var{horizontalFill:a,fillOpacity:t,x:s,y:i,width:n,height:o,horizontalPoints:d,horizontal:u=!0}=r;if(!u||!a||!a.length)return null;var c=d.map(l=>Math.round(l+i-i)).sort((l,h)=>l-h);i!==c[0]&&c.unshift(0);var f=c.map((l,h)=>{var v=!c[h+1],g=v?i+o-l:c[h+1]-l;if(g<=0)return null;var p=h%a.length;return x.createElement("rect",{key:"react-".concat(h),y:l,x:s,height:g,width:n,stroke:"none",fill:a[p],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function De(r){var{vertical:a=!0,verticalFill:t,fillOpacity:s,x:i,y:n,width:o,height:d,verticalPoints:u}=r;if(!a||!t||!t.length)return null;var c=u.map(l=>Math.round(l+i-i)).sort((l,h)=>l-h);i!==c[0]&&c.unshift(0);var f=c.map((l,h)=>{var v=!c[h+1],g=v?i+o-l:c[h+1]-l;if(g<=0)return null;var p=h%t.length;return x.createElement("rect",{key:"react-".concat(h),x:l,y:n,width:g,height:d,stroke:"none",fill:t[p],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var He=(r,a)=>{var{xAxis:t,width:s,height:i,offset:n}=r;return M(R(m(m(m({},q.defaultProps),t),{},{ticks:V(t),viewBox:{x:0,y:0,width:s,height:i}})),n.left,n.left+n.width,a)},We=(r,a)=>{var{yAxis:t,width:s,height:i,offset:n}=r;return M(R(m(m(m({},q.defaultProps),t),{},{ticks:V(t),viewBox:{x:0,y:0,width:s,height:i}})),n.top,n.top+n.height,a)},Me={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function U(r){var a=ce(),t=de(),s=he(),i=m(m({},xe(r,Me)),{},{x:j(r.x)?r.x:s.left,y:j(r.y)?r.y:s.top,width:j(r.width)?r.width:s.width,height:j(r.height)?r.height:s.height}),{xAxisId:n,yAxisId:o,x:d,y:u,width:c,height:f,syncWithTicks:l,horizontalValues:h,verticalValues:v}=i,g=me(),p=B(I=>L(I,"xAxis",n,g)),w=B(I=>L(I,"yAxis",o,g));if(!j(c)||c<=0||!j(f)||f<=0||!j(d)||d!==+d||!j(u)||u!==+u)return null;var z=i.verticalCoordinatesGenerator||He,F=i.horizontalCoordinatesGenerator||We,{horizontalPoints:N,verticalPoints:P}=i;if((!N||!N.length)&&typeof F=="function"){var S=h&&h.length,k=F({yAxis:w?m(m({},w),{},{ticks:S?h:w.ticks}):void 0,width:a,height:t,offset:s},S?!0:l);G(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(N=k)}if((!P||!P.length)&&typeof z=="function"){var E=v&&v.length,O=z({xAxis:p?m(m({},p),{},{ticks:E?v:p.ticks}):void 0,width:a,height:t,offset:s},E?!0:l);G(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(P=O)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Be,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Te,b({},i,{horizontalPoints:N})),x.createElement(De,b({},i,{verticalPoints:P})),x.createElement(Ge,b({},i,{offset:s,horizontalPoints:N,xAxis:p,yAxis:w})),x.createElement(Le,b({},i,{offset:s,verticalPoints:P,xAxis:p,yAxis:w})))}U.displayName="CartesianGrid";function ht({user:r,activeRooms:a=[],summary:t={}}){const[s,i]=x.useState(!1),n=s?a:a.slice(0,2);return e.jsxs(Y,{children:[e.jsx($,{children:e.jsx("title",{children:"Faculty Dashboard"})}),e.jsx(X,{}),e.jsxs(J,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white shadow-sm",children:[e.jsx(Q,{}),e.jsx(Z,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(ae,{children:e.jsx(se,{children:e.jsx(ie,{children:e.jsx(ne,{href:"/faculty/dashboard",className:"font-semibold",children:"Dashboard"})})})})]}),e.jsxs("main",{className:"w-full px-6 py-6 bg-gray-50 min-h-screen space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(y,{children:e.jsxs(A,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Total Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:t.totalRooms??0})]}),e.jsx(oe,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx(y,{children:e.jsxs(A,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Available Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:t.availableRooms??0})]}),e.jsx(ke,{className:"w-8 h-8 text-green-600"})]})}),e.jsx(y,{children:e.jsxs(A,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Occupied Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:t.occupiedRooms??0})]}),e.jsx(_,{className:"w-8 h-8 text-red-600"})]})}),e.jsx(y,{children:e.jsxs(A,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Items Working %"}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.itemsWorkingPercent??0,"%"]})]}),e.jsx(Pe,{className:"w-8 h-8 text-emerald-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(y,{className:"rounded-2xl shadow-md bg-white",children:[e.jsx(ee,{children:e.jsxs(te,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-green-600"}),"Active Room Occupancy"]})}),e.jsx(A,{className:"space-y-6",children:a.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No active rooms right now"}):n.map(o=>e.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 last:border-b-0",children:[e.jsx("img",{src:o.faculty_photo?`/storage/${o.faculty_photo}`:"/default-avatar.png",alt:"Faculty",className:"w-20 h-20 rounded-full object-cover border-2 border-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Room ",o.room_number]}),e.jsxs("p",{className:"text-sm",children:["Scanned by"," ",e.jsx("span",{className:"font-medium",children:o.faculty_name})]}),e.jsx("p",{className:"text-xs text-gray-500",children:o.scanned_at?new Date(o.scanned_at).toLocaleString():"No scan time"})]})]},o.room_id))}),a.length>2&&e.jsx(re,{className:"flex justify-center",children:e.jsx(le,{variant:"outline",size:"sm",onClick:()=>i(!s),children:s?"Show Less":"View All Active Rooms"})})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(y,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Equipment Condition"}),t.totalItems>0?e.jsxs(e.Fragment,{children:[e.jsx(T,{width:"100%",height:250,children:e.jsxs(fe,{children:[e.jsx(pe,{data:t.conditions??[],cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:!0,children:(t.conditions??[]).map((o,d)=>e.jsx(ge,{fill:["#4CAF50","#FFC107","#FF9800","#F44336","#2196F3","#9C27B0"][d%6]},`cell-${d}`))}),e.jsx(D,{})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:(t.conditions??[]).map((o,d)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"w-4 h-4 inline-block rounded",style:{backgroundColor:["#4CAF50","#FFC107","#FF9800","#F44336","#2196F3","#9C27B0"][d%6]}}),e.jsxs("span",{children:[o.name," (",o.value,")"]})]},d))})]}):e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No equipment data"})]}),e.jsxs(y,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Items by Category"}),e.jsx(T,{width:"100%",height:250,children:e.jsxs(ye,{data:[{category:"Computers",total:t.systemUnitsTotal??0},{category:"Peripherals",total:t.peripheralsTotal??0},{category:"Equipments",total:t.equipmentsTotal??0}],margin:{top:10,right:10,left:0,bottom:0},children:[e.jsx(U,{strokeDasharray:"3 3"}),e.jsx(je,{dataKey:"category"}),e.jsx(ve,{}),e.jsx(D,{}),e.jsx(be,{}),e.jsx(we,{dataKey:"total",fill:"#2196F3"})]})})]})]}),e.jsxs(y,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Equipment Overview Across Rooms"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{children:["Total items in all rooms:"," ",e.jsx("span",{className:"font-medium",children:t.totalItems??0})]}),e.jsxs("li",{children:["Items working:"," ",e.jsx("span",{className:"font-medium",children:t.workingItems??0})]}),e.jsxs("li",{children:["Percentage working / not working:"," ",e.jsxs("span",{className:"font-medium",children:[t.itemsWorkingPercent??0,"%"]})]}),e.jsxs("li",{children:["Room Occupancy:"," ",e.jsxs("span",{className:"font-medium",children:[t.occupiedRooms??0,"/",t.totalRooms??0]})]})]})]})]})]})]})]})]})}export{ht as default};
