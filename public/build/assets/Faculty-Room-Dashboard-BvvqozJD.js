import{j as e,b as m,r as l,c as x,H as h,L as c}from"./app-Cl_OhkIw.js";import{S as u,a as f,b as p,c as b}from"./avatar-3aVRP4G1.js";import{F as g}from"./faculty-app-sidebar-Dke94sB2.js";import{B as n,a as d,b as i,c as j}from"./breadcrumb-F9AJ3lBK.js";import{C as y,b as v,c as N,a as w}from"./card-DDwQW2Kt.js";import{B as _}from"./badge-DFCs3a6q.js";import"./button-DpQxoXgA.js";import"./utils-3E1PAQdc.js";import"./index-B8CSLlTY.js";import"./index-DV7FAsHt.js";import"./input-DQR6P5_x.js";import"./index-9waopOTP.js";import"./index-D5S7CCND.js";import"./dropdown-menu-D-l1EDwj.js";import"./index-CdmVLIag.js";import"./chevron-right-BiP4XnUO.js";import"./index-GuPUiT4n.js";import"./index-C0KnG-Ze.js";import"./index-O42LMEkl.js";import"./sparkles-Db4IksAL.js";import"./index-uD9ckfIs.js";function A({children:s}){return e.jsxs(u,{children:[e.jsx(g,{}),e.jsxs(f,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(p,{}),e.jsx(b,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(n,{children:e.jsx(d,{children:e.jsx(i,{children:e.jsx(j,{href:"/faculty/dashboard","aria-current":"page",className:"font-semibold text-foreground",children:"Dashboard"})})})})]}),e.jsx("main",{className:"w-full px-6 py-4",children:s})]})]})}function C(){const{rooms:s}=m().props,[r,o]=l.useState(Array.isArray(s)?s:[]);return l.useEffect(()=>{const a=setInterval(async()=>{try{const t=await x.get("/faculty/rooms-status");t.data&&Array.isArray(t.data.rooms)?o(t.data.rooms):console.warn("Invalid rooms data:",t.data)}catch(t){console.error("Failed to fetch rooms:",t)}},5e3);return()=>clearInterval(a)},[]),e.jsxs(e.Fragment,{children:[e.jsx(h,{children:e.jsx("title",{children:"Faculty Rooms"})}),e.jsx("div",{className:"mb-6",children:e.jsx(n,{children:e.jsxs(d,{children:[e.jsx(i,{children:e.jsx(c,{href:route("faculty.dashboard"),className:"font-semibold",children:"Dashboard"})}),e.jsx(i,{children:e.jsx(c,{href:route("faculty.rooms.dashboard"),className:"font-semibold",children:"Rooms"})})]})})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 mb-10",children:Array.isArray(r)&&r.length>0?r.map(a=>e.jsxs(y,{className:`rounded-2xl transition-all duration-200 ease-in-out shadow-md 
                    hover:scale-[1.02] hover:shadow-lg
                    ${a.is_active?"bg-[#59AC77] border border-green-700 text-white":"bg-[#59AC77] border border-yellow-300 text-green-900"}`,children:[e.jsxs(v,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(N,{className:`text-lg md:text-xl font-semibold ${a.is_active?"text-white":"text-green-900"}`,children:a.room_number}),e.jsx(_,{className:`px-3 py-1 text-xs font-medium rounded-full ${a.is_active?"bg-white text-green-700":"bg-green-700 text-white"}`,children:a.is_active?"Active":"Inactive"})]}),e.jsx(w,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[a.faculties&&a.faculties.length>0&&a.faculties[0].photo?e.jsx("img",{src:`/storage/${a.faculties[0].photo}`,alt:a.faculties[0].name,className:"w-20 h-20 rounded-full object-cover border-2 border-green-500"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-sm",children:"No Photo"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`font-medium ${a.is_active?"text-white":"text-green-900"}`,children:a.faculties&&a.faculties.length>0?a.faculties[0].name:"No faculty"}),e.jsx("span",{className:`text-xs ${a.is_active?"text-green-100":"text-green-700"}`,children:a.scanned_at?new Date(a.scanned_at).toLocaleString():"Not yet scanned"})]})]})})]},a.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 col-span-full text-center",children:"No rooms available."})})]})}C.layout=s=>e.jsx(A,{children:s});export{C as default};
