import{u as S,r as l,j as e,H as _}from"./app-BXEL7I3D.js";import{A as P}from"./app-sidebar-BkqBmsXw.js";import{S as F,a as R,b as q,c as A}from"./avatar-VePTvp79.js";import{b as B,c as E,d as k}from"./card-CsoS8_7x.js";import{I as d}from"./input-DuaXU4SU.js";import{L as i}from"./label-Cml_Ql8C.js";import{B as L}from"./button-CXIWFdOM.js";import{C as x}from"./checkbox-DoluRe_6.js";import{B as T,a as D,b as I,c as u,d as M}from"./breadcrumb-CwAhrUmb.js";import"./dropdown-menu-B1e4DepK.js";import"./index-CXW272yM.js";import"./index-DZGxOCx4.js";import"./index-DYsNqI6P.js";import"./index-CaIAb45n.js";import"./createLucideIcon-C4nke5B-.js";import"./utils-CBfrqCZ4.js";import"./chevron-right-C5dNCxl-.js";import"./house-ClUO6xOi.js";import"./user-Cg-2Q1EP.js";import"./log-out-DZCODJYO.js";import"./keyboard-BDnFpmg_.js";import"./boxes-Cqi7D-sc.js";import"./users-Cbm18cet.js";import"./chevron-down-D_3W57lQ.js";import"./index-CJgs40Fr.js";import"./index-C7R1yl_2.js";import"./index-DSoZh-_N.js";import"./index-C-rtDwnh.js";function xe(){const{data:r,setData:o,post:w,processing:f,errors:a,reset:j}=S({name:"",email:"",password:"",password_confirmation:"",role:"faculty",photo:null,admin_password:""}),[m,g]=l.useState(""),[p,b]=l.useState(!1),[h,N]=l.useState(!1),[n,c]=l.useState(!1),v=s=>{const t=s.target.value;o("role",t),t==="admin"||t==="technician"?c(!0):(c(!1),o("admin_password",""))},y=s=>{if(s.preventDefault(),n&&!r.admin_password){alert("You must enter your password to assign this role.");return}const t=new FormData;t.append("name",r.name),t.append("email",r.email),t.append("password",r.password),t.append("password_confirmation",r.password_confirmation),t.append("role",r.role),t.append("photo",r.photo),n&&t.append("admin_password",r.admin_password),w(route("admin.users.store"),{data:t,forceFormData:!0,onSuccess:()=>{g("User successfully registered!"),j(),c(!1)},onError:C=>console.log("Registration error:",C)})};return e.jsxs(F,{children:[e.jsx(_,{children:e.jsx("title",{children:"Register User"})}),e.jsx(P,{}),e.jsxs(R,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(q,{}),e.jsx(A,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(T,{children:e.jsx(D,{children:e.jsxs(I,{children:[e.jsx(u,{href:"/admin/users",children:"User Lists"}),e.jsx(M,{}),e.jsx(u,{href:"/admin/register","aria-current":"page",className:"font-semibold text-foreground",children:"Register User"})]})})})]}),e.jsx("main",{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:e.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 bg-white shadow-lg rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"hidden md:flex flex-col items-center justify-center bg-green-500 text-white p-8",children:[e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-white bg-white shadow-md",children:e.jsx("img",{src:"logo.png",alt:"Logo 1",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"w-28 h-28 rounded-full border-4 border-white bg-white shadow-md",children:e.jsx("img",{src:"ict.png",alt:"Logo 2",className:"w-full h-full object-contain"})})]}),e.jsx("h2",{className:"text-2xl font-bold text-center",children:"ICT INVENTORY SYSTEM MANAGEMENT"}),e.jsx("p",{className:"mt-3 text-sm opacity-90 text-center",children:"Secure • Fast • Organized"})]}),e.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[e.jsxs(B,{className:"p-0 mb-6",children:[e.jsx(E,{className:"text-2xl font-bold",children:"Create Account"}),e.jsx(k,{children:"Fill in your details to register"})]}),m&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded",children:m}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"name",children:"Full Name"}),e.jsx(d,{id:"name",type:"text",value:r.name,onChange:s=>o("name",s.target.value),required:!0}),a.name&&e.jsx("p",{className:"text-sm text-red-500",children:a.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"email",children:"Email Address"}),e.jsx(d,{id:"email",type:"email",value:r.email,onChange:s=>o("email",s.target.value),required:!0}),a.email&&e.jsx("p",{className:"text-sm text-red-500",children:a.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"password",children:"Password"}),e.jsx(d,{id:"password",type:p?"text":"password",value:r.password,onChange:s=>o("password",s.target.value),required:!0}),a.password&&e.jsx("p",{className:"text-sm text-red-500",children:a.password}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(x,{id:"showPassword",checked:p,onCheckedChange:b}),e.jsx("label",{htmlFor:"showPassword",className:"text-sm text-muted-foreground",children:"Show Password"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(d,{id:"password_confirmation",type:h?"text":"password",value:r.password_confirmation,onChange:s=>o("password_confirmation",s.target.value),required:!0}),a.password_confirmation&&e.jsx("p",{className:"text-sm text-red-500",children:a.password_confirmation}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(x,{id:"showConfirmPassword",checked:h,onCheckedChange:N}),e.jsx("label",{htmlFor:"showConfirmPassword",className:"text-sm text-muted-foreground",children:"Show Confirm Password"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"role",children:"Select Role"}),e.jsxs("select",{id:"role",value:r.role,onChange:v,className:"mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",required:!0,children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"faculty",children:"Faculty"}),e.jsx("option",{value:"technician",children:"Technician"}),e.jsx("option",{value:"guest",children:"Guest"})]}),a.role&&e.jsx("p",{className:"text-sm text-red-500",children:a.role})]}),n&&e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"admin_password",children:"Your Password (required to set admin/technician role)"}),e.jsx(d,{id:"admin_password",type:"password",value:r.admin_password,onChange:s=>o("admin_password",s.target.value),required:!0}),a.admin_password&&e.jsx("p",{className:"text-sm text-red-500",children:a.admin_password})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"photo",children:"Profile Photo (for display)"}),e.jsx(d,{id:"photo",type:"file",accept:"image/*",onChange:s=>o("photo",s.target.files[0])}),a.photo&&e.jsx("p",{className:"text-sm text-red-500",children:a.photo})]}),e.jsx(L,{type:"submit",className:"w-full mt-2 bg-green-500 hover:bg-green-600 text-white",disabled:f,children:"Register"})]})]})]})})})]})]})}export{xe as default};
