import{u as y,b as v,r as c,t as a,j as e,a as C}from"./app-snzW45Zs.js";import{B as p}from"./button-DljaF4-I.js";import{I as d}from"./input-CAKVJxlN.js";import"./avatar-xmO2jsRZ.js";import"./dropdown-menu-BpADeDlu.js";import"./breadcrumb-yWxLRB88.js";import{D as _,a as k,b as w,c as S}from"./dialog-ug7CX9jR.js";import"./index-DwPuYfBT.js";import"./utils-CBfrqCZ4.js";import"./index-DS_5vP3t.js";import"./index-DbODFMcU.js";import"./createLucideIcon-C7N2W5Mc.js";import"./index-CIWvSXd_.js";import"./index-Bcsql08V.js";import"./index-CkICTgTT.js";import"./index-Buv2vO6A.js";import"./chevron-right-DFL-1erJ.js";const D={Working:"bg-green-200 text-green-800","Not Working":"bg-red-200 text-red-800","Intermittent Issue":"bg-yellow-200 text-yellow-800","Needs Cleaning":"bg-blue-200 text-blue-800","For Replacement":"bg-orange-200 text-orange-800","For Disposal":"bg-gray-200 text-gray-800",Condemned:"bg-black text-white","Minor Damage":"bg-yellow-200 text-yellow-800","Needs Repair":"bg-red-200 text-red-800","Intermittent Connectivity":"bg-yellow-200 text-yellow-800","No Signal":"bg-red-200 text-red-800","Needs Configuration":"bg-blue-200 text-blue-800",Expired:"bg-red-300 text-red-900","Needs Refill":"bg-blue-200 text-blue-900",Rusting:"bg-orange-200 text-orange-900"};function G({equipment:r,rooms:m}){`${window.location.origin}${r.equipment_code}`;const{data:o,setData:s,put:u,processing:x,errors:n}=y({equipment_code:r.equipment_code||"",equipment_name:r.equipment_name||"",brand:r.brand||"",type:r.type||"",condition:r.condition||"",room_id:r.room_id||""}),{props:i}=v(),[g,l]=c.useState(!0);c.useEffect(()=>{i.flash?.success&&a.success(i.flash.success),i.flash?.error&&a.error(i.flash.error)},[i.flash]);const b=["Furniture","Appliances","Networking","Safety"],h={Furniture:["Working","Minor Damage","Needs Repair","Needs Cleaning","For Replacement","For Disposal","Condemned"],Appliances:["Working","Not Working","Intermittent Issue","For Replacement","For Disposal","Condemned"],Networking:["Working","Intermittent Issue","No Signal","Needs Configuration","Not Working","For Replacement","For Disposal","Condemned"],Safety:["Working","Expired","Needs Refill","Not Working","Rusting","For Replacement","For Disposal","Condemned"]},N=t=>{t.preventDefault(),u(route("admin.equipments.update",r.equipment_code),{preserveScroll:!0,onSuccess:()=>{a.success("Equipment updated successfully!"),l(!1),C.get(route("admin.equipments.show",r.equipment_code))},onError:j=>{a.error(Object.values(j)[0]||"Update failed")}})},f=t=>D[t]||"bg-gray-200 text-gray-800";return e.jsx(_,{open:g,onOpenChange:l,children:e.jsxs(k,{className:"max-w-xl rounded-2xl shadow-xl border border-gray-200 mx-auto",children:[e.jsx(w,{children:e.jsxs(S,{className:"text-xl font-semibold text-gray-800",children:["Edit Equipment –"," ",e.jsx("span",{className:"text-[color:var(--app-green,#16A34A)]",children:m.find(t=>t.id===o.room_id)?.room_number||"N/A"})," ","– ",o.equipment_code]})}),e.jsxs("form",{className:"grid gap-4 py-2",onSubmit:N,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Equipment Code"}),e.jsx(d,{value:o.equipment_code,disabled:!0,className:"rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Equipment Name"}),e.jsx(d,{value:o.equipment_name,onChange:t=>s("equipment_name",t.target.value),className:"rounded-lg"}),n.equipment_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.equipment_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Brand"}),e.jsx(d,{value:o.brand,onChange:t=>s("brand",t.target.value),className:"rounded-lg"}),n.brand&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.brand})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Type"}),e.jsxs("select",{className:"w-full border rounded-lg px-3 py-2",value:o.type,onChange:t=>{s("type",t.target.value),s("condition","")},children:[e.jsx("option",{value:"",children:"Select Type"}),b.map(t=>e.jsx("option",{value:t,children:t},t))]}),n.type&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Condition"}),e.jsxs("select",{className:"w-full border rounded-lg px-3 py-2",value:o.condition,onChange:t=>s("condition",t.target.value),disabled:!o.type,children:[e.jsx("option",{value:"",children:o.type?"Select Condition":"Select Type first"}),o.type&&h[o.type].map(t=>e.jsx("option",{value:t,children:t},t))]}),o.condition&&e.jsx("span",{className:`inline-block px-2 py-1 mt-1 rounded-full text-xs font-medium ${f(o.condition)}`,children:o.condition}),n.condition&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.condition})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Room"}),e.jsxs("select",{className:"w-full border rounded-lg px-3 py-2",value:o.room_id,onChange:t=>s("room_id",t.target.value),children:[e.jsx("option",{value:"",children:"Select Room"}),m.map(t=>e.jsxs("option",{value:t.id,children:["Room ",t.room_number]},t.id))]}),n.room_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.room_id})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(p,{type:"submit",disabled:x,className:"bg-[color:var(--app-green,#16A34A)] hover:opacity-90 text-white",children:"Save"})]})]})]})})}export{G as default};
