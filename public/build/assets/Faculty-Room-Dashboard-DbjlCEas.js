import{j as e,b as m,r as l,c as x,H as h,L as c}from"./app-z6Vw40qg.js";import{S as u,a as f,b as p,c as g}from"./avatar-DtziOh3W.js";import{F as b}from"./tabs-HQxgaikI.js";import{B as d,a as o,b as i,c as j}from"./breadcrumb-4akR97PS.js";import{C as y,b as v,c as N,a as w}from"./card-C7Qc2-6c.js";import{B as _}from"./badge-C0m6s3FH.js";import"./table-CyPFlxRG.js";import"./button-C8lyBYc6.js";import"./dialog-BzgToahw.js";import"./createLucideIcon-B0WYDbjW.js";import"./index-DOpt5hlj.js";import"./index-B8ua60HV.js";import"./input-DHKWE85y.js";import"./index-CV-8ncH2.js";import"./index-C0fTul90.js";import"./dropdown-menu-BxwQN4Fw.js";import"./index-CKOI0W7X.js";import"./chevron-right-Bj5qHi4z.js";import"./index-B4P4VYbh.js";import"./index-D4HFpSv8.js";import"./sparkles-BKefO-Bw.js";import"./index-BdQq_4o_.js";function A({children:s}){return e.jsxs(u,{children:[e.jsx(b,{}),e.jsxs(f,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(p,{}),e.jsx(g,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(d,{children:e.jsx(o,{children:e.jsx(i,{children:e.jsx(j,{href:"/faculty/dashboard","aria-current":"page",className:"font-semibold text-foreground",children:"Dashboard"})})})})]}),e.jsx("main",{className:"w-full px-6 py-4",children:s})]})]})}function S(){const{rooms:s}=m().props,[r,n]=l.useState(Array.isArray(s)?s:[]);return l.useEffect(()=>{const a=setInterval(async()=>{try{const t=await x.get("/faculty/rooms-status");t.data&&Array.isArray(t.data.rooms)?n(t.data.rooms):console.warn("Invalid rooms data:",t.data)}catch(t){console.error("Failed to fetch rooms:",t)}},5e3);return()=>clearInterval(a)},[]),e.jsxs(e.Fragment,{children:[e.jsx(h,{children:e.jsx("title",{children:"Faculty Rooms"})}),e.jsx("div",{className:"mb-6",children:e.jsx(d,{children:e.jsxs(o,{children:[e.jsx(i,{children:e.jsx(c,{href:route("faculty.dashboard"),className:"font-semibold",children:"Dashboard"})}),e.jsx(i,{children:e.jsx(c,{href:route("faculty.rooms.dashboard"),className:"font-semibold",children:"Rooms"})})]})})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 mb-10",children:Array.isArray(r)&&r.length>0?r.map(a=>e.jsxs(y,{className:`rounded-2xl transition-all duration-200 ease-in-out shadow-md 
                                hover:scale-[1.02] hover:shadow-lg
                                ${a.is_active?"bg-green-600 border border-green-700 text-white":"bg-white border border-gray-300 text-gray-900"}`,children:[e.jsxs(v,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(N,{className:`text-lg md:text-xl font-semibold ${a.is_active?"text-white":"text-gray-900"}`,children:a.room_number}),e.jsx(_,{className:`px-3 py-1 text-xs font-medium rounded-full ${a.is_active?"bg-white text-green-700":"bg-gray-500 text-white"}`,children:a.is_active?"Active":"Inactive"})]}),e.jsx(w,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[a.faculties&&a.faculties.length>0&&a.faculties[0].photo?e.jsx("img",{src:`/storage/${a.faculties[0].photo}`,alt:a.faculties[0].name,className:"w-20 h-20 rounded-full object-cover border-2 border-green-500"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-sm",children:"No Photo"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`font-medium ${a.is_active?"text-white":"text-gray-900"}`,children:a.faculties&&a.faculties.length>0?a.faculties[0].name:"No faculty"}),e.jsx("span",{className:`text-xs ${a.is_active?"text-green-100":"text-gray-600"}`,children:a.scanned_at?new Date(a.scanned_at).toLocaleString():"Not yet scanned"})]})]})})]},a.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 col-span-full text-center",children:"No rooms available."})})]})}S.layout=s=>e.jsx(A,{children:s});export{S as default};
