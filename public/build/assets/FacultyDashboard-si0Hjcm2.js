import{r as g,j as e,H as b}from"./app-kHyNT4lF.js";import{F as f}from"./faculty-app-sidebar-B76qdCYC.js";import{S as N,a as u,b as w,c as y}from"./avatar-dWCEBJmI.js";import{C as t,c as l,a as d,b as o,e as C}from"./card-BHc8_pLa.js";import{B as v,a as F,b as B,c as k}from"./breadcrumb-BWUyEGrM.js";import{B as R}from"./button-BgwjlOXr.js";import{B as A}from"./building-BSD_cw9k.js";import{D as S,C as _}from"./door-open-DwZjeWiI.js";import{U as m}from"./users-BSdM2OBp.js";import{R as x,j as T,T as h,B as D,X as I,Y as P,L,k as q}from"./BarChart-BIliVdVJ.js";import{P as E,a as O}from"./PieChart-C99JF5cT.js";import{C as H}from"./CartesianGrid-Idb3jEPY.js";import"./index-C-sQWktk.js";import"./index-ubtGDsgd.js";import"./index-CqqteC9B.js";import"./index-DZ837DVK.js";import"./chevron-right-jK4_JSOk.js";import"./utils-D7BRKK_T.js";import"./dropdown-menu-BS64u0u2.js";import"./index-Oi76tYVx.js";import"./sparkles-DTPrnIDa.js";import"./bell-B32XzaiO.js";import"./index-Is-ES2Rl.js";import"./input-Dsp5oAY_.js";import"./index-BJLUWxVu.js";import"./index-BznXTi43.js";import"./index-BoQ7LiMj.js";import"./with-selector-CjFl6EXI.js";function ge({user:K,activeRooms:i=[],summary:a={},announcements:n=[]}){const[c,j]=g.useState(!1),p=c?i:i.slice(0,2);return e.jsxs(N,{children:[e.jsx(b,{children:e.jsx("title",{children:"Faculty Dashboard"})}),e.jsx(f,{}),e.jsxs(u,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white shadow-sm",children:[e.jsx(w,{}),e.jsx(y,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(v,{children:e.jsx(F,{children:e.jsx(B,{children:e.jsx(k,{href:"/faculty/dashboard",className:"font-semibold",children:"Dashboard"})})})})]}),e.jsxs("main",{className:"w-full px-6 py-6 bg-gray-50 min-h-screen space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(t,{children:e.jsxs(l,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Total Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:a.totalRooms??0})]}),e.jsx(A,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx(t,{children:e.jsxs(l,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Available Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:a.availableRooms??0})]}),e.jsx(S,{className:"w-8 h-8 text-green-600"})]})}),e.jsx(t,{children:e.jsxs(l,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Occupied Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:a.occupiedRooms??0})]}),e.jsx(m,{className:"w-8 h-8 text-red-600"})]})}),e.jsx(t,{children:e.jsxs(l,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Items Working %"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.itemsWorkingPercent??0,"%"]})]}),e.jsx(_,{className:"w-8 h-8 text-emerald-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(t,{className:"rounded-2xl shadow-md bg-white",children:[e.jsx(d,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-green-600"}),"Active Room Occupancy"]})}),e.jsx(l,{className:"space-y-6",children:i.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No active rooms right now"}):p.map(s=>e.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 last:border-b-0",children:[e.jsx("img",{src:s.faculty_photo?`/storage/${s.faculty_photo}`:"/default-avatar.png",alt:"Faculty",className:"w-20 h-20 rounded-full object-cover border-2 border-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Room ",s.room_number]}),e.jsxs("p",{className:"text-sm",children:["Scanned by"," ",e.jsx("span",{className:"font-medium",children:s.faculty_name})]}),e.jsx("p",{className:"text-xs text-gray-500",children:s.scanned_at?new Date(s.scanned_at).toLocaleString():"No scan time"})]})]},s.room_id))}),i.length>2&&e.jsx(C,{className:"flex justify-center",children:e.jsx(R,{variant:"outline",size:"sm",onClick:()=>j(!c),children:c?"Show Less":"View All Active Rooms"})})]}),e.jsxs(t,{className:"rounded-2xl shadow-md bg-white",children:[e.jsx(d,{children:e.jsx(o,{className:"flex items-center gap-2",children:"ðŸ“¢ Announcements"})}),e.jsx(l,{className:"space-y-4",children:n.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No announcements yet"}):n.map(s=>e.jsxs("div",{className:"border-b pb-3 last:border-b-0",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.message}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["By ",s.created_by_name," â€¢"," ",new Date(s.created_at).toLocaleDateString()]})]},s.id))})]})]}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Equipment Condition"}),a.totalItems>0?e.jsxs(e.Fragment,{children:[e.jsx(x,{width:"100%",height:250,children:e.jsxs(E,{children:[e.jsx(O,{data:a.conditions??[],cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:!0,children:(a.conditions??[]).map((s,r)=>e.jsx(T,{fill:["#4CAF50","#FFC107","#FF9800","#F44336","#2196F3","#9C27B0"][r%6]},`cell-${r}`))}),e.jsx(h,{})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:(a.conditions??[]).map((s,r)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"w-4 h-4 inline-block rounded",style:{backgroundColor:["#4CAF50","#FFC107","#FF9800","#F44336","#2196F3","#9C27B0"][r%6]}}),e.jsxs("span",{children:[s.name," (",s.value,")"]})]},r))})]}):e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No equipment data"})]}),e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Items by Category"}),e.jsx(x,{width:"100%",height:250,children:e.jsxs(D,{data:[{category:"Computers",total:a.systemUnitsTotal??0},{category:"Peripherals",total:a.peripheralsTotal??0},{category:"Equipments",total:a.equipmentsTotal??0}],margin:{top:10,right:10,left:0,bottom:0},children:[e.jsx(H,{strokeDasharray:"3 3"}),e.jsx(I,{dataKey:"category"}),e.jsx(P,{}),e.jsx(h,{}),e.jsx(L,{}),e.jsx(q,{dataKey:"total",fill:"#2196F3"})]})})]})]}),e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Equipment Overview Across Rooms"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{children:["Total items in all rooms:"," ",e.jsx("span",{className:"font-medium",children:a.totalItems??0})]}),e.jsxs("li",{children:["Items working:"," ",e.jsx("span",{className:"font-medium",children:a.workingItems??0})]}),e.jsxs("li",{children:["Percentage working / not working:"," ",e.jsxs("span",{className:"font-medium",children:[a.itemsWorkingPercent??0,"%"]})]}),e.jsxs("li",{children:["Room Occupancy:"," ",e.jsxs("span",{className:"font-medium",children:[a.occupiedRooms??0,"/",a.totalRooms??0]})]})]})]})]})]})]})]})]})}export{ge as default};
