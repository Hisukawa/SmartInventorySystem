import{u as g,r as u,j as e,H as _}from"./app-C7YcC1ls.js";import{B as y}from"./button-BNjMOJzY.js";import{C as N,a as S}from"./card-DxSSTt5z.js";import{I as O}from"./input-jNMhzaql.js";import{L as a}from"./label-DH75e4l9.js";import{S as C,a as w,b as B,c as A}from"./index-0MnBIqBT.js";import{A as M}from"./app-sidebar-C9sQFvgu.js";import{B as P,a as R,b as F,c as m,d as x}from"./breadcrumb-D0brxbwX.js";import"./index-D4zfXDA7.js";import"./createLucideIcon-CY2n0uIA.js";import"./index-W8fpPAE4.js";import"./index-CPU8VbuK.js";import"./index-CybArHIF.js";import"./index-CACBuSIt.js";import"./dropdown-menu-CsOIgBpD.js";import"./index-DtCFB1vG.js";import"./chevron-right-BtKe871V.js";import"./index-BimvA_dw.js";function Y({existingRooms:l=[],existingUnits:d=[],existingBrands:h=[],existingModels:j=[]}){const{data:t,setData:o,post:b,processing:v,errors:s}=g({type:"",brand:"",model:"",serial_number:"",condition:"Working",room_number:"",unit_code:""}),[p,c]=u.useState([]);u.useEffect(()=>{if(t.room_number){const r=l.find(i=>String(i.room_number)===String(t.room_number));if(r){const i=d.filter(n=>String(n.room_id)===String(r.id)).map(n=>n.unit_code);c(i),i.includes(t.unit_code)||o("unit_code","")}else c([]),o("unit_code","")}else c([]),o("unit_code","")},[t.room_number,l,d]);function f(r){r.preventDefault(),console.log("Submitting:",t),b("/admin/peripherals")}return console.log("Rooms:",l),console.log("Units:",d),console.log("Selected Room:",t.room_number),console.log("Filtered Units:",p),e.jsxs(C,{children:[e.jsx(_,{title:"Add Peripheral"}),e.jsx(M,{}),e.jsxs(w,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(B,{}),e.jsx(A,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(P,{children:e.jsx(R,{children:e.jsxs(F,{children:[e.jsx(m,{href:"#","aria-current":"page",children:"Assets"}),e.jsx(x,{}),e.jsx(m,{href:"/admin/peripherals","aria-current":"page",children:"Peripherals"}),e.jsx(x,{}),e.jsx(m,{href:"/admin/peripherals/create","aria-current":"page",className:"font-semibold text-foreground",children:"Add Peripheral"})]})})})]}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5 text-center",children:"Add Peripherals"}),e.jsx(N,{className:"max-w-xl mx-auto",children:e.jsx(S,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(a,{children:"Type"}),e.jsx("input",{list:"typeOptions",value:t.type,onChange:r=>o("type",r.target.value),placeholder:"Select or type peripheral type",className:"w-full border rounded px-2 py-1"}),e.jsxs("datalist",{id:"typeOptions",children:[e.jsx("option",{value:"Mouse"}),e.jsx("option",{value:"Keyboard"})]}),s.type&&e.jsx("div",{className:"text-red-500 text-sm",children:s.type})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"room_number",children:"Room"}),e.jsx("input",{id:"room_number",list:"roomOptions",value:t.room_number?`ROOM ${t.room_number}`:"",onChange:r=>{const i=r.target.value,n=i.startsWith("ROOM ")?i.slice(5):i;o("room_number",n)},placeholder:"Select or type room",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"roomOptions",children:l.map(r=>e.jsx("option",{value:`ROOM ${r.room_number}`},r.id))}),s.room_number&&e.jsx("div",{className:"text-red-500 text-sm",children:s.room_number})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Unit Code"}),e.jsx("input",{list:"unitOptions",value:t.unit_code,onChange:r=>o("unit_code",r.target.value),placeholder:"Select or type unit code",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"unitOptions",children:p.map(r=>e.jsx("option",{value:r},r))}),s.unit_code&&e.jsx("div",{className:"text-red-500 text-sm",children:s.unit_code})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Brand"}),e.jsx("input",{list:"brandOptions",value:t.brand,onChange:r=>o("brand",r.target.value),placeholder:"Select or type brand",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"brandOptions",children:h.map(r=>e.jsx("option",{value:r},r))}),s.brand&&e.jsx("div",{className:"text-red-500 text-sm",children:s.brand})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Model"}),e.jsx("input",{list:"modelOptions",value:t.model,onChange:r=>o("model",r.target.value),placeholder:"Select or type model",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"modelOptions",children:j.map(r=>e.jsx("option",{value:r},r))}),s.model&&e.jsx("div",{className:"text-red-500 text-sm",children:s.model})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Serial Number"}),e.jsx(O,{value:t.serial_number,onChange:r=>o("serial_number",r.target.value),placeholder:"Enter serial number",className:"w-full border rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Condition"}),e.jsxs("select",{value:t.condition,onChange:r=>o("condition",r.target.value),className:"w-full border rounded px-2 py-1",children:[e.jsx("option",{value:"Working",children:"ðŸŸ¢ Working"}),e.jsx("option",{value:"Defective",children:"ðŸ”´ Defective"}),e.jsx("option",{value:"Maintenance",children:"ðŸŸ¡ Maintenance"})]}),s.condition&&e.jsx("div",{className:"text-red-500 text-sm",children:s.condition})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(y,{type:"submit",disabled:v,children:"Submit"})})]})})})]})]})]})}export{Y as default};
