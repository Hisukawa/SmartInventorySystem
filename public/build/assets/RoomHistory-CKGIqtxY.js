import{b as l,j as e,H as d,R as m}from"./app-BIwlyt8C.js";import{d as o}from"./index-BqtaLk9J.js";import"./sweetalert2.esm.all-BQIkj5Wb.js";import{S as c,a as n,b as p,c as x}from"./avatar-C4XO60we.js";import{N as h}from"./Notification-DKVJWeTh.js";import{B as j,a as u,b as g,c as N}from"./breadcrumb-Dq-G1BxX.js";import{A as b}from"./app-sidebar-D3sVUVD4.js";import{T as f}from"./TopNavBar-ClEmaB66.js";import"./index-CIhkfTGN.js";import"./button-Cvjh1GZ1.js";import"./utils-CBfrqCZ4.js";import"./input-DuJpVvIv.js";import"./index-_GrsYgzc.js";import"./index-DeiY3fR0.js";import"./createLucideIcon-B8B2iXso.js";import"./index-CROv15xz.js";import"./dropdown-menu-COXCHGXD.js";import"./index-PtQ2pING.js";import"./chevron-right-CPQRjjEL.js";import"./index-ZmtpnWyZ.js";import"./index-CC1TizNa.js";import"./bell-FiFxLgBB.js";import"./house-Ch_sl3RI.js";import"./user-B5GN24-g.js";import"./log-out-BsUZLdLy.js";import"./keyboard-DMtpdZmG.js";import"./boxes-CK2rTsmI.js";import"./users-CNhX2TRz.js";import"./chevron-down-CBOqi84k.js";import"./cpu-fr7FfGAW.js";import"./hard-drive-CGZbZuFr.js";import"./menu-DoloG77y.js";function Z(){const{histories:s}=l().props,a=r=>{o.Inertia.get(`/admin/room-histories?page=${r}`,{},{preserveState:!0})};return e.jsxs(c,{children:[e.jsx(b,{}),e.jsxs(n,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-4 md:px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{}),e.jsx(x,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(j,{children:e.jsx(u,{children:e.jsx(g,{children:e.jsx(N,{href:"/admin/room-histories","aria-current":"page",className:"font-semibold text-foreground",children:"Room History"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(h,{})]})}),e.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto w-full",children:[e.jsx("div",{className:"sticky top-[64px] z-20 bg-white shadow-sm",children:e.jsx(f,{})}),e.jsx(d,{title:"Room Histories"}),e.jsx("h1",{className:"text-xl md:text-2xl text-center font-bold mt-5 mb-4",children:"Room Activity History"}),s.data.length===0?e.jsx("p",{className:"text-center mt-10",children:"No room activity found."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:e.jsxs("table",{className:"min-w-full table-auto text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[hsl(142,34%,85%)] text-[hsl(142,34%,25%)] hover:bg-[hsl(142,34%,80%)]",children:[e.jsx("th",{className:"px-5 py-2",children:"#"}),e.jsx("th",{className:"px-5 py-2",children:"User Name"}),e.jsx("th",{className:"px-5 py-2",children:"Role"}),e.jsx("th",{className:"px-5 py-2",children:"Action"}),e.jsx("th",{className:"px-5 py-2",children:"Old Value"}),e.jsx("th",{className:"px-5 py-2",children:"New Value"}),e.jsx("th",{className:"px-5 py-2",children:"Date & Time"})]})}),e.jsx("tbody",{children:s.data.map((r,t)=>e.jsxs("tr",{className:"hover:shadow-sm",children:[e.jsx("td",{className:"px-5 py-2 align-middle",children:(s.current_page-1)*s.per_page+t+1}),e.jsx("td",{className:"px-5 py-2 align-middle",children:r.user_name}),e.jsx("td",{className:"px-5 py-2 align-middle",children:r.role}),e.jsx("td",{className:"px-5 py-2 align-middle",children:r.action}),e.jsx("td",{className:"px-5 py-2 align-middle",children:r.old_value??"-"}),e.jsx("td",{className:"px-5 py-2 align-middle",children:r.new_value??"-"}),e.jsx("td",{className:"px-5 py-2 align-middle",children:new Date(r.created_at).toLocaleString()})]},r.id))})]})}),e.jsxs("div",{className:"flex justify-between items-center p-4 mt-3 bg-white rounded-lg shadow-sm",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing"," ",(s.current_page-1)*s.per_page+1," ","â€“"," ",Math.min(s.current_page*s.per_page,s.total)," ","of ",s.total," histories"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded text-sm disabled:opacity-50",disabled:s.current_page===1,onClick:()=>a(s.current_page-1),children:"Prev"}),Array.from({length:s.last_page},(r,t)=>t+1).filter(r=>r===1||r===s.last_page?!0:r>=s.current_page-2&&r<=s.current_page+2).map((r,t,i)=>e.jsxs(m.Fragment,{children:[t>0&&i[t]-i[t-1]>1&&e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{className:`px-3 py-1 border rounded text-sm ${s.current_page===r?"bg-black text-white":"hover:bg-gray-200"}`,onClick:()=>a(r),children:r})]},r)),e.jsx("button",{className:"px-3 py-1 border rounded text-sm disabled:opacity-50",disabled:s.current_page===s.last_page,onClick:()=>a(s.current_page+1),children:"Next"})]})]})]})]})]})]})}export{Z as default};
