import{j as e,c as N,r as i,R as S,H as C,L as R}from"./app-DCnBa_bf.js";import{c as P,B as c}from"./button-DQuSGQ6C.js";import{T,a as z,b as m,c as x,d as E,e as o}from"./table-BKdUz2Dy.js";import{I as B}from"./input-DDN-_KGV.js";import{c as F}from"./index-DTroTOyq.js";import{F as H}from"./faculty-room-view-sidebar-BL2w6H-f.js";import"./index-V0Q-8YQR.js";import"./dropdown-menu-qxgPK7tl.js";import"./index-BSwOxCtP.js";import"./index-1l3obMGJ.js";import"./chevron-right-Dv8a_2XA.js";const L=P("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function V({className:t,variant:a,...n}){return e.jsx("div",{className:F(L({variant:a}),t),...n})}function k({page:t,pageCount:a,onPageChange:n}){return e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx(c,{variant:"outline",size:"sm",disabled:t===1,onClick:()=>n(t-1),children:"Previous"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",a]}),e.jsx(c,{variant:"outline",size:"sm",disabled:t===a,onClick:()=>n(t+1),children:"Next"})]})}function O({room:t,equipments:a,systemUnits:n,peripherals:h}){const{auth:y}=N().props,[s,w]=i.useState("system-units"),[d,f]=i.useState(""),[l,p]=i.useState(1),u=5,j=i.useMemo(()=>s==="system-units"?n:s==="peripherals"?h:s==="equipments"?a:[],[s,n,h,a]),v=i.useMemo(()=>j.filter(r=>(r.name||"").toLowerCase().includes(d.toLowerCase())),[j,d]),b=Math.ceil(v.length/u),g=v.slice((l-1)*u,l*u);return S.useEffect(()=>{p(1),f("")},[s]),e.jsxs(e.Fragment,{children:[e.jsx(C,{title:`Room - ${t.room_number}`}),e.jsxs("div",{className:"flex h-screen",children:[e.jsx(H,{room:t,active:s,user:y.user,onSelect:w}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:s==="system-units"?"System Units":s==="peripherals"?"Peripherals":"Equipments"}),e.jsx(B,{placeholder:"Search...",value:d,onChange:r=>f(r.target.value),className:"max-w-xs"})]}),e.jsx("div",{className:"rounded-md border overflow-hidden w-full",children:e.jsxs(T,{children:[e.jsx(z,{children:e.jsxs(m,{children:[e.jsx(x,{className:"w-1/3",children:s==="system-units"?"Unit Code":s==="peripherals"?"Peripheral Code":"Equipment Code"}),e.jsx(x,{className:"w-1/3",children:"Condition"}),e.jsx(x,{className:"w-1/3 text-right",children:"Actions"})]})}),e.jsx(E,{children:g.length>0?g.map(r=>e.jsxs(m,{children:[e.jsx(o,{children:r.name}),e.jsx(o,{children:e.jsx(V,{variant:r.condition==="Good"?"success":"destructive",children:r.condition})}),e.jsxs(o,{className:"text-right",children:[s==="system-units"&&e.jsx(R,{href:route("faculty.units.show",{room:t.id,unit:r.id}),children:e.jsx(c,{size:"sm",variant:"outline",children:"View"})}),s==="equipments"&&e.jsx(c,{size:"sm",variant:"outline",children:"Report Issue"})]})]},r.id)):e.jsx(m,{children:e.jsx(o,{colSpan:3,className:"text-center text-muted-foreground",children:"No data found."})})})]})}),b>1&&e.jsx(k,{page:l,pageCount:b,onPageChange:p})]})})]})]})}export{O as default};
