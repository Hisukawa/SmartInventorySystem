import{r as h,j as e,H as j}from"./app-DuLcFkRW.js";import{F as p}from"./faculty-app-sidebar-CuRA-xm4.js";import{S as g,a as f,b,c as N}from"./avatar-BZIgUw5R.js";import{C as t,a as i,b as u,c as w,e as y}from"./card-CqtzaWMr.js";import{B as C,a as v,b as F,c as B}from"./breadcrumb-yoW9b5V6.js";import{B as R}from"./button-QxhSem_q.js";import{B as k}from"./building-DwShPSEt.js";import{D as A,C as S}from"./door-open-DnTjDDw6.js";import{U as n}from"./users-C6k13AtA.js";import{R as o,P as T,a as I,C as P,T as d,B as _,X as D,Y as L,L as q,b as E}from"./PieChart-BQusIqZ2.js";import{C as O}from"./CartesianGrid-DkaxOVoD.js";import"./index-DWJKAg20.js";import"./utils-Bmfql_KC.js";import"./index-3Q2Bja-H.js";import"./index-7XltJxxN.js";import"./index-ByCnq4qr.js";import"./chevron-right-DiPQ0jwf.js";import"./dropdown-menu-BxKbRL6F.js";import"./index-BRhb6ACy.js";import"./sparkles-YAK4-NXz.js";import"./index-CHu-Bdn-.js";import"./input-DnbGSlp8.js";import"./index-pdbjQdbT.js";import"./index-DYpUgNeG.js";import"./index-BkMVT_YW.js";import"./with-selector-DS9ipLLo.js";function he({user:H,activeRooms:r=[],summary:s={}}){const[c,m]=h.useState(!1),x=c?r:r.slice(0,2);return e.jsxs(g,{children:[e.jsx(j,{children:e.jsx("title",{children:"Faculty Dashboard"})}),e.jsx(p,{}),e.jsxs(f,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white shadow-sm",children:[e.jsx(b,{}),e.jsx(N,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(C,{children:e.jsx(v,{children:e.jsx(F,{children:e.jsx(B,{href:"/faculty/dashboard",className:"font-semibold",children:"Dashboard"})})})})]}),e.jsxs("main",{className:"w-full px-6 py-6 bg-gray-50 min-h-screen space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(t,{children:e.jsxs(i,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Total Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:s.totalRooms??0})]}),e.jsx(k,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx(t,{children:e.jsxs(i,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Available Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:s.availableRooms??0})]}),e.jsx(A,{className:"w-8 h-8 text-green-600"})]})}),e.jsx(t,{children:e.jsxs(i,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Occupied Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:s.occupiedRooms??0})]}),e.jsx(n,{className:"w-8 h-8 text-red-600"})]})}),e.jsx(t,{children:e.jsxs(i,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Items Working %"}),e.jsxs("p",{className:"text-2xl font-bold",children:[s.itemsWorkingPercent??0,"%"]})]}),e.jsx(S,{className:"w-8 h-8 text-emerald-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(t,{className:"rounded-2xl shadow-md bg-white",children:[e.jsx(u,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-green-600"}),"Active Room Occupancy"]})}),e.jsx(i,{className:"space-y-6",children:r.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No active rooms right now"}):x.map(a=>e.jsxs("div",{className:"flex items-center gap-4 border-b pb-4 last:border-b-0",children:[e.jsx("img",{src:a.faculty_photo?`/storage/${a.faculty_photo}`:"/default-avatar.png",alt:"Faculty",className:"w-20 h-20 rounded-full object-cover border-2 border-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Room ",a.room_number]}),e.jsxs("p",{className:"text-sm",children:["Scanned by"," ",e.jsx("span",{className:"font-medium",children:a.faculty_name})]}),e.jsx("p",{className:"text-xs text-gray-500",children:a.scanned_at?new Date(a.scanned_at).toLocaleString():"No scan time"})]})]},a.room_id))}),r.length>2&&e.jsx(y,{className:"flex justify-center",children:e.jsx(R,{variant:"outline",size:"sm",onClick:()=>m(!c),children:c?"Show Less":"View All Active Rooms"})})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Equipment Condition"}),s.totalItems>0?e.jsxs(e.Fragment,{children:[e.jsx(o,{width:"100%",height:250,children:e.jsxs(T,{children:[e.jsx(I,{data:s.conditions??[],cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:!0,children:(s.conditions??[]).map((a,l)=>e.jsx(P,{fill:["#4CAF50","#FFC107","#FF9800","#F44336","#2196F3","#9C27B0"][l%6]},`cell-${l}`))}),e.jsx(d,{})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:(s.conditions??[]).map((a,l)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"w-4 h-4 inline-block rounded",style:{backgroundColor:["#4CAF50","#FFC107","#FF9800","#F44336","#2196F3","#9C27B0"][l%6]}}),e.jsxs("span",{children:[a.name," (",a.value,")"]})]},l))})]}):e.jsx("p",{className:"text-gray-500 text-sm text-center",children:"No equipment data"})]}),e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Items by Category"}),e.jsx(o,{width:"100%",height:250,children:e.jsxs(_,{data:[{category:"Computers",total:s.systemUnitsTotal??0},{category:"Peripherals",total:s.peripheralsTotal??0},{category:"Equipments",total:s.equipmentsTotal??0}],margin:{top:10,right:10,left:0,bottom:0},children:[e.jsx(O,{strokeDasharray:"3 3"}),e.jsx(D,{dataKey:"category"}),e.jsx(L,{}),e.jsx(d,{}),e.jsx(q,{}),e.jsx(E,{dataKey:"total",fill:"#2196F3"})]})})]})]}),e.jsxs(t,{className:"rounded-2xl shadow-md bg-white p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Equipment Overview Across Rooms"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{children:["Total items in all rooms:"," ",e.jsx("span",{className:"font-medium",children:s.totalItems??0})]}),e.jsxs("li",{children:["Items working:"," ",e.jsx("span",{className:"font-medium",children:s.workingItems??0})]}),e.jsxs("li",{children:["Percentage working / not working:"," ",e.jsxs("span",{className:"font-medium",children:[s.itemsWorkingPercent??0,"%"]})]}),e.jsxs("li",{children:["Room Occupancy:"," ",e.jsxs("span",{className:"font-medium",children:[s.occupiedRooms??0,"/",s.totalRooms??0]})]})]})]})]})]})]})]})]})}export{he as default};
