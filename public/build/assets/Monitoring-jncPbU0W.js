import{r as a,j as e,H as x,c as m}from"./app-z6Vw40qg.js";import{S as h,a as p,b as g,c as u}from"./avatar-DtziOh3W.js";import{A as b}from"./app-sidebar-DZk1Umid.js";import{N as f}from"./Notification-D2-v6fQt.js";import{C as j,b as N,c as v,a as _}from"./card-C7Qc2-6c.js";import{B as y,a as w,b as S,c as C}from"./breadcrumb-4akR97PS.js";import{B as P}from"./badge-C0m6s3FH.js";import"./createLucideIcon-B0WYDbjW.js";import"./index-DOpt5hlj.js";import"./index-B8ua60HV.js";import"./button-C8lyBYc6.js";import"./input-DHKWE85y.js";import"./index-CV-8ncH2.js";import"./index-C0fTul90.js";import"./dropdown-menu-BxwQN4Fw.js";import"./index-CKOI0W7X.js";import"./chevron-right-Bj5qHi4z.js";import"./index-B4P4VYbh.js";import"./sparkles-BKefO-Bw.js";import"./user-D47MYVJ3.js";function V({children:A}){const[i,l]=a.useState([]),[t,n]=a.useState(1),[r,d]=a.useState(1),o=10,c=async()=>{try{const s=await m.get(`/api/admin/rooms-status?page=${t}&per_page=${o}`);l(s.data.data),d(s.data.meta.total_pages)}catch(s){console.error("Failed to fetch rooms:",s)}};return a.useEffect(()=>{c();const s=setInterval(c,5e3);return()=>clearInterval(s)},[t]),e.jsxs(h,{children:[e.jsx(x,{children:e.jsx("title",{children:"Dashboard"})}),e.jsx(b,{}),e.jsxs(p,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{}),e.jsx(u,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(y,{children:e.jsx(w,{children:e.jsx(S,{children:e.jsx(C,{href:"/admin/monitoring","aria-current":"page",className:"font-semibold text-foreground",children:"Monitoring"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(f,{})]})}),e.jsx("main",{className:"w-full px-6 py-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Room Monitoring"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[i.length===0&&e.jsx("p",{className:"col-span-full text-center text-gray-500",children:"No rooms found."}),i.map(s=>e.jsxs(j,{className:`rounded-2xl transition-all duration-200 ease-in-out shadow-md 
        hover:scale-[1.02] hover:shadow-lg
        ${s.is_active?"bg-green-600 border border-green-700 text-white":"bg-white border border-gray-300 text-gray-900"}`,children:[e.jsxs(N,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(v,{className:`text-lg md:text-xl font-semibold ${s.is_active?"text-white":"text-gray-900"}`,children:s.name}),e.jsx(P,{className:`px-3 py-1 text-xs font-medium rounded-full ${s.is_active?"bg-white text-green-700":"bg-gray-500 text-white"}`,children:s.is_active?"Active":"Inactive"})]}),e.jsx(_,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[s.is_active&&s.last_scanned_user?.photo?e.jsx("img",{src:s.last_scanned_user.photo,alt:s.last_scanned_user.name,className:"w-20 h-20 rounded-full object-cover border-2 border-green-500"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-sm border-2 border-gray-300",children:"No Photo"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`font-medium ${s.is_active?"text-white":"text-gray-900"}`,children:s.is_active&&s.last_scanned_user?s.last_scanned_user.name:"No Faculty"}),e.jsx("span",{className:`text-xs ${s.is_active?"text-green-100":"text-gray-600"}`,children:s.is_active&&s.last_scanned_at?new Date(s.last_scanned_at).toLocaleString():"Not yet scanned"})]})]})})]},s.id))]}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-2",children:[e.jsx("button",{onClick:()=>n(s=>Math.max(s-1,1)),className:"px-4 py-2 bg-[#FFD700] text-[#006400] rounded hover:bg-[#DAA520]",disabled:t===1,children:"Prev"}),e.jsxs("span",{className:"px-4 py-2 text-white",children:["Page ",t," of ",r]}),e.jsx("button",{onClick:()=>n(s=>Math.min(s+1,r)),className:"px-4 py-2 bg-[#FFD700] text-[#006400] rounded hover:bg-[#DAA520]",disabled:t===r,children:"Next"})]})]})})]})]})}export{V as default};
