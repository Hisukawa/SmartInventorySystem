import{u as b,j as e}from"./app-CO_XefRP.js";import{D as v,a as f,b as _,c as N}from"./dialog-BaMOWnKH.js";import{L as c}from"./label-BuT2c60u.js";import{I as i}from"./input-CkOyDabZ.js";import{B as C}from"./button-Caqt5Asn.js";import{c as D}from"./utils-CBfrqCZ4.js";import"./index-C38S9Elj.js";import"./createLucideIcon-BSW1fS9S.js";import"./index-DYMvDSyA.js";import"./index-vUOHopH7.js";import"./index-DZCEG574.js";const m=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function R({unit:t,rooms:p,onClose:l,onSuccess:d}){const{data:a,setData:s,put:x,processing:h,errors:r}=b({unit_code:t.unit_code,processor:t.processor,ram:t.ram,storage:t.storage,gpu:t.gpu,motherboard:t.motherboard,condition:t.condition,condition_details:t.condition_details||"",room_id:t.room_id}),g=o=>{o.preventDefault(),x(`/system-units/${t.id}`,{onSuccess:()=>{l(),d&&d()}})},u=o=>{const n=m.find(j=>j.label.toLowerCase()===o.toLowerCase());return n?n.color:"bg-gray-300"};return e.jsx(v,{open:!0,onOpenChange:o=>!o&&l(),children:e.jsxs(f,{children:[e.jsx(_,{children:e.jsxs(N,{children:["Edit ROOM -"," ",p.find(o=>o.id===t.room_id)?.room_number||"N/A"," ","- ",t.unit_code]})}),e.jsxs("form",{onSubmit:g,className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{value:a.unit_code,onChange:o=>s("unit_code",o.target.value),placeholder:"Unit Code"}),r.unit_code&&e.jsx("p",{className:"text-sm text-red-500",children:r.unit_code})]}),e.jsxs("div",{children:[e.jsx(i,{value:a.processor,onChange:o=>s("processor",o.target.value),placeholder:"Processor"}),r.processor&&e.jsx("p",{className:"text-sm text-red-500",children:r.processor})]}),e.jsxs("div",{children:[e.jsx(i,{value:a.ram,onChange:o=>s("ram",o.target.value),placeholder:"RAM"}),r.ram&&e.jsx("p",{className:"text-sm text-red-500",children:r.ram})]}),e.jsxs("div",{children:[e.jsx(i,{value:a.storage,onChange:o=>s("storage",o.target.value),placeholder:"Storage"}),r.storage&&e.jsx("p",{className:"text-sm text-red-500",children:r.storage})]}),e.jsxs("div",{children:[e.jsx(i,{value:a.gpu,onChange:o=>s("gpu",o.target.value),placeholder:"GPU"}),r.gpu&&e.jsx("p",{className:"text-sm text-red-500",children:r.gpu})]}),e.jsxs("div",{children:[e.jsx(i,{value:a.motherboard,onChange:o=>s("motherboard",o.target.value),placeholder:"Motherboard"}),r.motherboard&&e.jsx("p",{className:"text-sm text-red-500",children:r.motherboard})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"condition",children:"Condition"}),e.jsxs("select",{id:"condition",value:a.condition,onChange:o=>s("condition",o.target.value),className:"w-full border rounded px-2 py-1",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Condition"}),m.map(o=>e.jsx("option",{value:o.label,children:o.label},o.label))]}),a.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:D("inline-block w-3 h-3 rounded-full",u(a.condition))}),e.jsx("span",{className:"capitalize",children:a.condition})]}),r.condition&&e.jsx("p",{className:"text-sm text-red-500",children:r.condition})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"condition_details",children:"Condition Details"}),e.jsx("textarea",{id:"condition_details",className:"w-full border rounded-md p-2 text-sm",rows:3,placeholder:"Describe condition details (e.g. slow performance, faulty port, etc.)",value:a.condition_details,onChange:o=>s("condition_details",o.target.value)}),r.condition_details&&e.jsx("p",{className:"text-sm text-red-500",children:r.condition_details})]}),e.jsx(C,{type:"submit",disabled:h,children:"Update"})]})]})})}export{R as default};
