import{r as n,u as j,j as e,H as g}from"./app-uJFZLuwl.js";import{S as b,a as v,b as N,c as w}from"./avatar-rdh7IjUe.js";import{A as S}from"./app-sidebar-ILi0UXgM.js";import{B as C,a as P,b as d,c as p,d as D}from"./breadcrumb-Bk48BLic.js";import{B as a}from"./button-D5vXQb8q.js";import{D as y,a as B,b as A,c as k,d as L,e as R}from"./dialog-Bri1kex0.js";import{A as U}from"./arrow-left-DhPEo6Be.js";import"./createLucideIcon-CIZE6vES.js";import"./index-D3BlzfSf.js";import"./utils-CBfrqCZ4.js";import"./input-KXoCu8_k.js";import"./index-DEIRgDn1.js";import"./index-DOtpnOW_.js";import"./index-C1j-RH6p.js";import"./index-BvtCGAs6.js";import"./dropdown-menu-BZ-KL9ru.js";import"./index-TpAtLKhM.js";import"./chevron-right-hPb-ruv6.js";import"./index-Bh3qDMQ8.js";import"./index-DWRfQkwi.js";import"./sparkles-BZLALFR4.js";import"./bell-BrIoFtA-.js";import"./keyboard-COlBX9lV.js";import"./boxes-1lg5O16c.js";import"./users-D4jDxsz5.js";import"./user-DosLMcO1.js";import"./chevron-down-C8F2KyB2.js";function le({user:r}){const[c,h]=n.useState(r.photo?`/storage/${r.photo}`:"/logo.png"),[x,t]=n.useState(!1),m=n.useRef(null),s=j({photo:null}),f=o=>{const i=o.target.files[0];if(i){s.setData("photo",i);const l=new FileReader;l.onloadend=()=>h(l.result),l.readAsDataURL(i)}},u=o=>{o.preventDefault(),s.post(route("admin.users.updatePhoto",r.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{s.reset("photo"),t(!1)}})};return e.jsxs(b,{children:[e.jsx(g,{title:`${r.name} - Profile`}),e.jsx(S,{}),e.jsxs(v,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(N,{}),e.jsx(w,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(C,{children:e.jsxs(P,{children:[e.jsx(d,{children:e.jsx(p,{href:"/admin/users",children:"User Lists"})}),e.jsx(D,{}),e.jsx(d,{children:e.jsx(p,{href:"#",className:"font-semibold text-foreground",children:"User Profile"})})]})})]}),e.jsx("main",{className:"mt-10",children:e.jsxs("div",{className:"max-w-lg mx-auto p-6 bg-white shadow-lg rounded-lg relative",children:[e.jsx(a,{variant:"outline",size:"icon",className:"absolute top-4 left-4",asChild:!0,children:e.jsx("a",{href:route("admin.users.index"),children:e.jsx(U,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("img",{src:c,alt:r.name,className:"w-32 h-32 rounded-full object-cover border"}),e.jsx("h1",{className:"text-xl font-bold",children:r.name}),e.jsx("p",{className:"text-gray-600",children:r.role||"N/A"}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(a,{onClick:()=>t(!0),variant:"secondary",children:"Change Profile"}),e.jsx(a,{asChild:!0,children:e.jsx("a",{href:route("admin.users.edit",r.id),children:"Edit Profile"})})]})]})]})})]}),e.jsx(y,{open:x,onOpenChange:t,children:e.jsxs(B,{className:"sm:max-w-md",children:[e.jsxs(A,{children:[e.jsx(k,{children:"Update Profile Photo"}),e.jsxs(L,{children:["Choose a new profile photo for ",r.name,"."]})]}),e.jsxs("form",{onSubmit:u,className:"flex flex-col items-center gap-4 mt-2",encType:"multipart/form-data",children:[e.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border"}),e.jsx("input",{type:"file",accept:"image/*",onChange:f,ref:m,className:"hidden"}),e.jsx(a,{type:"button",variant:"secondary",onClick:()=>m.current.click(),children:"Choose Photo"}),s.data.photo&&e.jsx("span",{className:"text-sm text-gray-600",children:s.data.photo.name}),e.jsxs(R,{className:"mt-4",children:[e.jsx(a,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(a,{type:"submit",disabled:s.processing,children:s.processing?"Saving...":"Save"})]})]})]})})]})}export{le as default};
