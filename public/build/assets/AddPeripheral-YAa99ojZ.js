import{u as g,r as x,j as e,H as N}from"./app-CsbQ2pYi.js";import{B as S}from"./button-IV10psch.js";import{C as O,a as C}from"./card-UArAB7EB.js";import{I as w}from"./input-CSN-pxIH.js";import{L as a}from"./label-BRc-L42n.js";import{S as B,a as A,b as M,c as P}from"./index-C0c8Dczd.js";import{A as k}from"./app-sidebar-B0lvOXRE.js";import{B as D,a as E,b as F,c,d as h}from"./breadcrumb-6hTWgkQQ.js";import"./index-BozoQiq4.js";import"./index-n-dOUQgn.js";import"./createLucideIcon-BLllQeE-.js";import"./index-BGTqIl3L.js";import"./index-DGrvU1KL.js";import"./dropdown-menu-DpOe7xsA.js";import"./index-CEbXihwT.js";import"./chevron-right-DEyk4rbn.js";import"./index-DZUIWO7d.js";import"./sparkles-BPSdQ58J.js";import"./user-D7cGaDUu.js";function re({existingRooms:l=[],existingUnits:p=[],existingBrands:j=[],existingModels:b=[]}){const{data:i,setData:s,post:v,processing:f,errors:t}=g({type:"",brand:"",model:"",serial_number:"",condition:"Working",room_id:"",unit_id:""}),[m,u]=x.useState([]);x.useEffect(()=>{if(i.room_id){const r=p.filter(d=>String(d.room_id)===String(i.room_id));u(r),r.find(d=>d.id===i.unit_id)||s("unit_id","")}else u([]),s("unit_id","")},[i.room_id,p]);function _(r){r.preventDefault(),v("/admin/peripherals")}return e.jsxs(B,{children:[e.jsx(N,{title:"Add Peripheral"}),e.jsx(k,{}),e.jsxs(A,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(M,{}),e.jsx(P,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(D,{children:e.jsx(E,{children:e.jsxs(F,{children:[e.jsx(c,{href:"#",children:"Assets"}),e.jsx(h,{}),e.jsx(c,{href:"/admin/peripherals",children:"Peripherals"}),e.jsx(h,{}),e.jsx(c,{href:"/admin/peripherals/create",className:"font-semibold text-foreground",children:"Add Peripheral"})]})})})]}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5 text-center",children:"Add Peripheral"}),e.jsx(O,{className:"max-w-xl mx-auto",children:e.jsx(C,{children:e.jsxs("form",{onSubmit:_,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(a,{children:"Type"}),e.jsx("input",{list:"typeOptions",value:i.type,onChange:r=>s("type",r.target.value),placeholder:"Select or type peripheral type",className:"w-full border rounded px-2 py-1"}),e.jsxs("datalist",{id:"typeOptions",children:[e.jsx("option",{value:"Mouse"}),e.jsx("option",{value:"Keyboard"})]}),t.type&&e.jsx("div",{className:"text-red-500 text-sm",children:t.type})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"room_number",children:"Room"}),e.jsx("input",{id:"room_number",list:"roomOptions",value:i.room_id?`ROOM ${l.find(r=>r.id===i.room_id)?.room_number}`:"",onChange:r=>{const d=r.target.value,o=d.startsWith("ROOM ")?d.slice(5):d,n=l.find(y=>String(y.room_number)===o);s("room_id",n?n.id:"")},placeholder:"Select or type room",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"roomOptions",children:l.map(r=>e.jsx("option",{value:`ROOM ${r.room_number}`},r.id))}),t.room_id&&e.jsx("div",{className:"text-red-500 text-sm",children:t.room_id})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Unit Code"}),e.jsx("input",{list:"unitOptions",value:i.unit_id&&m.find(r=>r.id===i.unit_id)?.unit_code||"",onChange:r=>{const d=r.target.value,o=m.find(n=>n.unit_code===d);s("unit_id",o?o.id:"")},placeholder:"Select or type unit code",className:"w-full border rounded px-2 py-1",disabled:!i.room_id}),e.jsx("datalist",{id:"unitOptions",children:m.map(r=>e.jsx("option",{value:r.unit_code},r.id))}),t.unit_id&&e.jsx("div",{className:"text-red-500 text-sm",children:t.unit_id})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Brand"}),e.jsx("input",{list:"brandOptions",value:i.brand,onChange:r=>s("brand",r.target.value),placeholder:"Select or type brand",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"brandOptions",children:j.map(r=>e.jsx("option",{value:r},r))}),t.brand&&e.jsx("div",{className:"text-red-500 text-sm",children:t.brand})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Model"}),e.jsx("input",{list:"modelOptions",value:i.model,onChange:r=>s("model",r.target.value),placeholder:"Select or type model",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"modelOptions",children:b.map(r=>e.jsx("option",{value:r},r))}),t.model&&e.jsx("div",{className:"text-red-500 text-sm",children:t.model})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Serial Number"}),e.jsx(w,{value:i.serial_number,onChange:r=>s("serial_number",r.target.value),placeholder:"Enter serial number",className:"w-full border rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx(a,{children:"Condition"}),e.jsxs("select",{value:i.condition,onChange:r=>s("condition",r.target.value),className:"w-full border rounded px-2 py-1",children:[e.jsx("option",{value:"Working",children:"ðŸŸ¢ Working"}),e.jsx("option",{value:"Defective",children:"ðŸ”´ Defective"}),e.jsx("option",{value:"Maintenance",children:"ðŸŸ¡ Maintenance"})]}),t.condition&&e.jsx("div",{className:"text-red-500 text-sm",children:t.condition})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(S,{type:"submit",disabled:f,children:"Submit"})})]})})})]})]})]})}export{re as default};
