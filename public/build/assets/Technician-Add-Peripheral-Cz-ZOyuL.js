import{r as x,b as j,u as v,a as N,j as e,H as y}from"./app-dhsHMyn2.js";import{C as w,a as C,b as _,c as S}from"./card-BWPKC5Pd.js";import{B as o}from"./button-B0Vu6fYc.js";import{I as r}from"./input-CexWGnSF.js";import{T as h}from"./techician-scanned-sidebar-BNVr7Ntr.js";import{S as p}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{M as k}from"./package--SdkI0nL.js";import"./utils-CBfrqCZ4.js";import"./index-C4EWm361.js";import"./dropdown-menu-DINGeymd.js";import"./createLucideIcon-5xhtDGCO.js";import"./index-4G6T2Sah.js";import"./index-DfbWU6pQ.js";import"./index-BJdNYCPJ.js";import"./index-CV7pveXH.js";import"./chevron-right-B-b4Nmyc.js";import"./monitor-Bsg8ULi4.js";import"./mouse-C-xBgDpr.js";function W({room:i,user:c,existingRooms:B,existingUnits:u,existingBrands:P,existingModels:T}){const[b,d]=x.useState(!1),{flash:n}=j().props,{data:l,setData:a,post:g,processing:m,errors:t}=v({type:"",brand:"",model:"",serial_number:"",condition:"",room_id:i.id,unit_id:""}),f=s=>{s.preventDefault(),g(route("technician.peripherals.store"),{onSuccess:()=>{p.fire({icon:"success",title:"Success!",text:"Peripheral added successfully!",confirmButtonColor:"hsl(142,34%,51%)"}),a({type:"",brand:"",model:"",serial_number:"",condition:"",room_id:i.id,unit_id:""})}})};return x.useEffect(()=>{n?.success&&p.fire({icon:"success",title:"Success!",text:n.success,confirmButtonColor:"hsl(142,34%,51%)"}).then(()=>N.reload({only:[]}))},[n]),e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:e.jsx(h,{room:i,user:c,active:"add-peripheral"})}),b&&e.jsxs("div",{className:"fixed inset-0 z-40 flex md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>d(!1)}),e.jsx("div",{className:"relative z-50 w-64 shadow-lg bg-[hsl(142,34%,51%)]",children:e.jsx(h,{room:i,user:c,active:"add-peripheral",onSelect:()=>d(!1)})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b md:hidden flex items-center justify-between shadow-sm bg-[hsl(142,34%,51%)]",children:[e.jsx(o,{variant:"outline",size:"icon",onClick:()=>d(!0),className:"bg-[hsl(142,34%,51%)] text-white border-none hover:bg-[hsl(142,34%,45%)]",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:i.room_name})]}),e.jsxs("div",{className:"p-4 md:p-8 w-full flex justify-center",children:[e.jsx(y,{title:"Add Peripheral"}),e.jsxs(w,{className:"w-full max-w-2xl rounded-2xl shadow-md",children:[e.jsx(C,{children:e.jsx(_,{className:"text-lg md:text-xl font-semibold",children:"Add New Peripheral"})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:f,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsx(r,{placeholder:"e.g. Keyboard",value:l.type,onChange:s=>a("type",s.target.value)}),t.type&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),e.jsx(r,{placeholder:"e.g. Logitech",value:l.brand,onChange:s=>a("brand",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),e.jsx(r,{placeholder:"e.g. K120",value:l.model,onChange:s=>a("model",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),e.jsx(r,{placeholder:"Optional",value:l.serial_number,onChange:s=>a("serial_number",s.target.value)})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition"}),e.jsx(r,{placeholder:"Good, Fair, Needs Repair",value:l.condition,onChange:s=>a("condition",s.target.value)}),t.condition&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.condition})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit"}),e.jsxs("select",{value:l.unit_id,onChange:s=>a("unit_id",s.target.value),className:"w-full border rounded-lg p-2",children:[e.jsx("option",{value:"",children:"Select Unit"}),u.map(s=>e.jsx("option",{value:s.id,children:s.unit_code},s.id))]}),t.unit_id&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.unit_id})]}),e.jsxs("div",{className:"sm:col-span-2 flex justify-end mt-2 gap-2",children:[e.jsx(o,{type:"button",onClick:()=>window.history.back(),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Back"}),e.jsx(o,{type:"submit",disabled:m,className:"px-6 bg-[hsl(142,34%,51%)] text-white hover:bg-[hsl(142,34%,45%)] rounded-lg",children:m?"Saving...":"Add Peripheral"})]})]})})]})]})]})]})}export{W as default};
