import{r as o,u as y,j as e,a as U}from"./app-Bkk0CQzs.js";import{c as B,B as a}from"./input-DCq-UUra.js";import{S as P,A as T,a as k,b as z,c as L,B as M,d as _,e as A,f as C,g as D}from"./breadcrumb-CkhfQ9Q6.js";import $ from"./AddUnitModal-CKexdlBM.js";import I from"./EditUnitModal-vQHhG8T6.js";import{S as N}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{T as R,a as E,b as m,c as t,d as O,e as r}from"./table-6B1---U8.js";import{Q as F}from"./index-CXBTIPQH.js";import"./index-Q8sKNiyw.js";import"./index-BfmKmxZ0.js";import"./index-DYIMs562.js";import"./index-DFOZdcsu.js";import"./dialog-cBAOuFqM.js";import"./label-C4iPTX-d.js";const Q=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function ie({units:h,rooms:j}){const[c,v]=o.useState(""),[i,d]=o.useState(1),[u,p]=o.useState(null),n=10,{delete:w}=y(),b=o.useMemo(()=>h.filter(s=>s.unit_code.toLowerCase().includes(c.toLowerCase())),[h,c]),f=Math.ceil(b.length/n),g=b.slice((i-1)*n,i*n),S=s=>{const l=Q.find(x=>x.label.toLowerCase()===s.toLowerCase());return l?l.color:"bg-muted"};return e.jsxs(P,{children:[e.jsx(T,{}),e.jsxs(k,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(z,{}),e.jsx(L,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(M,{children:e.jsx(_,{children:e.jsxs(A,{children:[e.jsx(C,{href:"#","aria-current":"page",children:"Assets"}),e.jsx(D,{}),e.jsx(C,{href:"/units","aria-current":"page",className:"font-semibold text-foreground",children:"System Unit Lists"})]})})})]}),e.jsxs("main",{className:"w-full px-6 py-4",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"System Units"}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search Unit Code...",className:"border rounded px-3 py-2 w-64",value:c,onChange:s=>{v(s.target.value),d(1)}}),e.jsx($,{rooms:j})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(R,{children:[e.jsx(E,{className:"",children:e.jsxs(m,{children:[e.jsx(t,{children:"#"}),e.jsx(t,{children:"Unit Code"}),e.jsx(t,{children:"Processor"}),e.jsx(t,{children:"RAM"}),e.jsx(t,{children:"Storage"}),e.jsx(t,{children:"GPU"}),e.jsx(t,{children:"Motherboard"}),e.jsx(t,{children:"Condition"}),e.jsx(t,{children:"QR Code"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(O,{children:g.length>0?g.map((s,l)=>e.jsxs(m,{children:[e.jsx(r,{children:(i-1)*n+l+1}),e.jsx(r,{children:s.unit_code}),e.jsx(r,{children:s.processor}),e.jsx(r,{children:s.ram}),e.jsx(r,{children:s.storage}),e.jsx(r,{children:s.gpu}),e.jsx(r,{children:s.motherboard}),e.jsx(r,{children:s.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:B("inline-block w-3 h-3 rounded-full",S(s.condition))}),e.jsx("span",{className:"capitalize",children:s.condition})]})}),e.jsx(r,{children:e.jsx("div",{className:"w-20 h-20",children:e.jsx(F,{value:`${window.location.origin}/equipment/${s.unit_code}`,size:64})})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{size:"sm",variant:"secondary",onClick:()=>U.visit(`/system-units/view/${s.unit_code}`),children:"View"}),e.jsx(a,{size:"sm",variant:"secondary",onClick:()=>p(s),children:"Edit"}),e.jsx(a,{size:"sm",variant:"destructive",onClick:()=>{N.fire({title:`Delete ${s.unit_code}?`,text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(x=>{x.isConfirmed&&(w(`/system-units/${s.id}`),N.fire("Deleted!",`Unit ${s.unit_code} has been deleted.`,"success"))})},children:"Delete"})]})})]},s.id)):e.jsx(m,{children:e.jsx(r,{colSpan:10,className:"text-center py-4",children:"No matching units found."})})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",i," of ",f]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{size:"sm",variant:"outline",disabled:i===1,onClick:()=>d(s=>s-1),children:"Previous"}),e.jsx(a,{size:"sm",variant:"outline",disabled:i===f,onClick:()=>d(s=>s+1),children:"Next"})]})]}),u&&e.jsx(I,{unit:u,rooms:j,onClose:()=>p(null)})]})]})]})}export{ie as default};
