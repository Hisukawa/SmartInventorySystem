import{r as c,j as e,H as f}from"./app-DEBeoYKq.js";import{S as v,a as w,b as y,c as T}from"./avatar-CV9EsYgD.js";import{F as S,S as R,T as k,a as D,b as d,c as C}from"./tabs-BnddqHyW.js";import{B,a as _,b as M,c as F}from"./breadcrumb-BQfdBd6N.js";import{C as o,a as A}from"./card-92Tj-eRv.js";import{B as l}from"./badge-B2jPO08N.js";import{T as H,a as I,b as m,c as i,d as L,e as r}from"./table-DuJhGbEO.js";import{B as g}from"./button-CIxoHFfP.js";import{D as E,e as P,a as V,b as q,c as z,f as U,d as Z}from"./dialog-Cz9Ydpnq.js";import{a as G}from"./createLucideIcon-Cn8f1Oaj.js";import{F as J}from"./file-text-BKtaUgkt.js";import{E as K}from"./eye-Q-3uHGB5.js";import"./index-BQYDRRhW.js";import"./index-D6IIYU7U.js";import"./input-BKriwkVD.js";import"./index-Ii95Vdwn.js";import"./index-CO1--VD2.js";import"./dropdown-menu-BdFgx5kv.js";import"./index-I_hEqil6.js";import"./chevron-right-DyvjNIdw.js";import"./index-CjYL8UU3.js";import"./index-BhqPzQ7g.js";import"./sparkles-aQHqAaeR.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Q=G("building-2",O),b=x=>new Date(x).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});function fe({user:x,recentRooms:u=[],reports:n=[]}){const[a,h]=c.useState(null),[t,N]=c.useState("all"),p=c.useMemo(()=>t==="all"?n:n.filter(s=>s.status===t),[n,t]),j=s=>{switch(s){case"pending":return e.jsx(l,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Pending"});case"resolved":return e.jsx(l,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"Resolved"});case"critical":return e.jsx(l,{variant:"outline",className:"bg-red-100 text-red-800 border-red-300",children:"Critical"});default:return e.jsx(l,{variant:"outline",children:"Unknown"})}};return e.jsxs(v,{children:[e.jsx(f,{children:e.jsx("title",{children:"Faculty Dashboard"})}),e.jsx(S,{}),e.jsxs(w,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white shadow-sm",children:[e.jsx(y,{}),e.jsx(T,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(B,{children:e.jsx(_,{children:e.jsx(M,{children:e.jsx(F,{href:"/faculty/dashboard","aria-current":"page",className:"font-semibold text-foreground",children:"Dashboard"})})})})]}),e.jsxs("main",{className:"w-full px-6 py-6 bg-gray-50 min-h-screen space-y-8",children:[e.jsx("section",{className:"w-full md:max-w-l lg:max-w-5xl",children:e.jsxs(o,{className:"p-4 w-full sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl max-h-[500px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Q,{className:"h-5 w-5 text-green-600"}),e.jsx("h2",{className:"font-bold text-sm px-3 py-1 rounded-md bg-green-600 border border-green-700 text-white inline-block",children:"Recent Rooms Scanned"})]}),e.jsx(R,{className:"max-h-[350px] pr-2",children:e.jsx("div",{className:"space-y-3",children:(u||[]).map(s=>e.jsxs(o,{className:"p-3 w-full sm:w-[280px] md:w-[300px] bg-green-100 border border-green-300 text-green-800 hover:shadow-md transition-all hover:scale-[1.01]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("p",{className:"font-semibold text-sm",children:["Room ",s.room_number]}),e.jsx(l,{variant:s.is_active?"default":"secondary",className:s.is_active?"bg-green-600 border border-green-700 text-white":"bg-gray-500 border border-gray-600 text-white",children:s.is_active?"Active":"Inactive"})]}),e.jsxs("p",{className:"text-xs",children:["Last scanned: ",b(s.created_at)]})]},s.room_number))})})]})}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"h-5 w-5 text-red-600"}),e.jsx("h2",{className:"font-bold text-lg",children:"My Reports"})]}),e.jsx(o,{children:e.jsx(A,{className:"pt-4",children:e.jsxs(k,{value:t,onValueChange:N,className:"w-full",children:[e.jsxs(D,{className:"grid w-full grid-cols-3 md:w-[400px]",children:[e.jsx(d,{value:"all",children:"All Reports"}),e.jsx(d,{value:"pending",children:"Pending"}),e.jsx(d,{value:"resolved",children:"Resolved"})]}),e.jsx(C,{value:t,className:"mt-4",children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(H,{children:[e.jsx(I,{children:e.jsxs(m,{children:[e.jsx(i,{children:"Item"}),e.jsx(i,{children:"Room"}),e.jsx(i,{children:"Condition"}),e.jsx(i,{children:"Status"}),e.jsx(i,{className:"text-right",children:"Actions"})]})}),e.jsx(L,{children:p.length>0?p.map(s=>e.jsxs(m,{children:[e.jsx(r,{className:"font-medium",children:s.item}),e.jsxs(r,{children:["Room ",s.room_number]}),e.jsx(r,{children:s.condition}),e.jsx(r,{children:j(s.status)}),e.jsx(r,{className:"text-right",children:e.jsxs(E,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(g,{variant:"ghost",size:"sm",onClick:()=>h(s),children:[e.jsx(K,{className:"h-4 w-4 mr-2"})," View"]})}),e.jsxs(V,{className:"sm:max-w-[425px]",children:[e.jsxs(q,{children:[e.jsx(z,{children:"Report Details"}),e.jsx(U,{children:"Detailed information about this report."})]}),a&&e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Item:"}),e.jsx("p",{className:"text-sm col-span-3",children:a.item})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Room:"}),e.jsxs("p",{className:"text-sm col-span-3",children:["Room ",a.room_number]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Condition:"}),e.jsx("p",{className:"text-sm col-span-3",children:a.condition})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Status:"}),e.jsx("p",{className:"text-sm col-span-3",children:j(a.status)})]}),a.remarks&&e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Remarks:"}),e.jsx("p",{className:"text-sm col-span-3",children:a.remarks})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx("p",{className:"text-sm font-semibold col-span-1",children:"Submitted:"}),e.jsx("p",{className:"text-sm col-span-3",children:b(a.created_at)})]})]}),e.jsx(Z,{children:e.jsx(g,{type:"button",onClick:()=>h(null),children:"Close"})})]})]})})]},s.id)):e.jsx(m,{children:e.jsx(r,{colSpan:5,className:"h-24 text-center text-gray-500",children:"No reports to display for this category."})})})]})})})]})})})]})]})]})]})}export{fe as default};
