import{b as l,j as e,H as o}from"./app-YUBFmmkD.js";import{d as c}from"./index-BivPM0V1.js";import{S as d,a as m,b as p,c as n}from"./avatar-DqRBvoVy.js";import{N as x}from"./Notification-D7_D5c14.js";import{B as h,a as j,b as u,c as N}from"./breadcrumb-51dviZK3.js";import{A as b}from"./app-sidebar-D4hM-fDd.js";import{T as y}from"./TopNavBar-N97rStBs.js";import"./index-B9WTe5m5.js";import"./button-C91vRV6m.js";import"./utils-CBfrqCZ4.js";import"./input-DMTsWxkm.js";import"./index-BPW6BtHW.js";import"./index-Gm0W8oDU.js";import"./createLucideIcon-OmS0RfaO.js";import"./index-BlGL5JJv.js";import"./dropdown-menu--1b41bIH.js";import"./index-_7Mq37l_.js";import"./chevron-right-B6WwSfBh.js";import"./index-e0LgWcjC.js";import"./index-X8pKkW1m.js";import"./bell-DdP6RJhv.js";import"./house-B1p8JrSE.js";import"./user-cWiTbXyz.js";import"./log-out-Bv586FUR.js";import"./keyboard-D5IXjQLr.js";import"./boxes-CFhg2yIv.js";import"./users-CNeXSBet.js";import"./chevron-down-D-BXn-Gx.js";import"./cpu-chTkV2qJ.js";import"./hard-drive-DoRsh8iF.js";import"./menu-D72cl_U6.js";function X(){const{histories:r}=l().props,i=r.data,t=s=>{c.Inertia.get("/admin/peripherals-history",{page:s},{preserveState:!0})};return e.jsxs(d,{children:[e.jsx(b,{}),e.jsxs(m,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-4 md:px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{}),e.jsx(n,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(h,{children:e.jsx(j,{children:e.jsx(u,{children:e.jsx(N,{href:"/admin/peripherals-history","aria-current":"page",className:"font-semibold text-foreground",children:"Peripherals History"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(x,{})]})}),e.jsxs("div",{className:"p-4 md:p-6 max-w-7xl mx-auto w-full",children:[e.jsx("div",{className:"sticky top-[64px] z-20 bg-white shadow-sm",children:e.jsx(y,{})}),e.jsx(o,{title:"Peripherals History"}),e.jsx("h1",{className:"text-xl md:text-2xl text-center font-bold mt-5 mb-4",children:"Peripherals Activity History"}),i.length===0?e.jsx("p",{className:"text-center mt-10",children:"No peripherals history found."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:e.jsxs("table",{className:"min-w-full table-auto text-center",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[hsl(142,34%,85%)] text-[hsl(142,34%,25%)] hover:bg-[hsl(142,34%,80%)]",children:[e.jsx("th",{className:"px-5 py-1",children:"#"}),e.jsx("th",{className:"px-5 py-1",children:"User Name"}),e.jsx("th",{className:"px-5 py-1",children:"Peripheral Code"}),e.jsx("th",{className:"px-5 py-1",children:"Action"}),e.jsx("th",{className:"px-5 py-1",children:"Component"}),e.jsx("th",{className:"px-5 py-1",children:"Old Value"}),e.jsx("th",{className:"px-5 py-1",children:"New Value"}),e.jsx("th",{className:"px-5 py-1",children:"Room"}),e.jsx("th",{className:"px-5 py-1",children:"Unit"}),e.jsx("th",{className:"px-5 py-1",children:"Date & Time"})]})}),e.jsx("tbody",{children:i.map((s,a)=>e.jsxs("tr",{className:"hover:shadow-sm",children:[e.jsx("td",{className:"px-5 py-2",children:r.from+a}),e.jsx("td",{className:"px-5 py-2",children:s.user?.name??"-"}),e.jsx("td",{className:"px-5 py-2",children:s.peripheral_code}),e.jsx("td",{className:"px-5 py-2",children:s.action}),e.jsx("td",{className:"px-5 py-2",children:s.component??"-"}),e.jsx("td",{className:"px-5 py-2",children:s.old_value??"-"}),e.jsx("td",{className:"px-5 py-2",children:s.new_value??"-"}),e.jsx("td",{className:"px-5 py-2",children:s.room?.room_number??"-"}),e.jsx("td",{className:"px-5 py-2",children:s.unit?.unit_code??"-"}),e.jsx("td",{className:"px-5 py-2",children:new Date(s.created_at).toLocaleString()})]},s.id))})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground mb-2 md:mb-0",children:["Showing ",r.from," â€“ ",r.to," of"," ",r.total," histories"]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{className:"px-3 py-1 border rounded text-sm disabled:opacity-50",disabled:!r.prev_page_url,onClick:()=>t(r.current_page-1),children:"Prev"}),Array.from({length:r.last_page},(s,a)=>a+1).map(s=>s===1||s===r.last_page||s>=r.current_page-2&&s<=r.current_page+2?e.jsx("button",{className:`px-3 py-1 border rounded text-sm ${r.current_page===s?"bg-black text-white":"hover:bg-gray-200"}`,onClick:()=>t(s),children:s},s):s===r.current_page-3||s===r.current_page+3?e.jsx("span",{className:"px-3 py-1 border rounded text-sm",children:"..."},s):null),e.jsx("button",{className:"px-3 py-1 border rounded text-sm disabled:opacity-50",disabled:!r.next_page_url,onClick:()=>t(r.current_page+1),children:"Next"})]})]})]})]})]})]})}export{X as default};
