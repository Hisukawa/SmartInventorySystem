import{r as l,u as S,j as e}from"./app-D-pvq5lW.js";import{c as U,B as o}from"./index-pI9Juxas.js";import{S as y,A as B,a as P,b as T,c as L,B as M,d as k,e as z,f as D}from"./breadcrumb-BXm166WN.js";import R from"./AddUnitModal-DysqPgI-.js";import _ from"./EditUnitModal-D5pCyMks.js";import{T as A,a as I,b as h,c as i,d as $,e as r,Q as E,S as C}from"./table-CoXcUsfO.js";import"./index-D2bQdgC6.js";import"./dialog-CugJoFbM.js";import"./label-zTonPR_o.js";const O=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function W({units:m,rooms:j}){const[c,N]=l.useState(""),[t,d]=l.useState(1),[b,u]=l.useState(null),n=10,{delete:v}=S(),p=l.useMemo(()=>m.filter(s=>s.unit_code.toLowerCase().includes(c.toLowerCase())),[m,c]),f=Math.ceil(p.length/n),g=p.slice((t-1)*n,t*n),w=s=>{const a=O.find(x=>x.label.toLowerCase()===s.toLowerCase());return a?a.color:"bg-muted"};return e.jsxs(y,{children:[e.jsx(B,{}),e.jsxs(P,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(T,{}),e.jsx(L,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(M,{children:e.jsx(k,{children:e.jsx(z,{children:e.jsx(D,{href:"/admin/rooms",children:"Room Lists"})})})})]}),e.jsxs("main",{className:"w-full px-6 py-4",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"System Units"}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Search Unit Code...",className:"border rounded px-3 py-2 w-64",value:c,onChange:s=>{N(s.target.value),d(1)}}),e.jsx(R,{rooms:j})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(A,{children:[e.jsx(I,{children:e.jsxs(h,{children:[e.jsx(i,{children:"#"}),e.jsx(i,{children:"Unit Code"}),e.jsx(i,{children:"Processor"}),e.jsx(i,{children:"RAM"}),e.jsx(i,{children:"Storage"}),e.jsx(i,{children:"GPU"}),e.jsx(i,{children:"Motherboard"}),e.jsx(i,{children:"Condition"}),e.jsx(i,{children:"QR Code"}),e.jsx(i,{children:"Actions"})]})}),e.jsx($,{children:g.length>0?g.map((s,a)=>e.jsxs(h,{children:[e.jsx(r,{children:(t-1)*n+a+1}),e.jsx(r,{children:s.unit_code}),e.jsx(r,{children:s.processor}),e.jsx(r,{children:s.ram}),e.jsx(r,{children:s.storage}),e.jsx(r,{children:s.gpu}),e.jsx(r,{children:s.motherboard}),e.jsx(r,{children:s.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:U("inline-block w-3 h-3 rounded-full",w(s.condition))}),e.jsx("span",{className:"capitalize",children:s.condition})]})}),e.jsx(r,{children:e.jsx("div",{className:"w-20 h-20",children:e.jsx(E,{value:`${window.location.origin}/equipment/${s.unit_code}`,size:64})})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{size:"sm",variant:"secondary",onClick:()=>u(s),children:"Edit"}),e.jsx(o,{size:"sm",variant:"destructive",onClick:()=>{C.fire({title:`Delete ${s.unit_code}?`,text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(x=>{x.isConfirmed&&(v(`/system-units/${s.id}`),C.fire("Deleted!",`Unit ${s.unit_code} has been deleted.`,"success"))})},children:"Delete"})]})})]},s.id)):e.jsx(h,{children:e.jsx(r,{colSpan:10,className:"text-center py-4",children:"No matching units found."})})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",f]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{size:"sm",variant:"outline",disabled:t===1,onClick:()=>d(s=>s-1),children:"Previous"}),e.jsx(o,{size:"sm",variant:"outline",disabled:t===f,onClick:()=>d(s=>s+1),children:"Next"})]})]}),b&&e.jsx(_,{unit:b,rooms:j,onClose:()=>u(null)})]})]})]})}export{W as default};
