import{u as B,r as j,j as e,H as P}from"./app-BvBd1GnC.js";import{B as w}from"./button-CdkOSgzJ.js";import{C as A,c as I}from"./card-FpVxRCYl.js";import{I as l}from"./input-BwOZc7Zq.js";import{L as t}from"./label-CdRIet5H.js";import{S as E,a as F,b as D,c as M}from"./avatar-DqCZNyzw.js";import{A as T}from"./app-sidebar-CXPjgdp6.js";import{S as b}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{B as R,a as U,b as L,c as d,d as g}from"./breadcrumb-CV0RqJMr.js";import{S as n,a as c,b as m,c as p,d as h}from"./select-C-VRlBsC.js";import"./index-LbrfRVPk.js";import"./utils-CBfrqCZ4.js";import"./index-DehNsO9t.js";import"./index-BFcwglcI.js";import"./createLucideIcon-Cv1oO-Fl.js";import"./index-DvOpYEn3.js";import"./index-DyOr2Q4q.js";import"./dropdown-menu-BUQvar8H.js";import"./index-Q3iTcOAL.js";import"./chevron-right-Cs5U5o47.js";import"./index-CoVr6EPs.js";import"./index-Cb-Ljacu.js";import"./sparkles-D46oAnC7.js";import"./bell-DkAvZl62.js";import"./keyboard-NQiNEgJp.js";import"./boxes-BwU1BbTo.js";import"./users-BEBo_sYW.js";import"./user-DeS9jc4o.js";import"./chevron-down-aIWWTnPz.js";import"./index-CsNJ2CsO.js";const V=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function be({existingRooms:v=[],existingUnits:x=[],existingBrands:f=[],existingModels:S=[]}){const{data:i,setData:s,post:_,processing:N,errors:a,reset:C}=B({type:"",brand:"",model:"",serial_number:"",condition:"",condition_details:"",room_id:"",unit_id:""}),[y,u]=j.useState([]);j.useEffect(()=>{if(i.room_id){const r=x.filter(o=>String(o.room_id)===String(i.room_id));u(r),r.find(o=>o.id===i.unit_id)||s("unit_id","")}else u([]),s("unit_id","")},[i.room_id,x]);const O=r=>{r.preventDefault(),_("/admin/peripherals",{onSuccess:()=>{C(),b.fire({icon:"success",title:"Peripheral Added",text:"The peripheral has been added successfully!",showConfirmButton:!1,timer:2e3})},onError:()=>{b.fire({icon:"error",title:"Error",text:"Something went wrong. Please check your inputs."})}})};return e.jsxs(E,{children:[e.jsx(P,{title:"Add Peripheral"}),e.jsx(T,{}),e.jsxs(F,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(D,{}),e.jsx(M,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(R,{children:e.jsx(U,{children:e.jsxs(L,{children:[e.jsx(d,{href:"#",children:"Assets"}),e.jsx(g,{}),e.jsx(d,{href:"/admin/peripherals",children:"Peripherals"}),e.jsx(g,{}),e.jsx(d,{href:"/admin/peripherals/create",className:"font-semibold text-foreground",children:"Add Peripheral"})]})})})]}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5 text-center",children:"Add Peripheral"}),e.jsx(A,{className:"max-w-4xl mx-auto",children:e.jsx(I,{children:e.jsxs("form",{onSubmit:O,className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"room",children:"Room"}),e.jsxs(n,{value:i.room_id,onValueChange:r=>s("room_id",r),children:[e.jsx(c,{children:e.jsx(m,{placeholder:"-- Select Room --"})}),e.jsx(p,{children:v.map(r=>e.jsxs(h,{value:r.id.toString(),children:["ROOM ",r.room_number]},r.id))})]}),a.room_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.room_id})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"unit",children:"Unit Code"}),e.jsxs(n,{value:i.unit_id,onValueChange:r=>s("unit_id",r),disabled:!i.room_id,children:[e.jsx(c,{children:e.jsx(m,{placeholder:"-- Select Unit --"})}),e.jsx(p,{children:y.map(r=>e.jsx(h,{value:r.id.toString(),children:r.unit_code},r.id))})]}),a.unit_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.unit_id})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Type"}),e.jsx(l,{list:"typeOptions",value:i.type,onChange:r=>s("type",r.target.value),placeholder:"e.g. Mouse, Keyboard"}),e.jsxs("datalist",{id:"typeOptions",children:[e.jsx("option",{value:"Mouse"}),e.jsx("option",{value:"Keyboard"}),e.jsx("option",{value:"Monitor"}),e.jsx("option",{value:"Printer"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Brand"}),e.jsx(l,{list:"brandOptions",value:i.brand,onChange:r=>s("brand",r.target.value),placeholder:"Select or type brand"}),e.jsx("datalist",{id:"brandOptions",children:f.map(r=>e.jsx("option",{value:r},r))})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Model"}),e.jsx(l,{list:"modelOptions",value:i.model,onChange:r=>s("model",r.target.value),placeholder:"Select or type model"}),e.jsx("datalist",{id:"modelOptions",children:S.map(r=>e.jsx("option",{value:r},r))})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Serial Number"}),e.jsx(l,{value:i.serial_number,onChange:r=>s("serial_number",r.target.value),placeholder:"Enter serial number"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Condition"}),e.jsxs(n,{value:i.condition,onValueChange:r=>s("condition",r),children:[e.jsx(c,{children:e.jsx(m,{placeholder:"-- Select Condition --"})}),e.jsx(p,{children:V.map(r=>e.jsx(h,{value:r.label,children:r.label},r.label))})]})]}),e.jsxs("div",{className:"col-span-1 gap-2",children:[e.jsx(t,{children:"Condition Details"}),e.jsx(l,{value:i.condition_details,onChange:r=>s("condition_details",r.target.value),placeholder:"Enter details about the condition (e.g., minor scratches, not detecting input, etc.)"}),a.condition_details&&e.jsx("p",{className:"text-sm text-red-500",children:a.condition_details})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(w,{type:"submit",disabled:N,className:"bg-[hsl(142,31%,51%)] hover:bg-[hsl(142,31%,45%)] text-white font-medium",children:"Submit"})})]})})})]})]})]})}export{be as default};
