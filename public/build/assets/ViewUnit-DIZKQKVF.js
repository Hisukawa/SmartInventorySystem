import{r as c,j as e,H as y}from"./app-DnhSTYMc.js";import{A as U}from"./app-sidebar-CZ4XPuOV.js";import{S as _,a as B,b as L,c as Q}from"./avatar-BwtZUsIP.js";import{B as p}from"./button-Ba9wDvb-.js";import{Q as g}from"./index-BTvQxFcs.js";import{B as $,a as D,b as z,c as d,d as j}from"./breadcrumb-HmwUSiyB.js";import{D as A,a as O,b as T,c as H}from"./dialog-DPXkm5Ej.js";import"./dropdown-menu-DPP00dhm.js";import"./utils-DfDtH4tS.js";import"./index-CI1-pXCx.js";import"./index-C3iF-Z3n.js";import"./index-C0MvBYPa.js";import"./index--7PIk356.js";import"./chevron-right-CbhCBZwL.js";import"./sparkles-ChDmPb4A.js";import"./bell-Gi7qgr0z.js";import"./keyboard-XcR62eKH.js";import"./boxes-D0fked6k.js";import"./file-text-C8vRzBEA.js";import"./users-DgODjWHS.js";import"./chevron-down-uD-J400l.js";import"./input-DJ40QzP4.js";import"./index-Bt44Iaz7.js";import"./index-C-79Cnyh.js";import"./index-Dlh7fOwK.js";function pe({unit:s}){const[o,f]=c.useState(null),[u,l]=c.useState(!1),[b,a]=c.useState(!1),m=window.location.origin,x=s.room?.room_number==="103"?`${m}/unit/isu-ilagan/ict-department/room-103/${s.unit_code}`:`${m}/unit/isu-ilagan/ict-department/room-${s.room?.room_number}/${s.unit_code}`,v=()=>{f(x),l(!0),a(!1)},w=async()=>{if(o)try{await navigator.clipboard.writeText(o),a(!0),setTimeout(()=>a(!1),2e3)}catch(r){console.error("Failed to copy: ",r)}},S=()=>{if(!o)return;const r=document.createElement("canvas"),R=document.querySelector("#modal-qr svg"),C=new XMLSerializer().serializeToString(R),i=new Image,N=new Blob([C],{type:"image/svg+xml;charset=utf-8"}),h=URL.createObjectURL(N);i.onload=()=>{r.width=i.width+40,r.height=i.height+40+40;const t=r.getContext("2d");t.fillStyle="#fff",t.fillRect(0,0,r.width,r.height),t.drawImage(i,20,20),t.fillStyle="#000",t.font="bold 20px Arial",t.textAlign="center",t.fillText(`Room 103 - ${s.unit_code}`,r.width/2,i.height+20+30),URL.revokeObjectURL(h);const k=`ROOM-103_${s.unit_code}.png`,n=document.createElement("a");n.download=k,n.href=r.toDataURL("image/png"),n.click()},i.src=h};return e.jsxs(_,{children:[e.jsx(U,{}),e.jsxs(B,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(L,{}),e.jsx(Q,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx($,{children:e.jsx(D,{children:e.jsxs(z,{children:[e.jsx(d,{href:"#","aria-current":"page",children:"Assets"}),e.jsx(j,{}),e.jsx(d,{href:"/admin/system-units",children:"System Unit Lists"}),e.jsx(j,{}),e.jsx(d,{href:`/system-units/view/${s.unit_code}`,"aria-current":"page",className:"font-semibold text-foreground",children:"View Unit"})]})})})]}),e.jsx(y,{title:`View ${s.unit_code}`}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"System Unit Information"}),e.jsxs("div",{className:"bg-white shadow rounded p-6 max-w-3xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Unit Code:"})," ",s.unit_code]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Processor:"})," ",s.processor]}),e.jsxs("div",{children:[e.jsx("strong",{children:"RAM:"})," ",s.ram]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Storage:"})," ",s.storage]}),e.jsxs("div",{children:[e.jsx("strong",{children:"GPU:"})," ",s.gpu]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Motherboard:"})," ",s.motherboard]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Condition:"})," ",s.condition]}),e.jsxs("div",{className:"col-span-2 flex flex-col items-center mt-4",children:[e.jsx("div",{className:"bg-white p-2 rounded cursor-pointer hover:shadow-md transition",onClick:v,children:e.jsx(g,{value:x,size:128})}),e.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:"Scan to view public info"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(p,{variant:"secondary",onClick:()=>window.history.back(),children:"Go Back"})})]}),e.jsx(A,{open:u,onOpenChange:l,children:e.jsxs(O,{className:"flex flex-col items-center",children:[e.jsx(T,{children:e.jsxs(H,{children:["QR Code for Room 103 - ",s.unit_code]})}),o&&e.jsx("div",{id:"modal-qr",className:"cursor-pointer",onClick:w,children:e.jsx(g,{value:o,size:256})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Click QR to copy link"}),b&&e.jsx("span",{className:"text-green-600 text-sm",children:"QR code path copied!"}),e.jsx("div",{className:"mt-1 flex gap-2",children:e.jsx(p,{onClick:S,children:"Download"})})]})})]})]})}export{pe as default};
