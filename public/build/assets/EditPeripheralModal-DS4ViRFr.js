import{u as g,j as e}from"./app-Dz229Q-E.js";import{D as _,a as v,b as N,c as f}from"./dialog-C9juTO66.js";import{L as r}from"./label-DAgMKeCR.js";import{I as s}from"./input-QNUCx1ga.js";import{B as y}from"./button-CnG7IgvT.js";import{c as C}from"./createLucideIcon-Cj9YIcHQ.js";import"./index-DD_sGkrn.js";import"./index-D8iXAOGE.js";import"./index-CuBuo0AV.js";import"./index-D5CVGdXh.js";import"./index-B2XIxzk-.js";const u=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function P({peripheral:n,rooms:a=[],units:d=[],onClose:c}){const{data:t,setData:l,put:p,processing:x,errors:i}=g({type:n?.type||"",serial_number:n?.serial_number||"",condition:n?.condition||"",room_id:n?.room_id||"",unit_code:n?.unit_code||""}),h=o=>{o.preventDefault(),p(route("peripherals.update",n.id),{onSuccess:()=>c()})},b=o=>{const m=u.find(j=>j.label.toLowerCase()===o.toLowerCase());return m?m.color:"bg-gray-300"};return e.jsx(_,{open:!0,onOpenChange:o=>!o&&c(),children:e.jsxs(v,{className:"max-w-lg",children:[e.jsx(N,{children:e.jsxs(f,{children:["Edit Peripheral â€“ ",n?.peripheral_code]})}),e.jsxs("form",{onSubmit:h,className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"type",children:"Type"}),e.jsx(s,{id:"type",value:t.type,onChange:o=>l("type",o.target.value),placeholder:"e.g. Keyboard, Mouse, Monitor"}),i.type&&e.jsx("p",{className:"text-sm text-red-500",children:i.type})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"serial_number",children:"Serial Number"}),e.jsx(s,{id:"serial_number",value:t.serial_number,onChange:o=>l("serial_number",o.target.value),placeholder:"Serial Number"}),i.serial_number&&e.jsx("p",{className:"text-sm text-red-500",children:i.serial_number})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"condition",children:"Condition"}),e.jsx(s,{id:"condition",list:"condition-options",value:t.condition,onChange:o=>l("condition",o.target.value),placeholder:"Type or select"}),e.jsx("datalist",{id:"condition-options",children:u.map(o=>e.jsx("option",{value:o.label},o.label))}),t.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:C("inline-block w-3 h-3 rounded-full",b(t.condition))}),e.jsx("span",{className:"capitalize",children:t.condition})]}),i.condition&&e.jsx("p",{className:"text-sm text-red-500",children:i.condition})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"room_id",children:"Room"}),e.jsxs("select",{id:"room_id",className:"w-full border rounded-md p-2",value:t.room_id,onChange:o=>l("room_id",o.target.value),children:[e.jsx("option",{value:"",children:"Select Room"}),a.length>0?a.map(o=>e.jsxs("option",{value:o.id,children:[o.room_number," "]},o.id)):e.jsx("option",{disabled:!0,children:"No rooms available"})]}),i.room_id&&e.jsx("p",{className:"text-sm text-red-500",children:i.room_id})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"unit_code",children:"Unit Code"}),e.jsxs("select",{id:"unit_code",className:"w-full border rounded-md p-2",value:t.unit_code,onChange:o=>l("unit_code",o.target.value),children:[e.jsx("option",{value:"",children:"Select Unit"}),d.length>0?d.map(o=>e.jsxs("option",{value:o.unit_code,children:[o.unit_code," "]},o.unit_code)):e.jsx("option",{disabled:!0,children:"No units available"})]}),i.unit_code&&e.jsx("p",{className:"text-sm text-red-500",children:i.unit_code})]}),e.jsx(y,{type:"submit",disabled:x,children:"Update"})]})]})})}export{P as default};
