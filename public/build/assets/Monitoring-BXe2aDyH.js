import{r as t,j as e,H as p,a as x}from"./app-17WhZ7OI.js";import{S as h,a as g,b as u,c as b}from"./index-BqQOOlRT.js";import{A as j}from"./app-sidebar-DkFEKkPu.js";import{B as f,a as N,b as y,c as o,d as v}from"./breadcrumb-CR6yeljz.js";import"./createLucideIcon-BF10yrbk.js";import"./index-BQ6K2wNS.js";import"./index-Sd3AbxoX.js";import"./index-CET0SBqx.js";import"./index-R5FWs99S.js";import"./button-CQSV0Qwk.js";import"./input-lSWNmX9o.js";import"./index-yekILgXq.js";import"./dropdown-menu-axrzzC2q.js";import"./index-CoNsTCp_.js";import"./chevron-right-DxdZK8iC.js";import"./index-B1i-KknK.js";function F({children:S}){const[i,d]=t.useState([]),[a,n]=t.useState(1),[r,l]=t.useState(1),m=10,c=async()=>{try{const s=await x.get(`/api/admin/rooms-status?page=${a}&per_page=${m}`);d(s.data.data),l(s.data.meta.total_pages)}catch(s){console.error("Failed to fetch rooms:",s)}};return t.useEffect(()=>{c();const s=setInterval(c,5e3);return()=>clearInterval(s)},[a]),e.jsxs(h,{children:[e.jsx(p,{children:e.jsx("title",{children:"Dashboard"})}),e.jsx(j,{}),e.jsxs(g,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(u,{}),e.jsx(b,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(f,{children:e.jsx(N,{children:e.jsxs(y,{children:[e.jsx(o,{href:"#","aria-current":"page",children:"Reports"}),e.jsx(v,{}),e.jsx(o,{href:"/admin/rooms","aria-current":"page",className:"font-semibold text-foreground",children:"Monitoring"})]})})})]}),e.jsx("main",{className:"w-full px-6 py-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Room Monitoring"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[i.length===0&&e.jsx("p",{className:"col-span-full text-center text-gray-500",children:"No rooms found."}),i.map(s=>e.jsxs("div",{className:`p-4 rounded-lg shadow-md cursor-pointer transition-colors duration-300 ${s.is_active?"bg-green-500 text-white":"bg-gray-300 text-gray-700"}`,children:[e.jsx("h2",{className:"text-lg font-semibold",children:s.name}),e.jsxs("p",{children:["Status:"," ",s.is_active?"Active":"Inactive"]}),s.last_scanned_by&&e.jsxs("p",{className:"text-sm mt-1",children:["Used By: ",s.last_scanned_by]}),s.last_scanned_at&&e.jsxs("p",{className:"text-sm mt-1",children:["Scanned at:"," ",new Date(s.last_scanned_at).toLocaleString()]})]},s.id))]}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-2",children:[e.jsx("button",{onClick:()=>n(s=>Math.max(s-1,1)),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",disabled:a===1,children:"Prev"}),e.jsxs("span",{className:"px-4 py-2",children:["Page ",a," of ",r]}),e.jsx("button",{onClick:()=>n(s=>Math.min(s+1,r)),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",disabled:a===r,children:"Next"})]})]})})]})]})}export{F as default};
