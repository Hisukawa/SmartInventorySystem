import{r as c,j as e}from"./app-R10woM70.js";import{S as j,a as g,b,c as f}from"./avatar-BymqzAS-.js";import{A as u}from"./app-sidebar-CW1xXjS8.js";import{C as N,a as y}from"./card-piz6Go2P.js";import{T as v,a as w,b as l,c as t,d as C,e as a}from"./table-BaxaASRf.js";import{D as S,a as B,c as D}from"./dialog-BfSuK8l3.js";import{B as R}from"./button-Cf_-5Qlp.js";import{B as _,a as A,b as T,c as m,d as k}from"./breadcrumb-BMZb9MIc.js";import{C as L}from"./chevron-right-DGgvvKJ_.js";import"./index-c4gAkwMv.js";import"./utils-CBfrqCZ4.js";import"./input-BaFYG-Z9.js";import"./index-2cXhI42s.js";import"./index-vlMlJqEu.js";import"./createLucideIcon-DIKFRV_s.js";import"./index-BJUO8xHK.js";import"./dropdown-menu-D_vcpkDU.js";import"./index-BIrXRhj3.js";import"./index-DNm2Kv2Q.js";import"./index-RCUCD7fw.js";import"./house-D6z2FWmn.js";import"./user-BmwlwuQK.js";import"./log-out-7G2NgEM-.js";import"./keyboard-Y-iDu31J.js";import"./boxes-BBpHa4_B.js";import"./users-B1PQVU9x.js";import"./chevron-down-CIG8vxEZ.js";function le({auditReports:o}){const[x,n]=c.useState(!1),[r,p]=c.useState(null),h=s=>{p(s),n(!0)},i=s=>{switch(s?.toLowerCase()||""){case"working":return"bg-green-100 text-green-800";case"repaired":case"needs repair":case"intermittent issue":case"minor damage":case"intermittent connectivity":case"no signal":case"needs configuration":case"to be diagnosed":case"not working":return"bg-red-100 text-red-800";case"for replacement":case"for disposal":case"condemned":return"bg-orange-100 text-orange-800";case"needs cleaning":case"under maintenance":return"bg-blue-100 text-blue-800";case"expired":case"needs refill":case"rusting":case"needs maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(j,{children:[e.jsx(u,{}),e.jsxs(g,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{}),e.jsx(f,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(_,{children:e.jsx(A,{children:e.jsxs(T,{children:[e.jsx(m,{href:"#","aria-current":"page",children:"Reports"}),e.jsx(k,{}),e.jsx(m,{href:"/admin/audit-reports","aria-current":"page",className:"font-semibold text-foreground",children:"Audit Reports"})]})})})]})}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Audit Reports"}),e.jsx(N,{children:e.jsx(y,{className:"p-0",children:e.jsxs(v,{children:[e.jsx(w,{children:e.jsxs(l,{className:"bg-[hsl(142,34%,85%)] text-[hsl(142,34%,25%)] hover:bg-[hsl(142,34%,80%)]",children:[e.jsx(t,{children:"#"}),e.jsx(t,{children:"Resolved By"}),e.jsx(t,{children:"Old Condition"}),e.jsx(t,{children:"New Condition"}),e.jsx(t,{children:"Date Resolved"}),e.jsx(t,{})]})}),e.jsx(C,{children:o.length>0?o.map((s,d)=>e.jsxs(l,{className:"cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>h(s),children:[e.jsx(a,{children:d+1}),e.jsx(a,{children:s.resolver?.name||"N/A"}),e.jsx(a,{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-semibold ${i(s.old_condition)}`,children:s.old_condition})}),e.jsx(a,{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-semibold ${i(s.new_condition)}`,children:s.new_condition})}),e.jsx(a,{children:new Date(s.created_at).toLocaleString()}),e.jsx(a,{className:"text-gray-400",children:e.jsx(L,{size:18})})]},s.id)):e.jsx(l,{children:e.jsx(a,{colSpan:"6",className:"text-center",children:"No audit reports found."})})})]})})}),e.jsx(S,{open:x,onOpenChange:n,children:e.jsx(B,{className:"max-w-lg w-full",children:r&&e.jsxs("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-[hsl(142,34%,25%)] p-4",children:e.jsx(D,{className:"text-white text-lg font-bold",children:"Audit Report Details"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold",children:"Report ID:"}),e.jsx("p",{className:"text-gray-800 font-medium",children:r.report_id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold",children:"Resolved By:"}),e.jsx("p",{className:"text-gray-800 font-medium",children:r.resolver?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold",children:"Old Condition:"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-semibold ${i(r.old_condition)}`,children:r.old_condition})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold",children:"New Condition:"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-semibold ${i(r.new_condition)}`,children:r.new_condition})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("p",{className:"text-gray-500 font-semibold",children:"Details:"}),e.jsx("p",{className:"text-gray-800",children:r.details||"-"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("p",{className:"text-gray-500 font-semibold",children:"Date Resolved:"}),e.jsx("p",{className:"text-gray-800",children:new Date(r.created_at).toLocaleString()})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(R,{onClick:()=>n(!1),className:"bg-[hsl(142,34%,25%)] text-white hover:bg-[hsl(142,34%,20%)]",children:"Close"})})]})]})})})]})]})]})}export{le as default};
