import{u as h,j as o}from"./app-D66YSj8a.js";import{D as x,a as b,b as j,c as v}from"./dialog-BRPSOF8X.js";import{L as C}from"./label-DPTqV26o.js";import{I as n,c as f,B as D}from"./input-B3xxVwwu.js";import"./index-B3MCN-92.js";import"./index-CTpziBGc.js";const d=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function w({unit:a,rooms:N,onClose:s}){const{data:r,setData:t,put:c,processing:g,errors:l}=h({unit_code:a.unit_code,processor:a.processor,ram:a.ram,storage:a.storage,gpu:a.gpu,motherboard:a.motherboard,condition:a.condition,room_id:a.room_id}),p=e=>{e.preventDefault(),c(`/system-units/${a.id}`,{onSuccess:()=>{s()}})},m=e=>{const i=d.find(u=>u.label.toLowerCase()===e.toLowerCase());return i?i.color:"bg-gray-300"};return o.jsx(x,{open:!0,onOpenChange:e=>!e&&s(),children:o.jsxs(b,{children:[o.jsx(j,{children:o.jsxs(v,{children:["Edit Unit - ",a.unit_code]})}),o.jsxs("form",{onSubmit:p,className:"grid gap-4",children:[o.jsx(n,{value:r.unit_code,onChange:e=>t("unit_code",e.target.value),placeholder:"Unit Code"}),o.jsx(n,{value:r.processor,onChange:e=>t("processor",e.target.value),placeholder:"Processor"}),o.jsx(n,{value:r.ram,onChange:e=>t("ram",e.target.value),placeholder:"RAM"}),o.jsx(n,{value:r.storage,onChange:e=>t("storage",e.target.value),placeholder:"Storage"}),o.jsx(n,{value:r.gpu,onChange:e=>t("gpu",e.target.value),placeholder:"GPU"}),o.jsx(n,{value:r.motherboard,onChange:e=>t("motherboard",e.target.value),placeholder:"Motherboard"}),o.jsxs("div",{children:[o.jsx(C,{htmlFor:"condition",children:"Condition"}),o.jsx(n,{id:"condition",list:"condition-options",value:r.condition,onChange:e=>t("condition",e.target.value),placeholder:"Type or select"}),o.jsx("datalist",{id:"condition-options",children:d.map(e=>o.jsx("option",{value:e.label},e.label))}),r.condition&&o.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[o.jsx("span",{className:f("inline-block w-3 h-3 rounded-full",m(r.condition))}),o.jsx("span",{className:"capitalize",children:r.condition})]}),l.condition&&o.jsx("p",{className:"text-sm text-red-500",children:l.condition})]}),o.jsx(D,{type:"submit",disabled:g,children:"Update"})]})]})})}export{w as default};
