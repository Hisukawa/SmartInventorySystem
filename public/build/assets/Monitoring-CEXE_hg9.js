import{r as a,j as e,H as m,c as x}from"./app-CyrbiNdg.js";import{S as h,a as p,b as u,c as g}from"./index-uHsZvG3A.js";import{A as j}from"./app-sidebar-qcPgYl9B.js";import{N as b}from"./Notification-CxtVgMF1.js";import{B as f,a as N,b as v,c as _}from"./breadcrumb-BAE733IW.js";import"./createLucideIcon-DBhGLidD.js";import"./index-DjgBdIzQ.js";import"./index-CpfQ5s7P.js";import"./index-Bgzq-DPE.js";import"./button-wEPw9L55.js";import"./input-DlZKAoGI.js";import"./index-vIN1hHum.js";import"./dropdown-menu-BiFHqDLl.js";import"./index-CilD059N.js";import"./chevron-right-C9BoSuti.js";import"./index-CkhSZtGD.js";function T({children:F}){const[n,l]=a.useState([]),[t,i]=a.useState(1),[r,d]=a.useState(1),o=10,c=async()=>{try{const s=await x.get(`/api/admin/rooms-status?page=${t}&per_page=${o}`);l(s.data.data),d(s.data.meta.total_pages)}catch(s){console.error("Failed to fetch rooms:",s)}};return a.useEffect(()=>{c();const s=setInterval(c,5e3);return()=>clearInterval(s)},[t]),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx("title",{children:"Dashboard"})}),e.jsx(j,{}),e.jsxs(p,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(u,{}),e.jsx(g,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(f,{children:e.jsx(N,{children:e.jsx(v,{children:e.jsx(_,{href:"/admin/rooms","aria-current":"page",className:"font-semibold text-foreground",children:"Monitoring"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(b,{})]}),e.jsx("main",{className:"w-full px-6 py-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Room Monitoring"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[n.length===0&&e.jsx("p",{className:"col-span-full text-center text-gray-500",children:"No rooms found."}),n.map(s=>e.jsxs("div",{className:"p-4 rounded-lg shadow-md cursor-pointer transition-colors duration-300 bg-[#0B6623] border-2 text-white",children:[s.last_scanned_user?.photo?e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("img",{src:s.last_scanned_user.photo,alt:s.last_scanned_user.name,className:"w-40 h-40 rounded-full object-cover border-2 border-[#FFD700]"})}):e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"w-40 h-40 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 border-2 border-[#FFD700]",children:"No Photo"})}),e.jsx("h2",{className:"text-center text-lg font-semibold mb-1 text-[#FFD700]",children:s.name}),e.jsxs("p",{className:"text-center text-sm",children:["Status:"," ",e.jsx("span",{className:`font-semibold ${s.is_active?"text-[#FFD700]":"text-[#FF4500]"}`,children:s.is_active?"Active":"Inactive"})]})," "," ",s.is_active&&e.jsxs(e.Fragment,{children:[s.last_scanned_user&&e.jsxs("p",{className:"text-center text-sm mt-2",children:["Used By:"," ",s.last_scanned_user.name," ","(",s.last_scanned_user.role,")"]}),s.last_scanned_at&&e.jsxs("p",{className:"text-center text-xs text-gray-300 mt-1",children:["Scanned at:"," ",new Date(s.last_scanned_at).toLocaleString()]})]})]},s.id))]}),e.jsxs("div",{className:"flex justify-center mt-6 space-x-2",children:[e.jsx("button",{onClick:()=>i(s=>Math.max(s-1,1)),className:"px-4 py-2 bg-[#FFD700] text-[#006400] rounded hover:bg-[#DAA520]",disabled:t===1,children:"Prev"}),e.jsxs("span",{className:"px-4 py-2 text-white",children:["Page ",t," of ",r]}),e.jsx("button",{onClick:()=>i(s=>Math.min(s+1,r)),className:"px-4 py-2 bg-[#FFD700] text-[#006400] rounded hover:bg-[#DAA520]",disabled:t===r,children:"Next"})]})]})})]})]})}export{T as default};
