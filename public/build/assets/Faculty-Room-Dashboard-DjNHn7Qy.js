import{j as e,r as d,H as g,L as m,a as b}from"./app-xTpBH0rE.js";import{C as f,b as p,c as y,a as j,d as v}from"./card-CuroCPDs.js";import{c as w}from"./button-DtflNjDw.js";import{c as N}from"./createLucideIcon-aJRNxbHQ.js";import{B as k,a as R,b as x}from"./breadcrumb-BBMBLqBB.js";import{T as C,a as T,b as i,c as _,d as F,e as u}from"./table-l7CRTkiL.js";import B from"./FacultyDashboard-CODN4TIk.js";import"./index-CNanvGoH.js";import"./chevron-right-BxE4pq5t.js";import"./index-S7mPvjW1.js";import"./index-CT7h3Xib.js";import"./index-BfmlpeBR.js";import"./index-0TSx_UWC.js";import"./input-BMwmLNmj.js";import"./index-CFn04BSk.js";import"./dropdown-menu-CO9DCADh.js";import"./index-ClDtpkw3.js";import"./index-lOZaeiG1.js";const H=w("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function D({className:t,variant:s,...a}){return e.jsx("div",{className:N(H({variant:s}),t),...a})}function I(){const[t,s]=d.useState([]),[a,o]=d.useState(null),l=async()=>{try{const r=await b.get("/faculty/rooms-status");s(r.data.data)}catch(r){console.error("Failed to fetch rooms:",r)}};d.useEffect(()=>{l();const r=setInterval(l,5e3);return()=>clearInterval(r)},[]);const h=r=>{a&&a.id===r.id?o(null):o(r)},c=({room:r})=>e.jsxs("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-xl shadow-md w-full md:max-w-xl md:mx-auto",children:[e.jsxs("h2",{className:"text-lg md:text-2xl font-semibold mb-4 text-gray-900 dark:text-white",children:["Faculty in Room ",r.room_number]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 dark:border-gray-700",children:e.jsxs(C,{className:"w-full text-sm",children:[e.jsx(T,{className:"bg-gray-100 dark:bg-gray-700",children:e.jsx(i,{children:e.jsx(_,{className:"px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Faculty Name"})})}),e.jsx(F,{children:r.faculties&&r.faculties.length>0?r.faculties.map(n=>e.jsx(i,{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:e.jsx(u,{className:"px-4 py-2 whitespace-nowrap text-gray-900 dark:text-gray-100",children:n.name})},n.id)):e.jsx(i,{children:e.jsx(u,{colSpan:1,className:"px-4 py-3 text-center text-gray-500 dark:text-gray-400",children:"No faculty assigned to this room."})})})]})})]});return e.jsxs(e.Fragment,{children:[e.jsx(g,{children:e.jsx("title",{children:"Faculty Rooms"})}),e.jsx("div",{className:"mb-6",children:e.jsx(k,{children:e.jsxs(R,{children:[e.jsx(x,{children:e.jsx(m,{href:"/faculty/dashboard",className:"font-semibold text-foreground dark:text-gray-200",children:"Dashboard"})}),e.jsx(x,{children:e.jsx(m,{href:"/faculty/faculty-room-dashboard",className:"font-semibold text-foreground dark:text-gray-200",children:"Rooms"})})]})})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 mb-10",children:t.map(r=>e.jsxs("div",{className:"w-full",children:[e.jsxs(f,{onClick:()=>h(r),className:`cursor-pointer rounded-2xl transition-all duration-200 ease-in-out shadow-md 
                                hover:scale-[1.02] hover:shadow-lg
                                ${r.is_active?"bg-green-600 border border-green-700 text-white":"bg-white border border-gray-300 text-gray-900"}`,children:[e.jsxs(p,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(y,{className:`text-lg md:text-xl font-semibold ${r.is_active?"text-white":"text-gray-900"}`,children:r.room_number}),e.jsx(D,{className:`px-3 py-1 text-xs font-medium rounded-full ${r.is_active?"bg-white text-green-700":"bg-gray-500 text-white"}`,children:r.is_active?"Active":"Inactive"})]}),e.jsx(j,{children:e.jsx(v,{className:`text-sm ${r.is_active?"text-green-100":"text-gray-700"}`,children:"Tap to view faculty details"})})]}),a&&a.id===r.id&&e.jsx("div",{className:"block md:hidden",children:e.jsx(c,{room:a})})]},r.id))}),a&&e.jsx("div",{className:"hidden md:block",children:e.jsx(c,{room:a})})]})}I.layout=t=>e.jsx(B,{children:t});export{I as default};
