import{r as s,j as e,H as d,c as o}from"./app-BspBoVLj.js";import{S as m,a as x,b as p,c as h}from"./avatar-Cn7juoxD.js";import{A as g}from"./app-sidebar-pEzaVf9W.js";import{N as u}from"./Notification-Cjxy831N.js";import{C as f,b,c as j,a as v}from"./card-CPbFJpKu.js";import{B as N,a as _,b as y,c as w}from"./breadcrumb-lu-ZXrGu.js";import{B as S}from"./badge-WWlluJSl.js";import"./utils-CGZYKiJE.js";import"./index-7t4Kha0i.js";import"./index-DazmWLnE.js";import"./button-nEGy-Tvv.js";import"./input-Dhk1TQv0.js";import"./index-Dw8YL-uq.js";import"./index-4mYg_PsO.js";import"./dropdown-menu-Btp35w_w.js";import"./index-CmBAzxYO.js";import"./chevron-right-C3CnR4PJ.js";import"./index-HEjLux-k.js";import"./index-DlEJG45v.js";import"./sparkles-DQjGELTC.js";import"./keyboard-J1wJJM9o.js";import"./user-Bbsq8BUw.js";import"./file-text-B2UJJIGo.js";import"./users-Dba9jg26.js";import"./chevron-down-fO4XE9Ea.js";function ee({children:C}){const[a,n]=s.useState([]),[r,B]=s.useState(1),[P,c]=s.useState(1),l=10,i=async()=>{try{const t=await o.get(`/api/admin/rooms-status?page=${r}&per_page=${l}`);n(t.data.data),c(t.data.meta.total_pages)}catch(t){console.error("Failed to fetch rooms:",t)}};return s.useEffect(()=>{i();const t=setInterval(i,5e3);return()=>clearInterval(t)},[r]),e.jsxs(m,{children:[e.jsx(d,{children:e.jsx("title",{children:"Dashboard"})}),e.jsx(g,{}),e.jsxs(x,{children:[e.jsx("header",{className:"sticky top-0 z-20 bg-white border-b px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{}),e.jsx(h,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(N,{children:e.jsx(_,{children:e.jsx(y,{children:e.jsx(w,{href:"/admin/monitoring","aria-current":"page",className:"font-semibold text-foreground",children:"Monitoring"})})})}),e.jsx("div",{className:"flex-1"}),e.jsx(u,{})]})}),e.jsx("main",{className:"w-full px-6 py-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Room Monitoring"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[a.length===0&&e.jsx("p",{className:"col-span-full text-center text-gray-500",children:"No rooms found."}),a.map(t=>e.jsxs(f,{className:`rounded-2xl transition-all duration-200 ease-in-out shadow-md 
              hover:scale-[1.02] hover:shadow-lg
              ${t.is_active?"bg-[#59AC77]  border border-green-700 text-white":"bg-[#59AC77]  border border-gray-300 text-gray-900"}`,children:[e.jsxs(b,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(j,{className:`text-lg md:text-xl font-semibold ${t.is_active?"text-white":"text-gray-900"}`,children:t.name}),e.jsx(S,{className:`px-3 py-1 text-xs font-medium rounded-full ${t.is_active?"bg-white text-green-700":"bg-gray-500 text-white"}`,children:t.is_active?"Active":"Inactive"})]}),e.jsx(v,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[t.is_active&&t.last_scanned_user?.photo?e.jsx("img",{src:t.last_scanned_user.photo,alt:t.last_scanned_user.name,className:"w-20 h-20 rounded-full object-cover border-2 border-green-500"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-sm border-2 border-gray-300",children:"No Photo"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`font-medium ${t.is_active?"text-white":"text-gray-900"}`,children:t.is_active&&t.last_scanned_user?t.last_scanned_user.name:"No Faculty"}),e.jsx("span",{className:`text-xs ${t.is_active?"text-green-100":"text-gray-600"}`,children:t.is_active&&t.last_scanned_at?new Date(t.last_scanned_at).toLocaleString():"Not yet scanned"})]})]})})]},t.id))]})]})})]})]})}export{ee as default};
