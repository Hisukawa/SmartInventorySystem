import{r as d,j as e,H as Q}from"./app-B0ElCXrB.js";import{A as D}from"./app-sidebar-DNbuQ6tr.js";import{S as T,a as $,b as L,c as I}from"./avatar-CdkPcV_j.js";import{B as f}from"./button-B1aBu1rQ.js";import{C as P,b as _,c as z,a as H}from"./card-DCaiW0R4.js";import{Q as u}from"./index-BTe2CktZ.js";import{B as M,a as O,b as U,c as m,d as N}from"./breadcrumb-CQjoxxNW.js";import{D as q,a as E,b as V,c as F}from"./dialog-ZddOhjPT.js";import{Q as G}from"./qr-code-Duwv27PJ.js";import{C as X}from"./cpu-B76YXCQP.js";import{B as J,T as K}from"./triangle-alert-CiMac_bk.js";import{M as x}from"./monitor-Qh16VCXq.js";import{B as W}from"./barcode-DZgVVlQo.js";import{C as Y}from"./circle-check-DxFOtxCo.js";import{I as w}from"./info-BdWLJMk7.js";import"./dropdown-menu-wX5B-Vos.js";import"./index-DOK5PBJ1.js";import"./index-DBqFQRs9.js";import"./index-Bw859MTn.js";import"./index-BLjJ5epe.js";import"./createLucideIcon-DFHQ35hx.js";import"./utils-CBfrqCZ4.js";import"./chevron-right-DpS6ww6i.js";import"./house-BT_FwIEM.js";import"./user-CP0vqWNT.js";import"./log-out-DiilUuf-.js";import"./keyboard-DeLtDYyr.js";import"./boxes-Bd8gwRwE.js";import"./users-BFNCHoSa.js";import"./chevron-down-B6so37Y0.js";import"./input-CbiKJPFp.js";import"./index-9s9kbW9g.js";import"./index-DSMcb-2X.js";import"./index-Dp2Owpb-.js";function Pe({peripheral:s}){const[n,b]=d.useState(null),[C,h]=d.useState(!1),[v,l]=d.useState(!1),t=s?.peripheral_code||"N/A",R=s?.unit?.unit_code||"N/A",o=s?.room?.room_number||"N/A",p=`${window.location.origin}/peripherals/${t}`,y=()=>{b(p),h(!0),l(!1)},S=async()=>{if(n)try{await navigator.clipboard.writeText(n),l(!0),setTimeout(()=>l(!1),2e3)}catch(a){console.error("Failed to copy: ",a)}},k=()=>{if(!n)return;const a=document.createElement("canvas"),g=document.querySelector("#modal-qr svg");if(!g)return;const B=new XMLSerializer().serializeToString(g),r=new Image,A=new Blob([B],{type:"image/svg+xml;charset=utf-8"}),j=URL.createObjectURL(A);r.onload=()=>{a.width=r.width+40,a.height=r.height+40+50;const i=a.getContext("2d");i.fillStyle="#fff",i.fillRect(0,0,a.width,a.height),i.drawImage(r,20,20),i.fillStyle="#000",i.font="bold 18px Arial",i.textAlign="center",i.fillText(`Room ${o} - ${t}`,a.width/2,r.height+20+30),URL.revokeObjectURL(j);const c=document.createElement("a");c.download=`ROOM-${o}_${t}.png`,c.href=a.toDataURL("image/png"),c.click()},r.src=j};return e.jsxs(T,{children:[e.jsx(D,{}),e.jsxs($,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(L,{}),e.jsx(I,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(M,{children:e.jsx(O,{children:e.jsxs(U,{children:[e.jsx(m,{href:"#",children:"Assets"}),e.jsx(N,{}),e.jsx(m,{href:"/admin/peripherals",children:"Peripherals"}),e.jsx(N,{}),e.jsx(m,{href:`/admin/peripherals/${t}`,className:"font-semibold text-foreground",children:"View Peripheral"})]})})})]}),e.jsx(Q,{title:`View ${t}`}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Peripheral Information"}),e.jsxs(P,{className:"max-w-4xl mx-auto shadow-lg rounded-2xl",children:[e.jsx(_,{className:"bg-[hsl(142,34%,51%)] text-white border-none text-center",children:e.jsx(z,{className:"text-lg",children:"Peripheral Details"})}),e.jsxs(H,{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 py-5 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Peripheral Code:"}),e.jsx("span",{children:t})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Unit Code:"}),e.jsx("span",{children:R})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Room:"}),e.jsx("span",{children:o})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Type:"}),e.jsx("span",{children:s?.type||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Brand:"}),e.jsx("span",{children:s?.brand||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Model:"}),e.jsx("span",{children:s?.model||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Serial Number:"}),e.jsx("span",{children:s?.serial_number||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s?.condition==="Functional"?e.jsx(Y,{className:"w-5 h-5 text-green-600"}):s?.condition==="Needs Repair"?e.jsx(K,{className:"w-5 h-5 text-yellow-600"}):e.jsx(w,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium",children:"Condition:"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium text-white ${s?.condition==="Functional"?"bg-green-500":s?.condition==="Needs Repair"?"bg-yellow-500":"bg-gray-500"}`,children:s?.condition||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:col-span-2",children:[e.jsx(w,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Condition Details:"}),e.jsx("span",{children:s?.condition_details||"No details"})]})]}),e.jsxs("div",{className:"flex flex-col items-center py-6 bg-white rounded-b-2xl",children:[e.jsx("div",{className:"bg-white p-3 rounded-lg shadow cursor-pointer hover:shadow-lg transition",onClick:y,children:e.jsx(u,{value:p,size:128})}),e.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:"Scan to view public info"})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(f,{variant:"secondary",onClick:()=>window.history.back(),children:"Go Back"})})]}),e.jsx(q,{open:C,onOpenChange:h,children:e.jsxs(E,{className:"flex flex-col items-center",children:[e.jsx(V,{children:e.jsxs(F,{children:["QR Code for Room ",o," - ",t]})}),n&&e.jsx("div",{id:"modal-qr",className:"cursor-pointer",onClick:S,children:e.jsx(u,{value:n,size:256})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Click QR to copy link"}),v&&e.jsx("span",{className:"text-green-600 text-sm",children:"QR code path copied!"}),e.jsx("div",{className:"mt-1 flex gap-2",children:e.jsx(f,{onClick:k,children:"Download"})})]})})]})]})}export{Pe as default};
