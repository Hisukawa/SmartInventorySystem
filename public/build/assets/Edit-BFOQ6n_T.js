import{r as s,b as u,t as c,j as e,T as w,a as g,c as b}from"./app-CYpmiLdQ.js";import j from"./UpdatePasswordForm-C3WZr8WD.js";import v from"./UpdateProfileInformationForm-DX0gclfP.js";import N from"./UpdateProfilePhoto-CteRZSit.js";import"./TextInput-BnBx3JYS.js";import"./InputLabel-DoK-nTuI.js";import"./PrimaryButton-C0MZH5Tu.js";import"./button-Bev1z1IS.js";import"./index-BUKMZlh_.js";import"./utils-CBfrqCZ4.js";function y({title:t,titleId:r,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},i),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const k=s.forwardRef(y);function E({title:t,titleId:r,...i},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},i),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const F=s.forwardRef(E);function T({user:t,mustVerifyEmail:r,status:i}){const{props:o}=u(),[d,h]=s.useState(!1),[n,p]=s.useState(t?.face_recognition_enabled||!1),[a,x]=s.useState(0);s.useEffect(()=>{let l;return a>0&&(l=setTimeout(()=>x(a-1),1e3)),()=>clearTimeout(l)},[a]),s.useEffect(()=>{o.flash?.success&&c.success(o.flash.success)},[o.flash]);const f=async()=>{if(a>0){c.error(`Please wait ${a} seconds before toggling again.`);return}const l=n?route("face.deactivate"):route("face.reactivate");try{const{data:m}=await b.post(l);c.success(m.message||(n?"Face recognition disabled!":"Face recognition enabled!")),p(!n),x(20)}catch(m){c.error(m.response?.data?.message||"Action failed.")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[e.jsx(w,{position:"top-right"}),e.jsxs("header",{className:"bg-green-600 text-white flex justify-between items-center px-4 sm:px-8 py-3 shadow-md fixed top-0 left-0 w-full z-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-10 h-10 rounded-full"}),e.jsx("span",{className:"font-bold text-lg",children:"Smart Inventory"})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[t?.role==="admin"&&e.jsx("a",{href:"/admin/dashboard",className:"bg-white text-green-600 px-4 py-2 rounded-lg hover:bg-green-50 transition-all font-medium",children:"Dashboard"}),e.jsx("button",{onClick:()=>g.post(route("logout")),className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg text-white transition-all font-medium",children:"Logout"})]}),e.jsx("div",{className:"sm:hidden",children:e.jsx("button",{onClick:()=>h(!d),className:"p-2 rounded-md bg-green-700",children:d?e.jsx(F,{className:"w-6 h-6"}):e.jsx(k,{className:"w-6 h-6"})})})]}),d&&e.jsxs("div",{className:"sm:hidden bg-white shadow-lg absolute top-16 right-4 rounded-lg w-48 z-50",children:[e.jsx("button",{onClick:()=>g.post(route("logout")),className:"w-full text-left px-4 py-2 hover:bg-green-100 text-green-700 font-medium",children:"Logout"}),t?.role==="admin"&&e.jsx("a",{href:"/admin/dashboard",className:"block px-4 py-2 hover:bg-green-100 text-green-700 font-medium",children:"Dashboard"})]}),e.jsx("div",{className:"pt-20 py-12 flex justify-center px-4",children:e.jsx("div",{className:"max-w-3xl w-full space-y-6",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 flex flex-col md:flex-row gap-6 items-center md:items-start",children:[e.jsx("div",{className:"flex flex-col items-center gap-4 w-full md:w-auto",children:e.jsx(N,{user:t})}),e.jsxs("div",{className:"flex-1 w-full space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-green-700",children:t?.name}),e.jsx("p",{className:"text-gray-600",children:t?.email}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-2",children:[e.jsxs("button",{onClick:()=>g.visit(route("face.register.page")),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-green-50 text-green-700 hover:bg-green-100 transition-colors",children:[e.jsx("img",{src:"/icons/register-face.png",alt:"Register Face",className:"w-6 h-6"}),e.jsx("span",{className:"text-sm sm:text-xs",children:"Register"})]}),e.jsxs("button",{onClick:f,disabled:a>0,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${n?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"} ${a>0?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("img",{src:n?"/icons/active-face.png":"/icons/inactive-face.png",alt:n?"Active Face":"Inactive Face",className:"w-6 h-6"}),e.jsx("span",{className:"text-sm sm:text-xs",children:n?`Active${a>0?` (${a}s)`:""}`:`Inactive${a>0?` (${a}s)`:""}`})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:e.jsx(v,{mustVerifyEmail:r,status:i})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg shadow",children:e.jsx(j,{})})]})]})]})})})]})}export{T as default};
