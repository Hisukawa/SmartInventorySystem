import{r as m,j as e,H as M}from"./app-CZEqzDON.js";import{A as U}from"./app-sidebar-DoQjZ2xa.js";import{S as B,a as I,b as L,c as O}from"./avatar-B6uaZE-Y.js";import{B as N}from"./button-CBUIToy2.js";import{Q as u}from"./index-Wi7iKMlz.js";import{C as Q,b as $,c as H,a as T}from"./card-_Y5OdeRv.js";import{B as z,a as V,b as F,c as x,d as b}from"./breadcrumb-DHyVCmMc.js";import{D as q,a as E,b as P,c as G}from"./dialog-CXI8rQFV.js";import{Q as W}from"./qr-code-h4dZ5koh.js";import{B as K,T as X}from"./triangle-alert-7VNTQdeu.js";import{C as J}from"./cpu-c-WBAJdU.js";import{D as Y}from"./database-egoVOfoN.js";import{H as Z}from"./hard-drive-DL4NiND5.js";import{M as ee}from"./monitor-C8ZVZTw4.js";import{c as h}from"./createLucideIcon-li6t-wH6.js";import{I as l}from"./info-DLO1el1F.js";import{C as se}from"./circle-check-x_AYOg50.js";import{U as ae}from"./user-CIf3Hyn2.js";import"./dropdown-menu-Brn-WZSk.js";import"./index-L1E0g7Y1.js";import"./index-Bn4Ruw5_.js";import"./index-BzuzbQ2b.js";import"./index-A6-K-sNJ.js";import"./utils-CBfrqCZ4.js";import"./chevron-right-CRiodLOk.js";import"./house-CTzhYw7f.js";import"./log-out-CiCG_mrj.js";import"./keyboard-B2CHI556.js";import"./boxes-b1uY2e48.js";import"./users-DPJB3QLk.js";import"./chevron-down-BvTecHTF.js";import"./input-SiE2HZwx.js";import"./index-Btu2eeTf.js";import"./index-CU8x5ZiL.js";import"./index-CzjUTElq.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M11 9h4a2 2 0 0 0 2-2V3",key:"1ve2rv"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M7 21v-4a2 2 0 0 1 2-2h4",key:"1fwkro"}],["circle",{cx:"15",cy:"15",r:"2",key:"3i40o0"}]],re=h("circuit-board",te);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],ne=h("key-round",ie);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],le=h("laptop",oe),ce={Working:"bg-green-200 text-green-800","Not Working":"bg-red-200 text-red-800","Intermittent Issue":"bg-yellow-200 text-yellow-800","Needs Cleaning":"bg-blue-200 text-blue-800","For Replacement":"bg-orange-200 text-orange-800","For Disposal":"bg-gray-200 text-gray-800",Condemned:"bg-black text-white","Needs Repair":"bg-red-200 text-red-800","No Signal":"bg-red-200 text-red-800","Needs Configuration":"bg-blue-200 text-blue-800","Under Maintenance":"bg-blue-200 text-blue-900"};function Ke({unit:s}){const[i,w]=m.useState(null),[v,p]=m.useState(!1),[y,c]=m.useState(!1),n=s?.unit_code||"N/A",o=s?.room?.room_number||"N/A",C=s?.brand||"N/A",k=s?.model||"N/A",g=`${window.location.origin}/view/${s.unit_path}`,R=()=>{w(g),p(!0),c(!1)},S=async()=>{if(i)try{await navigator.clipboard.writeText(i),c(!0),setTimeout(()=>c(!1),2e3)}catch(a){console.error("Failed to copy: ",a)}},A=()=>{if(!i)return;const a=document.createElement("canvas"),j=document.querySelector("#modal-qr svg");if(!j)return;const _=new XMLSerializer().serializeToString(j),r=new Image,D=new Blob([_],{type:"image/svg+xml;charset=utf-8"}),f=URL.createObjectURL(D);r.onload=()=>{a.width=r.width+40,a.height=r.height+40+50;const t=a.getContext("2d");t.fillStyle="#fff",t.fillRect(0,0,a.width,a.height),t.drawImage(r,20,20),t.fillStyle="#000",t.font="bold 18px Arial",t.textAlign="center",t.fillText(`Room ${o} - ${n}`,a.width/2,r.height+20+30),URL.revokeObjectURL(f);const d=document.createElement("a");d.download=`ROOM-${o}_${n}.png`,d.href=a.toDataURL("image/png"),d.click()},r.src=f};return e.jsxs(B,{children:[e.jsx(U,{}),e.jsxs(I,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(L,{}),e.jsx(O,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(z,{children:e.jsx(V,{children:e.jsxs(F,{children:[e.jsx(x,{href:"#",children:"Assets"}),e.jsx(b,{}),e.jsx(x,{href:"/admin/system-units",children:"System Unit Lists"}),e.jsx(b,{}),e.jsx(x,{href:`/system-units/view/${s.unit_path}`,className:"font-semibold text-foreground",children:"View Unit"})]})})})]}),e.jsx(M,{title:`View ${n}`}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"System Unit Information"}),e.jsxs(Q,{className:"max-w-4xl mx-auto shadow-lg rounded-2xl",children:[e.jsx($,{className:"bg-[hsl(142,34%,51%)] text-white border-none hover:bg-[hsl(142,34%,45%)] text-center",children:e.jsx(H,{className:"text-lg",children:"Unit Details"})}),e.jsxs(T,{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 py-5 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Unit Code:"}),e.jsx("span",{children:n})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Room:"}),e.jsx("span",{children:o})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Processor:"}),e.jsx("span",{children:s?.processor||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"RAM:"}),e.jsx("span",{children:s?.ram||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Storage:"}),e.jsx("span",{children:s?.storage||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"GPU:"}),e.jsx("span",{children:s?.gpu||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Motherboard:"}),e.jsx("span",{children:s?.motherboard||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Serial Number:"}),e.jsx("span",{children:s?.serial_number||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Operating System:"}),e.jsx("span",{children:s?.operating_system||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Brand:"}),e.jsx("span",{children:C})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Model:"}),e.jsx("span",{children:k})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s?.condition==="Functional"?e.jsx(se,{className:"w-5 h-5 text-green-600"}):s?.condition==="Needs Repair"?e.jsx(X,{className:"w-5 h-5 text-yellow-600"}):e.jsx(l,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium",children:"Condition:"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce[s?.condition]||"bg-gray-200 text-gray-800"}`,children:s?.condition||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Condition Details:"}),e.jsx("span",{children:s?.condition_details||"No details"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Assigned Faculty (MR):"}),e.jsx("span",{children:s?.mr_to?.name||"N/A"})]})]}),e.jsxs("div",{className:"flex flex-col items-center py-6 bg-white rounded-b-2xl",children:[e.jsx("div",{className:"bg-white p-3 rounded-lg shadow cursor-pointer hover:shadow-lg transition",onClick:R,children:e.jsx(u,{value:g,size:128})}),e.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:"Scan to view public info"})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(N,{variant:"secondary",onClick:()=>window.history.back(),children:"Go Back"})})]}),e.jsx(q,{open:v,onOpenChange:p,children:e.jsxs(E,{className:"flex flex-col items-center",children:[e.jsx(P,{children:e.jsxs(G,{children:["QR Code for Room ",o," - ",n]})}),i&&e.jsx("div",{id:"modal-qr",className:"cursor-pointer",onClick:S,children:e.jsx(u,{value:i,size:256})}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Click QR to copy link"}),y&&e.jsx("span",{className:"text-green-600 text-sm",children:"QR code path copied!"}),e.jsx("div",{className:"mt-1 flex gap-2",children:e.jsx(N,{onClick:A,children:"Download"})})]})})]})]})}export{Ke as default};
