import{u as S,r as x,j as e,H as O}from"./app-DkGf-gG6.js";import{B as C}from"./button-C-Lh2kiR.js";import{C as w,c as B}from"./card-DtCmg6Zz.js";import{I as A}from"./input-CJF7s6Fz.js";import{L as d}from"./label-Bf4TtUzS.js";import{S as F,a as I,b as P,c as L}from"./avatar-Cxo7W_4z.js";import{A as M}from"./app-sidebar-B8j50-O2.js";import{c as D}from"./utils-LNzJWFRt.js";import{B as E,a as R,b as T,c as m,d as h}from"./breadcrumb-Be3_77Db.js";import"./index-D1I7Se4Z.js";import"./index-D66Z1uf-.js";import"./index-D3EkHIGx.js";import"./index-Cn2OHilm.js";import"./dropdown-menu-DGOxBBxc.js";import"./index-CBtaYz-4.js";import"./chevron-right-D1Az-IMd.js";import"./index-DI9StidY.js";import"./index-BrI_I4bq.js";import"./sparkles-CnWLDqDf.js";import"./bell-BnBfB9fC.js";import"./keyboard-B-LgnOYd.js";import"./boxes-D2FMkA3x.js";import"./users-BwdY4FdZ.js";import"./chevron-down-DW-xq2fZ.js";const b=[{label:"Functional",color:"bg-green-500"},{label:"Defective",color:"bg-red-500"},{label:"Under Maintenance",color:"bg-yellow-500"},{label:"Needs Upgrade",color:"bg-blue-500"},{label:"For Disposal",color:"bg-gray-500"}];function ne({existingRooms:n=[],existingUnits:p=[],existingBrands:j=[],existingModels:f=[]}){const{data:i,setData:s,post:v,processing:g,errors:t}=S({type:"",brand:"",model:"",serial_number:"",condition:"",room_id:"",unit_id:""}),_=r=>{const o=b.find(a=>a.label.toLowerCase()===r.toLowerCase());return o?o.color:"bg-muted"},[c,u]=x.useState([]);x.useEffect(()=>{if(i.room_id){const r=p.filter(o=>String(o.room_id)===String(i.room_id));u(r),r.find(o=>o.id===i.unit_id)||s("unit_id","")}else u([]),s("unit_id","")},[i.room_id,p]);function N(r){r.preventDefault(),v("/admin/peripherals")}return e.jsxs(F,{children:[e.jsx(O,{title:"Add Peripheral"}),e.jsx(M,{}),e.jsxs(I,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 border-b bg-white",children:[e.jsx(P,{}),e.jsx(L,{orientation:"vertical",className:"h-6 mx-3"}),e.jsx(E,{children:e.jsx(R,{children:e.jsxs(T,{children:[e.jsx(m,{href:"#",children:"Assets"}),e.jsx(h,{}),e.jsx(m,{href:"/admin/peripherals",children:"Peripherals"}),e.jsx(h,{}),e.jsx(m,{href:"/admin/peripherals/create",className:"font-semibold text-foreground",children:"Add Peripheral"})]})})})]}),e.jsxs("main",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-5 text-center",children:"Add Peripheral"}),e.jsx(w,{className:"max-w-xl mx-auto",children:e.jsx(B,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Type"}),e.jsx("input",{list:"typeOptions",value:i.type,onChange:r=>s("type",r.target.value),placeholder:"Select or type peripheral type",className:"w-full border rounded px-2 py-1"}),e.jsxs("datalist",{id:"typeOptions",children:[e.jsx("option",{value:"Mouse"}),e.jsx("option",{value:"Keyboard"})]}),t.type&&e.jsx("div",{className:"text-red-500 text-sm",children:t.type})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"room_number",children:"Room"}),e.jsx("input",{id:"room_number",list:"roomOptions",value:i.room_id?`ROOM ${n.find(r=>r.id===i.room_id)?.room_number}`:"",onChange:r=>{const o=r.target.value,a=o.startsWith("ROOM ")?o.slice(5):o,l=n.find(y=>String(y.room_number)===a);s("room_id",l?l.id:"")},placeholder:"Select or type room",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"roomOptions",children:n.map(r=>e.jsx("option",{value:`ROOM ${r.room_number}`},r.id))}),t.room_id&&e.jsx("div",{className:"text-red-500 text-sm",children:t.room_id})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Unit Code"}),e.jsx("input",{list:"unitOptions",value:i.unit_id&&c.find(r=>r.id===i.unit_id)?.unit_code||"",onChange:r=>{const o=r.target.value,a=c.find(l=>l.unit_code===o);s("unit_id",a?a.id:"")},placeholder:"Select or type unit code",className:"w-full border rounded px-2 py-1",disabled:!i.room_id}),e.jsx("datalist",{id:"unitOptions",children:c.map(r=>e.jsx("option",{value:r.unit_code},r.id))}),t.unit_id&&e.jsx("div",{className:"text-red-500 text-sm",children:t.unit_id})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Brand"}),e.jsx("input",{list:"brandOptions",value:i.brand,onChange:r=>s("brand",r.target.value),placeholder:"Select or type brand",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"brandOptions",children:j.map(r=>e.jsx("option",{value:r},r))}),t.brand&&e.jsx("div",{className:"text-red-500 text-sm",children:t.brand})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Model"}),e.jsx("input",{list:"modelOptions",value:i.model,onChange:r=>s("model",r.target.value),placeholder:"Select or type model",className:"w-full border rounded px-2 py-1"}),e.jsx("datalist",{id:"modelOptions",children:f.map(r=>e.jsx("option",{value:r},r))}),t.model&&e.jsx("div",{className:"text-red-500 text-sm",children:t.model})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Serial Number"}),e.jsx(A,{value:i.serial_number,onChange:r=>s("serial_number",r.target.value),placeholder:"Enter serial number",className:"w-full border rounded px-2 py-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"condition",children:"Condition"}),e.jsxs("select",{id:"condition",className:"w-full border rounded-md p-2",value:i.condition,onChange:r=>s("condition",r.target.value),children:[e.jsx("option",{value:"",children:"Select Condition"}),b.map(r=>e.jsx("option",{value:r.label,children:r.label},r.label))]}),i.condition&&e.jsxs("div",{className:"mt-1 text-sm flex items-center gap-2",children:[e.jsx("span",{className:D("inline-block w-3 h-3 rounded-full",_(i.condition))}),e.jsx("span",{className:"capitalize",children:i.condition})]}),t.condition&&e.jsx("p",{className:"text-sm text-red-500",children:t.condition})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(C,{type:"submit",disabled:g,className:"bg-[hsl(142,31%,51%)] hover:bg-[hsl(142,31%,45%)] text-white font-medium",children:"Submit"})})]})})})]})]})]})}export{ne as default};
